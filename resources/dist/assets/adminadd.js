var zy=Object.defineProperty;var Uy=(i,e,t)=>e in i?zy(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Yy=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var Yn=(i,e,t)=>Uy(i,typeof e!="symbol"?e+"":e,t);var _E=Yy((ZE,Cl)=>{function Th(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Am(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var s=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:function(){return i[a]}})}),t}var ul={exports:{}},jy=ul.exports,vp;function ci(){return vp||(vp=1,function(i,e){(function(t,a){i.exports=a()})(jy,function(){var t=navigator.userAgent,a=navigator.platform,s=/gecko\/\d/i.test(t),c=/MSIE \d/.test(t),h=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),g=/Edge\/(\d+)/.exec(t),b=c||h||g,D=b&&(c?document.documentMode||6:+(g||h)[1]),L=!g&&/WebKit\//.test(t),N=L&&/Qt\/\d+\.\d+/.test(t),W=!g&&/Chrome\/(\d+)/.exec(t),fe=W&&+W[1],Q=/Opera\//.test(t),ue=/Apple Computer/.test(navigator.vendor),ce=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),ge=/PhantomJS/.test(t),Z=ue&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),te=/Android/.test(t),ee=Z||te||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),ie=Z||/Mac/.test(a),ve=/\bCrOS\b/.test(t),de=/win/i.test(a),we=Q&&t.match(/Version\/(\d*\.\d*)/);we&&(we=Number(we[1])),we&&we>=15&&(Q=!1,L=!0);var Me=ie&&(N||Q&&(we==null||we<12.11)),ot=s||b&&D>=9;function Ee(n){return new RegExp("(^|\\s)"+n+"(?:$|\\s)\\s*")}var Ve=function(n,r){var l=n.className,o=Ee(r).exec(l);if(o){var u=l.slice(o.index+o[0].length);n.className=l.slice(0,o.index)+(u?o[1]+u:"")}};function Je(n){for(var r=n.childNodes.length;r>0;--r)n.removeChild(n.firstChild);return n}function it(n,r){return Je(n).appendChild(r)}function G(n,r,l,o){var u=document.createElement(n);if(l&&(u.className=l),o&&(u.style.cssText=o),typeof r=="string")u.appendChild(document.createTextNode(r));else if(r)for(var f=0;f<r.length;++f)u.appendChild(r[f]);return u}function le(n,r,l,o){var u=G(n,r,l,o);return u.setAttribute("role","presentation"),u}var M;document.createRange?M=function(n,r,l,o){var u=document.createRange();return u.setEnd(o||n,l),u.setStart(n,r),u}:M=function(n,r,l){var o=document.body.createTextRange();try{o.moveToElementText(n.parentNode)}catch{return o}return o.collapse(!0),o.moveEnd("character",l),o.moveStart("character",r),o};function k(n,r){if(r.nodeType==3&&(r=r.parentNode),n.contains)return n.contains(r);do if(r.nodeType==11&&(r=r.host),r==n)return!0;while(r=r.parentNode)}function E(n){var r=n.ownerDocument||n,l;try{l=n.activeElement}catch{l=r.body||null}for(;l&&l.shadowRoot&&l.shadowRoot.activeElement;)l=l.shadowRoot.activeElement;return l}function j(n,r){var l=n.className;Ee(r).test(l)||(n.className+=(l?" ":"")+r)}function I(n,r){for(var l=n.split(" "),o=0;o<l.length;o++)l[o]&&!Ee(l[o]).test(r)&&(r+=" "+l[o]);return r}var C=function(n){n.select()};Z?C=function(n){n.selectionStart=0,n.selectionEnd=n.value.length}:b&&(C=function(n){try{n.select()}catch{}});function v(n){return n.display.wrapper.ownerDocument}function R(n){return be(n.display.wrapper)}function be(n){return n.getRootNode?n.getRootNode():n.ownerDocument}function he(n){return v(n).defaultView}function De(n){var r=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,r)}}function He(n,r,l){r||(r={});for(var o in n)n.hasOwnProperty(o)&&(l!==!1||!r.hasOwnProperty(o))&&(r[o]=n[o]);return r}function Pe(n,r,l,o,u){r==null&&(r=n.search(/[^\s\u00a0]/),r==-1&&(r=n.length));for(var f=o||0,d=u||0;;){var m=n.indexOf("	",f);if(m<0||m>=r)return d+(r-f);d+=m-f,d+=l-d%l,f=m+1}}var Ue=function(){this.id=null,this.f=null,this.time=0,this.handler=De(this.onTimeout,this)};Ue.prototype.onTimeout=function(n){n.id=0,n.time<=+new Date?n.f():setTimeout(n.handler,n.time-+new Date)},Ue.prototype.set=function(n,r){this.f=r;var l=+new Date+n;(!this.id||l<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,n),this.time=l)};function $e(n,r){for(var l=0;l<n.length;++l)if(n[l]==r)return l;return-1}var rt=50,ht={toString:function(){return"CodeMirror.Pass"}},yt={scroll:!1},Le={origin:"*mouse"},xt={origin:"+move"};function At(n,r,l){for(var o=0,u=0;;){var f=n.indexOf("	",o);f==-1&&(f=n.length);var d=f-o;if(f==n.length||u+d>=r)return o+Math.min(d,r-u);if(u+=f-o,u+=l-u%l,o=f+1,u>=r)return o}}var Dt=[""];function Ut(n){for(;Dt.length<=n;)Dt.push(Ye(Dt)+" ");return Dt[n]}function Ye(n){return n[n.length-1]}function _t(n,r){for(var l=[],o=0;o<n.length;o++)l[o]=r(n[o],o);return l}function qt(n,r,l){for(var o=0,u=l(r);o<n.length&&l(n[o])<=u;)o++;n.splice(o,0,r)}function en(){}function oe(n,r){var l;return Object.create?l=Object.create(n):(en.prototype=n,l=new en),r&&He(r,l),l}var se=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function K(n){return/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||se.test(n))}function S(n,r){return r?r.source.indexOf("\\w")>-1&&K(n)?!0:r.test(n):K(n)}function A(n){for(var r in n)if(n.hasOwnProperty(r)&&n[r])return!1;return!0}var U=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function p(n){return n.charCodeAt(0)>=768&&U.test(n)}function x(n,r,l){for(;(l<0?r>0:r<n.length)&&p(n.charAt(r));)r+=l;return r}function _(n,r,l){for(var o=r>l?-1:1;;){if(r==l)return r;var u=(r+l)/2,f=o<0?Math.ceil(u):Math.floor(u);if(f==r)return n(f)?r:l;n(f)?l=f:r=f+o}}function B(n,r,l,o){if(!n)return o(r,l,"ltr",0);for(var u=!1,f=0;f<n.length;++f){var d=n[f];(d.from<l&&d.to>r||r==l&&d.to==r)&&(o(Math.max(d.from,r),Math.min(d.to,l),d.level==1?"rtl":"ltr",f),u=!0)}u||o(r,l,"ltr")}var z=null;function X(n,r,l){var o;z=null;for(var u=0;u<n.length;++u){var f=n[u];if(f.from<r&&f.to>r)return u;f.to==r&&(f.from!=f.to&&l=="before"?o=u:z=u),f.from==r&&(f.from!=f.to&&l!="before"?o=u:z=u)}return o??z}var V=function(){var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function l(w){return w<=247?n.charAt(w):1424<=w&&w<=1524?"R":1536<=w&&w<=1785?r.charAt(w-1536):1774<=w&&w<=2220?"r":8192<=w&&w<=8203?"w":w==8204?"b":"L"}var o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,u=/[stwN]/,f=/[LRr]/,d=/[Lb1n]/,m=/[1n]/;function y(w,O,P){this.level=w,this.from=O,this.to=P}return function(w,O){var P=O=="ltr"?"L":"R";if(w.length==0||O=="ltr"&&!o.test(w))return!1;for(var ae=w.length,J=[],pe=0;pe<ae;++pe)J.push(l(w.charCodeAt(pe)));for(var ye=0,Te=P;ye<ae;++ye){var Oe=J[ye];Oe=="m"?J[ye]=Te:Te=Oe}for(var ze=0,Ne=P;ze<ae;++ze){var qe=J[ze];qe=="1"&&Ne=="r"?J[ze]="n":f.test(qe)&&(Ne=qe,qe=="r"&&(J[ze]="R"))}for(var nt=1,et=J[0];nt<ae-1;++nt){var pt=J[nt];pt=="+"&&et=="1"&&J[nt+1]=="1"?J[nt]="1":pt==","&&et==J[nt+1]&&(et=="1"||et=="n")&&(J[nt]=et),et=pt}for(var Wt=0;Wt<ae;++Wt){var Cn=J[Wt];if(Cn==",")J[Wt]="N";else if(Cn=="%"){var Zt=void 0;for(Zt=Wt+1;Zt<ae&&J[Zt]=="%";++Zt);for(var Qn=Wt&&J[Wt-1]=="!"||Zt<ae&&J[Zt]=="1"?"1":"N",Wn=Wt;Wn<Zt;++Wn)J[Wn]=Qn;Wt=Zt-1}}for(var ln=0,zn=P;ln<ae;++ln){var En=J[ln];zn=="L"&&En=="1"?J[ln]="L":f.test(En)&&(zn=En)}for(var gn=0;gn<ae;++gn)if(u.test(J[gn])){var un=void 0;for(un=gn+1;un<ae&&u.test(J[un]);++un);for(var nn=(gn?J[gn-1]:P)=="L",Un=(un<ae?J[un]:P)=="L",Aa=nn==Un?nn?"L":"R":P,br=gn;br<un;++br)J[br]=Aa;gn=un-1}for(var Mn=[],Bi,kn=0;kn<ae;)if(d.test(J[kn])){var rc=kn;for(++kn;kn<ae&&d.test(J[kn]);++kn);Mn.push(new y(0,rc,kn))}else{var Xi=kn,Br=Mn.length,Hr=O=="rtl"?1:0;for(++kn;kn<ae&&J[kn]!="L";++kn);for(var _n=Xi;_n<kn;)if(m.test(J[_n])){Xi<_n&&(Mn.splice(Br,0,new y(1,Xi,_n)),Br+=Hr);var Sa=_n;for(++_n;_n<kn&&m.test(J[_n]);++_n);Mn.splice(Br,0,new y(2,Sa,_n)),Br+=Hr,Xi=_n}else++_n;Xi<kn&&Mn.splice(Br,0,new y(1,Xi,kn))}return O=="ltr"&&(Mn[0].level==1&&(Bi=w.match(/^\s+/))&&(Mn[0].from=Bi[0].length,Mn.unshift(new y(0,0,Bi[0].length))),Ye(Mn).level==1&&(Bi=w.match(/\s+$/))&&(Ye(Mn).to-=Bi[0].length,Mn.push(new y(0,ae-Bi[0].length,ae)))),O=="rtl"?Mn.reverse():Mn}}();function H(n,r){var l=n.order;return l==null&&(l=n.order=V(n.text,r)),l}var ne=[],$=function(n,r,l){if(n.addEventListener)n.addEventListener(r,l,!1);else if(n.attachEvent)n.attachEvent("on"+r,l);else{var o=n._handlers||(n._handlers={});o[r]=(o[r]||ne).concat(l)}};function ke(n,r){return n._handlers&&n._handlers[r]||ne}function _e(n,r,l){if(n.removeEventListener)n.removeEventListener(r,l,!1);else if(n.detachEvent)n.detachEvent("on"+r,l);else{var o=n._handlers,u=o&&o[r];if(u){var f=$e(u,l);f>-1&&(o[r]=u.slice(0,f).concat(u.slice(f+1)))}}}function Be(n,r){var l=ke(n,r);if(l.length)for(var o=Array.prototype.slice.call(arguments,2),u=0;u<l.length;++u)l[u].apply(null,o)}function Se(n,r,l){return typeof r=="string"&&(r={type:r,preventDefault:function(){this.defaultPrevented=!0}}),Be(n,l||r.type,n,r),Ae(r)||r.codemirrorIgnore}function T(n){var r=n._handlers&&n._handlers.cursorActivity;if(r)for(var l=n.curOp.cursorActivityHandlers||(n.curOp.cursorActivityHandlers=[]),o=0;o<r.length;++o)$e(l,r[o])==-1&&l.push(r[o])}function F(n,r){return ke(n,r).length>0}function Y(n){n.prototype.on=function(r,l){$(this,r,l)},n.prototype.off=function(r,l){_e(this,r,l)}}function re(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function xe(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}function Ae(n){return n.defaultPrevented!=null?n.defaultPrevented:n.returnValue==!1}function Xe(n){re(n),xe(n)}function Re(n){return n.target||n.srcElement}function Ze(n){var r=n.which;return r==null&&(n.button&1?r=1:n.button&2?r=3:n.button&4&&(r=2)),ie&&n.ctrlKey&&r==1&&(r=3),r}var Ge=function(){if(b&&D<9)return!1;var n=G("div");return"draggable"in n||"dragDrop"in n}(),tt;function St(n){if(tt==null){var r=G("span","​");it(n,G("span",[r,document.createTextNode("x")])),n.firstChild.offsetHeight!=0&&(tt=r.offsetWidth<=1&&r.offsetHeight>2&&!(b&&D<8))}var l=tt?G("span","​"):G("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return l.setAttribute("cm-text",""),l}var bn;function Pt(n){if(bn!=null)return bn;var r=it(n,document.createTextNode("AخA")),l=M(r,0,1).getBoundingClientRect(),o=M(r,1,2).getBoundingClientRect();return Je(n),!l||l.left==l.right?!1:bn=o.right-l.right<3}var Jn=`

b`.split(/\n/).length!=3?function(n){for(var r=0,l=[],o=n.length;r<=o;){var u=n.indexOf(`
`,r);u==-1&&(u=n.length);var f=n.slice(r,n.charAt(u-1)=="\r"?u-1:u),d=f.indexOf("\r");d!=-1?(l.push(f.slice(0,d)),r+=d+1):(l.push(f),r=u+1)}return l}:function(n){return n.split(/\r\n?|\n/)},ri=window.getSelection?function(n){try{return n.selectionStart!=n.selectionEnd}catch{return!1}}:function(n){var r;try{r=n.ownerDocument.selection.createRange()}catch{}return!r||r.parentElement()!=n?!1:r.compareEndPoints("StartToEnd",r)!=0},tn=function(){var n=G("div");return"oncopy"in n?!0:(n.setAttribute("oncopy","return;"),typeof n.oncopy=="function")}(),Tn=null;function Pn(n){if(Tn!=null)return Tn;var r=it(n,G("span","x")),l=r.getBoundingClientRect(),o=M(r,0,1).getBoundingClientRect();return Tn=Math.abs(l.left-o.left)>1}var q={},We={};function Ie(n,r){arguments.length>2&&(r.dependencies=Array.prototype.slice.call(arguments,2)),q[n]=r}function dt(n,r){We[n]=r}function bt(n){if(typeof n=="string"&&We.hasOwnProperty(n))n=We[n];else if(n&&typeof n.name=="string"&&We.hasOwnProperty(n.name)){var r=We[n.name];typeof r=="string"&&(r={name:r}),n=oe(r,n),n.name=r.name}else{if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(n))return bt("application/xml");if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(n))return bt("application/json")}return typeof n=="string"?{name:n}:n||{name:"null"}}function ut(n,r){r=bt(r);var l=q[r.name];if(!l)return ut(n,"text/plain");var o=l(n,r);if(Ht.hasOwnProperty(r.name)){var u=Ht[r.name];for(var f in u)u.hasOwnProperty(f)&&(o.hasOwnProperty(f)&&(o["_"+f]=o[f]),o[f]=u[f])}if(o.name=r.name,r.helperType&&(o.helperType=r.helperType),r.modeProps)for(var d in r.modeProps)o[d]=r.modeProps[d];return o}var Ht={};function xi(n,r){var l=Ht.hasOwnProperty(n)?Ht[n]:Ht[n]={};He(r,l)}function Sn(n,r){if(r===!0)return r;if(n.copyState)return n.copyState(r);var l={};for(var o in r){var u=r[o];u instanceof Array&&(u=u.concat([])),l[o]=u}return l}function yn(n,r){for(var l;n.innerMode&&(l=n.innerMode(r),!(!l||l.mode==n));)r=l.state,n=l.mode;return l||{mode:n,state:r}}function to(n,r,l){return n.startState?n.startState(r,l):!0}var Jt=function(n,r,l){this.pos=this.start=0,this.string=n,this.tabSize=r||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=l};Jt.prototype.eol=function(){return this.pos>=this.string.length},Jt.prototype.sol=function(){return this.pos==this.lineStart},Jt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Jt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Jt.prototype.eat=function(n){var r=this.string.charAt(this.pos),l;if(typeof n=="string"?l=r==n:l=r&&(n.test?n.test(r):n(r)),l)return++this.pos,r},Jt.prototype.eatWhile=function(n){for(var r=this.pos;this.eat(n););return this.pos>r},Jt.prototype.eatSpace=function(){for(var n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>n},Jt.prototype.skipToEnd=function(){this.pos=this.string.length},Jt.prototype.skipTo=function(n){var r=this.string.indexOf(n,this.pos);if(r>-1)return this.pos=r,!0},Jt.prototype.backUp=function(n){this.pos-=n},Jt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Pe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Pe(this.string,this.lineStart,this.tabSize):0)},Jt.prototype.indentation=function(){return Pe(this.string,null,this.tabSize)-(this.lineStart?Pe(this.string,this.lineStart,this.tabSize):0)},Jt.prototype.match=function(n,r,l){if(typeof n=="string"){var o=function(d){return l?d.toLowerCase():d},u=this.string.substr(this.pos,n.length);if(o(u)==o(n))return r!==!1&&(this.pos+=n.length),!0}else{var f=this.string.slice(this.pos).match(n);return f&&f.index>0?null:(f&&r!==!1&&(this.pos+=f[0].length),f)}},Jt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Jt.prototype.hideFirstChars=function(n,r){this.lineStart+=n;try{return r()}finally{this.lineStart-=n}},Jt.prototype.lookAhead=function(n){var r=this.lineOracle;return r&&r.lookAhead(n)},Jt.prototype.baseToken=function(){var n=this.lineOracle;return n&&n.baseToken(this.pos)};function Qe(n,r){if(r-=n.first,r<0||r>=n.size)throw new Error("There is no line "+(r+n.first)+" in the document.");for(var l=n;!l.lines;)for(var o=0;;++o){var u=l.children[o],f=u.chunkSize();if(r<f){l=u;break}r-=f}return l.lines[r]}function Tr(n,r,l){var o=[],u=r.line;return n.iter(r.line,l.line+1,function(f){var d=f.text;u==l.line&&(d=d.slice(0,l.ch)),u==r.line&&(d=d.slice(r.ch)),o.push(d),++u}),o}function uu(n,r,l){var o=[];return n.iter(r,l,function(u){o.push(u.text)}),o}function Oi(n,r){var l=r-n.height;if(l)for(var o=n;o;o=o.parent)o.height+=l}function Nt(n){if(n.parent==null)return null;for(var r=n.parent,l=$e(r.lines,n),o=r.parent;o;r=o,o=o.parent)for(var u=0;o.children[u]!=r;++u)l+=o.children[u].chunkSize();return l+r.first}function Lr(n,r){var l=n.first;e:do{for(var o=0;o<n.children.length;++o){var u=n.children[o],f=u.height;if(r<f){n=u;continue e}r-=f,l+=u.chunkSize()}return l}while(!n.lines);for(var d=0;d<n.lines.length;++d){var m=n.lines[d],y=m.height;if(r<y)break;r-=y}return l+d}function no(n,r){return r>=n.first&&r<n.first+n.size}function cu(n,r){return String(n.lineNumberFormatter(r+n.firstLineNumber))}function Ce(n,r,l){if(l===void 0&&(l=null),!(this instanceof Ce))return new Ce(n,r,l);this.line=n,this.ch=r,this.sticky=l}function st(n,r){return n.line-r.line||n.ch-r.ch}function hu(n,r){return n.sticky==r.sticky&&st(n,r)==0}function fu(n){return Ce(n.line,n.ch)}function bs(n,r){return st(n,r)<0?r:n}function ys(n,r){return st(n,r)<0?n:r}function bf(n,r){return Math.max(n.first,Math.min(r,n.first+n.size-1))}function lt(n,r){if(r.line<n.first)return Ce(n.first,0);var l=n.first+n.size-1;return r.line>l?Ce(l,Qe(n,l).text.length):U0(r,Qe(n,r.line).text.length)}function U0(n,r){var l=n.ch;return l==null||l>r?Ce(n.line,r):l<0?Ce(n.line,0):n}function yf(n,r){for(var l=[],o=0;o<r.length;o++)l[o]=lt(n,r[o]);return l}var xs=function(n,r){this.state=n,this.lookAhead=r},Ni=function(n,r,l,o){this.state=r,this.doc=n,this.line=l,this.maxLookAhead=o||0,this.baseTokens=null,this.baseTokenPos=1};Ni.prototype.lookAhead=function(n){var r=this.doc.getLine(this.line+n);return r!=null&&n>this.maxLookAhead&&(this.maxLookAhead=n),r},Ni.prototype.baseToken=function(n){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=n;)this.baseTokenPos+=2;var r=this.baseTokens[this.baseTokenPos+1];return{type:r&&r.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}},Ni.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ni.fromSaved=function(n,r,l){return r instanceof xs?new Ni(n,Sn(n.mode,r.state),l,r.lookAhead):new Ni(n,Sn(n.mode,r),l)},Ni.prototype.save=function(n){var r=n!==!1?Sn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new xs(r,this.maxLookAhead):r};function xf(n,r,l,o){var u=[n.state.modeGen],f={};Sf(n,r.text,n.doc.mode,l,function(w,O){return u.push(w,O)},f,o);for(var d=l.state,m=function(w){l.baseTokens=u;var O=n.state.overlays[w],P=1,ae=0;l.state=!0,Sf(n,r.text,O.mode,l,function(J,pe){for(var ye=P;ae<J;){var Te=u[P];Te>J&&u.splice(P,1,J,u[P+1],Te),P+=2,ae=Math.min(J,Te)}if(pe)if(O.opaque)u.splice(ye,P-ye,J,"overlay "+pe),P=ye+2;else for(;ye<P;ye+=2){var Oe=u[ye+1];u[ye+1]=(Oe?Oe+" ":"")+"overlay "+pe}},f),l.state=d,l.baseTokens=null,l.baseTokenPos=1},y=0;y<n.state.overlays.length;++y)m(y);return{styles:u,classes:f.bgClass||f.textClass?f:null}}function wf(n,r,l){if(!r.styles||r.styles[0]!=n.state.modeGen){var o=io(n,Nt(r)),u=r.text.length>n.options.maxHighlightLength&&Sn(n.doc.mode,o.state),f=xf(n,r,o);u&&(o.state=u),r.stateAfter=o.save(!u),r.styles=f.styles,f.classes?r.styleClasses=f.classes:r.styleClasses&&(r.styleClasses=null),l===n.doc.highlightFrontier&&(n.doc.modeFrontier=Math.max(n.doc.modeFrontier,++n.doc.highlightFrontier))}return r.styles}function io(n,r,l){var o=n.doc,u=n.display;if(!o.mode.startState)return new Ni(o,!0,r);var f=Y0(n,r,l),d=f>o.first&&Qe(o,f-1).stateAfter,m=d?Ni.fromSaved(o,d,f):new Ni(o,to(o.mode),f);return o.iter(f,r,function(y){du(n,y.text,m);var w=m.line;y.stateAfter=w==r-1||w%5==0||w>=u.viewFrom&&w<u.viewTo?m.save():null,m.nextLine()}),l&&(o.modeFrontier=m.line),m}function du(n,r,l,o){var u=n.doc.mode,f=new Jt(r,n.options.tabSize,l);for(f.start=f.pos=o||0,r==""&&Df(u,l.state);!f.eol();)pu(u,f,l.state),f.start=f.pos}function Df(n,r){if(n.blankLine)return n.blankLine(r);if(n.innerMode){var l=yn(n,r);if(l.mode.blankLine)return l.mode.blankLine(l.state)}}function pu(n,r,l,o){for(var u=0;u<10;u++){o&&(o[0]=yn(n,l).mode);var f=n.token(r,l);if(r.pos>r.start)return f}throw new Error("Mode "+n.name+" failed to advance stream.")}var Cf=function(n,r,l){this.start=n.start,this.end=n.pos,this.string=n.current(),this.type=r||null,this.state=l};function kf(n,r,l,o){var u=n.doc,f=u.mode,d;r=lt(u,r);var m=Qe(u,r.line),y=io(n,r.line,l),w=new Jt(m.text,n.options.tabSize,y),O;for(o&&(O=[]);(o||w.pos<r.ch)&&!w.eol();)w.start=w.pos,d=pu(f,w,y.state),o&&O.push(new Cf(w,d,Sn(u.mode,y.state)));return o?O:new Cf(w,d,y.state)}function Af(n,r){if(n)for(;;){var l=n.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!l)break;n=n.slice(0,l.index)+n.slice(l.index+l[0].length);var o=l[1]?"bgClass":"textClass";r[o]==null?r[o]=l[2]:new RegExp("(?:^|\\s)"+l[2]+"(?:$|\\s)").test(r[o])||(r[o]+=" "+l[2])}return n}function Sf(n,r,l,o,u,f,d){var m=l.flattenSpans;m==null&&(m=n.options.flattenSpans);var y=0,w=null,O=new Jt(r,n.options.tabSize,o),P,ae=n.options.addModeClass&&[null];for(r==""&&Af(Df(l,o.state),f);!O.eol();){if(O.pos>n.options.maxHighlightLength?(m=!1,d&&du(n,r,o,O.pos),O.pos=r.length,P=null):P=Af(pu(l,O,o.state,ae),f),ae){var J=ae[0].name;J&&(P="m-"+(P?J+" "+P:J))}if(!m||w!=P){for(;y<O.start;)y=Math.min(O.start,y+5e3),u(y,w);w=P}O.start=O.pos}for(;y<O.pos;){var pe=Math.min(O.pos,y+5e3);u(pe,w),y=pe}}function Y0(n,r,l){for(var o,u,f=n.doc,d=l?-1:r-(n.doc.mode.innerMode?1e3:100),m=r;m>d;--m){if(m<=f.first)return f.first;var y=Qe(f,m-1),w=y.stateAfter;if(w&&(!l||m+(w instanceof xs?w.lookAhead:0)<=f.modeFrontier))return m;var O=Pe(y.text,null,n.options.tabSize);(u==null||o>O)&&(u=m-1,o=O)}return u}function j0(n,r){if(n.modeFrontier=Math.min(n.modeFrontier,r),!(n.highlightFrontier<r-10)){for(var l=n.first,o=r-1;o>l;o--){var u=Qe(n,o).stateAfter;if(u&&(!(u instanceof xs)||o+u.lookAhead<r)){l=o+1;break}}n.highlightFrontier=Math.min(n.highlightFrontier,l)}}var Ef=!1,qi=!1;function q0(){Ef=!0}function V0(){qi=!0}function ws(n,r,l){this.marker=n,this.from=r,this.to=l}function ro(n,r){if(n)for(var l=0;l<n.length;++l){var o=n[l];if(o.marker==r)return o}}function G0(n,r){for(var l,o=0;o<n.length;++o)n[o]!=r&&(l||(l=[])).push(n[o]);return l}function $0(n,r,l){var o=l&&window.WeakSet&&(l.markedSpans||(l.markedSpans=new WeakSet));o&&n.markedSpans&&o.has(n.markedSpans)?n.markedSpans.push(r):(n.markedSpans=n.markedSpans?n.markedSpans.concat([r]):[r],o&&o.add(n.markedSpans)),r.marker.attachLine(n)}function K0(n,r,l){var o;if(n)for(var u=0;u<n.length;++u){var f=n[u],d=f.marker,m=f.from==null||(d.inclusiveLeft?f.from<=r:f.from<r);if(m||f.from==r&&d.type=="bookmark"&&(!l||!f.marker.insertLeft)){var y=f.to==null||(d.inclusiveRight?f.to>=r:f.to>r);(o||(o=[])).push(new ws(d,f.from,y?null:f.to))}}return o}function X0(n,r,l){var o;if(n)for(var u=0;u<n.length;++u){var f=n[u],d=f.marker,m=f.to==null||(d.inclusiveRight?f.to>=r:f.to>r);if(m||f.from==r&&d.type=="bookmark"&&(!l||f.marker.insertLeft)){var y=f.from==null||(d.inclusiveLeft?f.from<=r:f.from<r);(o||(o=[])).push(new ws(d,y?null:f.from-r,f.to==null?null:f.to-r))}}return o}function gu(n,r){if(r.full)return null;var l=no(n,r.from.line)&&Qe(n,r.from.line).markedSpans,o=no(n,r.to.line)&&Qe(n,r.to.line).markedSpans;if(!l&&!o)return null;var u=r.from.ch,f=r.to.ch,d=st(r.from,r.to)==0,m=K0(l,u,d),y=X0(o,f,d),w=r.text.length==1,O=Ye(r.text).length+(w?u:0);if(m)for(var P=0;P<m.length;++P){var ae=m[P];if(ae.to==null){var J=ro(y,ae.marker);J?w&&(ae.to=J.to==null?null:J.to+O):ae.to=u}}if(y)for(var pe=0;pe<y.length;++pe){var ye=y[pe];if(ye.to!=null&&(ye.to+=O),ye.from==null){var Te=ro(m,ye.marker);Te||(ye.from=O,w&&(m||(m=[])).push(ye))}else ye.from+=O,w&&(m||(m=[])).push(ye)}m&&(m=Tf(m)),y&&y!=m&&(y=Tf(y));var Oe=[m];if(!w){var ze=r.text.length-2,Ne;if(ze>0&&m)for(var qe=0;qe<m.length;++qe)m[qe].to==null&&(Ne||(Ne=[])).push(new ws(m[qe].marker,null,null));for(var nt=0;nt<ze;++nt)Oe.push(Ne);Oe.push(y)}return Oe}function Tf(n){for(var r=0;r<n.length;++r){var l=n[r];l.from!=null&&l.from==l.to&&l.marker.clearWhenEmpty!==!1&&n.splice(r--,1)}return n.length?n:null}function J0(n,r,l){var o=null;if(n.iter(r.line,l.line+1,function(J){if(J.markedSpans)for(var pe=0;pe<J.markedSpans.length;++pe){var ye=J.markedSpans[pe].marker;ye.readOnly&&(!o||$e(o,ye)==-1)&&(o||(o=[])).push(ye)}}),!o)return null;for(var u=[{from:r,to:l}],f=0;f<o.length;++f)for(var d=o[f],m=d.find(0),y=0;y<u.length;++y){var w=u[y];if(!(st(w.to,m.from)<0||st(w.from,m.to)>0)){var O=[y,1],P=st(w.from,m.from),ae=st(w.to,m.to);(P<0||!d.inclusiveLeft&&!P)&&O.push({from:w.from,to:m.from}),(ae>0||!d.inclusiveRight&&!ae)&&O.push({from:m.to,to:w.to}),u.splice.apply(u,O),y+=O.length-3}}return u}function Lf(n){var r=n.markedSpans;if(r){for(var l=0;l<r.length;++l)r[l].marker.detachLine(n);n.markedSpans=null}}function Mf(n,r){if(r){for(var l=0;l<r.length;++l)r[l].marker.attachLine(n);n.markedSpans=r}}function Ds(n){return n.inclusiveLeft?-1:0}function Cs(n){return n.inclusiveRight?1:0}function mu(n,r){var l=n.lines.length-r.lines.length;if(l!=0)return l;var o=n.find(),u=r.find(),f=st(o.from,u.from)||Ds(n)-Ds(r);if(f)return-f;var d=st(o.to,u.to)||Cs(n)-Cs(r);return d||r.id-n.id}function Ff(n,r){var l=qi&&n.markedSpans,o;if(l)for(var u=void 0,f=0;f<l.length;++f)u=l[f],u.marker.collapsed&&(r?u.from:u.to)==null&&(!o||mu(o,u.marker)<0)&&(o=u.marker);return o}function _f(n){return Ff(n,!0)}function ks(n){return Ff(n,!1)}function Z0(n,r){var l=qi&&n.markedSpans,o;if(l)for(var u=0;u<l.length;++u){var f=l[u];f.marker.collapsed&&(f.from==null||f.from<r)&&(f.to==null||f.to>r)&&(!o||mu(o,f.marker)<0)&&(o=f.marker)}return o}function Rf(n,r,l,o,u){var f=Qe(n,r),d=qi&&f.markedSpans;if(d)for(var m=0;m<d.length;++m){var y=d[m];if(y.marker.collapsed){var w=y.marker.find(0),O=st(w.from,l)||Ds(y.marker)-Ds(u),P=st(w.to,o)||Cs(y.marker)-Cs(u);if(!(O>=0&&P<=0||O<=0&&P>=0)&&(O<=0&&(y.marker.inclusiveRight&&u.inclusiveLeft?st(w.to,l)>=0:st(w.to,l)>0)||O>=0&&(y.marker.inclusiveRight&&u.inclusiveLeft?st(w.from,o)<=0:st(w.from,o)<0)))return!0}}}function wi(n){for(var r;r=_f(n);)n=r.find(-1,!0).line;return n}function Q0(n){for(var r;r=ks(n);)n=r.find(1,!0).line;return n}function eb(n){for(var r,l;r=ks(n);)n=r.find(1,!0).line,(l||(l=[])).push(n);return l}function vu(n,r){var l=Qe(n,r),o=wi(l);return l==o?r:Nt(o)}function Of(n,r){if(r>n.lastLine())return r;var l=Qe(n,r),o;if(!cr(n,l))return r;for(;o=ks(l);)l=o.find(1,!0).line;return Nt(l)+1}function cr(n,r){var l=qi&&r.markedSpans;if(l){for(var o=void 0,u=0;u<l.length;++u)if(o=l[u],!!o.marker.collapsed){if(o.from==null)return!0;if(!o.marker.widgetNode&&o.from==0&&o.marker.inclusiveLeft&&bu(n,r,o))return!0}}}function bu(n,r,l){if(l.to==null){var o=l.marker.find(1,!0);return bu(n,o.line,ro(o.line.markedSpans,l.marker))}if(l.marker.inclusiveRight&&l.to==r.text.length)return!0;for(var u=void 0,f=0;f<r.markedSpans.length;++f)if(u=r.markedSpans[f],u.marker.collapsed&&!u.marker.widgetNode&&u.from==l.to&&(u.to==null||u.to!=l.from)&&(u.marker.inclusiveLeft||l.marker.inclusiveRight)&&bu(n,r,u))return!0}function Vi(n){n=wi(n);for(var r=0,l=n.parent,o=0;o<l.lines.length;++o){var u=l.lines[o];if(u==n)break;r+=u.height}for(var f=l.parent;f;l=f,f=l.parent)for(var d=0;d<f.children.length;++d){var m=f.children[d];if(m==l)break;r+=m.height}return r}function As(n){if(n.height==0)return 0;for(var r=n.text.length,l,o=n;l=_f(o);){var u=l.find(0,!0);o=u.from.line,r+=u.from.ch-u.to.ch}for(o=n;l=ks(o);){var f=l.find(0,!0);r-=o.text.length-f.from.ch,o=f.to.line,r+=o.text.length-f.to.ch}return r}function yu(n){var r=n.display,l=n.doc;r.maxLine=Qe(l,l.first),r.maxLineLength=As(r.maxLine),r.maxLineChanged=!0,l.iter(function(o){var u=As(o);u>r.maxLineLength&&(r.maxLineLength=u,r.maxLine=o)})}var la=function(n,r,l){this.text=n,Mf(this,r),this.height=l?l(this):1};la.prototype.lineNo=function(){return Nt(this)},Y(la);function tb(n,r,l,o){n.text=r,n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null),n.order!=null&&(n.order=null),Lf(n),Mf(n,l);var u=o?o(n):1;u!=n.height&&Oi(n,u)}function nb(n){n.parent=null,Lf(n)}var ib={},rb={};function Nf(n,r){if(!n||/^\s*$/.test(n))return null;var l=r.addModeClass?rb:ib;return l[n]||(l[n]=n.replace(/\S+/g,"cm-$&"))}function If(n,r){var l=le("span",null,null,L?"padding-right: .1px":null),o={pre:le("pre",[l],"CodeMirror-line"),content:l,col:0,pos:0,cm:n,trailingSpace:!1,splitSpaces:n.getOption("lineWrapping")};r.measure={};for(var u=0;u<=(r.rest?r.rest.length:0);u++){var f=u?r.rest[u-1]:r.line,d=void 0;o.pos=0,o.addToken=ob,Pt(n.display.measure)&&(d=H(f,n.doc.direction))&&(o.addToken=lb(o.addToken,d)),o.map=[];var m=r!=n.display.externalMeasured&&Nt(f);ub(f,o,wf(n,f,m)),f.styleClasses&&(f.styleClasses.bgClass&&(o.bgClass=I(f.styleClasses.bgClass,o.bgClass||"")),f.styleClasses.textClass&&(o.textClass=I(f.styleClasses.textClass,o.textClass||""))),o.map.length==0&&o.map.push(0,0,o.content.appendChild(St(n.display.measure))),u==0?(r.measure.map=o.map,r.measure.cache={}):((r.measure.maps||(r.measure.maps=[])).push(o.map),(r.measure.caches||(r.measure.caches=[])).push({}))}if(L){var y=o.content.lastChild;(/\bcm-tab\b/.test(y.className)||y.querySelector&&y.querySelector(".cm-tab"))&&(o.content.className="cm-tab-wrap-hack")}return Be(n,"renderLine",n,r.line,o.pre),o.pre.className&&(o.textClass=I(o.pre.className,o.textClass||"")),o}function ab(n){var r=G("span","•","cm-invalidchar");return r.title="\\u"+n.charCodeAt(0).toString(16),r.setAttribute("aria-label",r.title),r}function ob(n,r,l,o,u,f,d){if(r){var m=n.splitSpaces?sb(r,n.trailingSpace):r,y=n.cm.state.specialChars,w=!1,O;if(!y.test(r))n.col+=r.length,O=document.createTextNode(m),n.map.push(n.pos,n.pos+r.length,O),b&&D<9&&(w=!0),n.pos+=r.length;else{O=document.createDocumentFragment();for(var P=0;;){y.lastIndex=P;var ae=y.exec(r),J=ae?ae.index-P:r.length-P;if(J){var pe=document.createTextNode(m.slice(P,P+J));b&&D<9?O.appendChild(G("span",[pe])):O.appendChild(pe),n.map.push(n.pos,n.pos+J,pe),n.col+=J,n.pos+=J}if(!ae)break;P+=J+1;var ye=void 0;if(ae[0]=="	"){var Te=n.cm.options.tabSize,Oe=Te-n.col%Te;ye=O.appendChild(G("span",Ut(Oe),"cm-tab")),ye.setAttribute("role","presentation"),ye.setAttribute("cm-text","	"),n.col+=Oe}else ae[0]=="\r"||ae[0]==`
`?(ye=O.appendChild(G("span",ae[0]=="\r"?"␍":"␤","cm-invalidchar")),ye.setAttribute("cm-text",ae[0]),n.col+=1):(ye=n.cm.options.specialCharPlaceholder(ae[0]),ye.setAttribute("cm-text",ae[0]),b&&D<9?O.appendChild(G("span",[ye])):O.appendChild(ye),n.col+=1);n.map.push(n.pos,n.pos+1,ye),n.pos++}}if(n.trailingSpace=m.charCodeAt(r.length-1)==32,l||o||u||w||f||d){var ze=l||"";o&&(ze+=o),u&&(ze+=u);var Ne=G("span",[O],ze,f);if(d)for(var qe in d)d.hasOwnProperty(qe)&&qe!="style"&&qe!="class"&&Ne.setAttribute(qe,d[qe]);return n.content.appendChild(Ne)}n.content.appendChild(O)}}function sb(n,r){if(n.length>1&&!/  /.test(n))return n;for(var l=r,o="",u=0;u<n.length;u++){var f=n.charAt(u);f==" "&&l&&(u==n.length-1||n.charCodeAt(u+1)==32)&&(f=" "),o+=f,l=f==" "}return o}function lb(n,r){return function(l,o,u,f,d,m,y){u=u?u+" cm-force-border":"cm-force-border";for(var w=l.pos,O=w+o.length;;){for(var P=void 0,ae=0;ae<r.length&&(P=r[ae],!(P.to>w&&P.from<=w));ae++);if(P.to>=O)return n(l,o,u,f,d,m,y);n(l,o.slice(0,P.to-w),u,f,null,m,y),f=null,o=o.slice(P.to-w),w=P.to}}}function Pf(n,r,l,o){var u=!o&&l.widgetNode;u&&n.map.push(n.pos,n.pos+r,u),!o&&n.cm.display.input.needsContentAttribute&&(u||(u=n.content.appendChild(document.createElement("span"))),u.setAttribute("cm-marker",l.id)),u&&(n.cm.display.input.setUneditable(u),n.content.appendChild(u)),n.pos+=r,n.trailingSpace=!1}function ub(n,r,l){var o=n.markedSpans,u=n.text,f=0;if(!o){for(var d=1;d<l.length;d+=2)r.addToken(r,u.slice(f,f=l[d]),Nf(l[d+1],r.cm.options));return}for(var m=u.length,y=0,w=1,O="",P,ae,J=0,pe,ye,Te,Oe,ze;;){if(J==y){pe=ye=Te=ae="",ze=null,Oe=null,J=1/0;for(var Ne=[],qe=void 0,nt=0;nt<o.length;++nt){var et=o[nt],pt=et.marker;if(pt.type=="bookmark"&&et.from==y&&pt.widgetNode)Ne.push(pt);else if(et.from<=y&&(et.to==null||et.to>y||pt.collapsed&&et.to==y&&et.from==y)){if(et.to!=null&&et.to!=y&&J>et.to&&(J=et.to,ye=""),pt.className&&(pe+=" "+pt.className),pt.css&&(ae=(ae?ae+";":"")+pt.css),pt.startStyle&&et.from==y&&(Te+=" "+pt.startStyle),pt.endStyle&&et.to==J&&(qe||(qe=[])).push(pt.endStyle,et.to),pt.title&&((ze||(ze={})).title=pt.title),pt.attributes)for(var Wt in pt.attributes)(ze||(ze={}))[Wt]=pt.attributes[Wt];pt.collapsed&&(!Oe||mu(Oe.marker,pt)<0)&&(Oe=et)}else et.from>y&&J>et.from&&(J=et.from)}if(qe)for(var Cn=0;Cn<qe.length;Cn+=2)qe[Cn+1]==J&&(ye+=" "+qe[Cn]);if(!Oe||Oe.from==y)for(var Zt=0;Zt<Ne.length;++Zt)Pf(r,0,Ne[Zt]);if(Oe&&(Oe.from||0)==y){if(Pf(r,(Oe.to==null?m+1:Oe.to)-y,Oe.marker,Oe.from==null),Oe.to==null)return;Oe.to==y&&(Oe=!1)}}if(y>=m)break;for(var Qn=Math.min(m,J);;){if(O){var Wn=y+O.length;if(!Oe){var ln=Wn>Qn?O.slice(0,Qn-y):O;r.addToken(r,ln,P?P+pe:pe,Te,y+ln.length==J?ye:"",ae,ze)}if(Wn>=Qn){O=O.slice(Qn-y),y=Qn;break}y=Wn,Te=""}O=u.slice(f,f=l[w++]),P=Nf(l[w++],r.cm.options)}}}function Bf(n,r,l){this.line=r,this.rest=eb(r),this.size=this.rest?Nt(Ye(this.rest))-l+1:1,this.node=this.text=null,this.hidden=cr(n,r)}function Ss(n,r,l){for(var o=[],u,f=r;f<l;f=u){var d=new Bf(n.doc,Qe(n.doc,f),f);u=f+d.size,o.push(d)}return o}var ua=null;function cb(n){ua?ua.ops.push(n):n.ownsGroup=ua={ops:[n],delayedCallbacks:[]}}function hb(n){var r=n.delayedCallbacks,l=0;do{for(;l<r.length;l++)r[l].call(null);for(var o=0;o<n.ops.length;o++){var u=n.ops[o];if(u.cursorActivityHandlers)for(;u.cursorActivityCalled<u.cursorActivityHandlers.length;)u.cursorActivityHandlers[u.cursorActivityCalled++].call(null,u.cm)}}while(l<r.length)}function fb(n,r){var l=n.ownsGroup;if(l)try{hb(l)}finally{ua=null,r(l)}}var ao=null;function xn(n,r){var l=ke(n,r);if(l.length){var o=Array.prototype.slice.call(arguments,2),u;ua?u=ua.delayedCallbacks:ao?u=ao:(u=ao=[],setTimeout(db,0));for(var f=function(m){u.push(function(){return l[m].apply(null,o)})},d=0;d<l.length;++d)f(d)}}function db(){var n=ao;ao=null;for(var r=0;r<n.length;++r)n[r]()}function Hf(n,r,l,o){for(var u=0;u<r.changes.length;u++){var f=r.changes[u];f=="text"?gb(n,r):f=="gutter"?zf(n,r,l,o):f=="class"?xu(n,r):f=="widget"&&mb(n,r,o)}r.changes=null}function oo(n){return n.node==n.text&&(n.node=G("div",null,null,"position: relative"),n.text.parentNode&&n.text.parentNode.replaceChild(n.node,n.text),n.node.appendChild(n.text),b&&D<8&&(n.node.style.zIndex=2)),n.node}function pb(n,r){var l=r.bgClass?r.bgClass+" "+(r.line.bgClass||""):r.line.bgClass;if(l&&(l+=" CodeMirror-linebackground"),r.background)l?r.background.className=l:(r.background.parentNode.removeChild(r.background),r.background=null);else if(l){var o=oo(r);r.background=o.insertBefore(G("div",null,l),o.firstChild),n.display.input.setUneditable(r.background)}}function Wf(n,r){var l=n.display.externalMeasured;return l&&l.line==r.line?(n.display.externalMeasured=null,r.measure=l.measure,l.built):If(n,r)}function gb(n,r){var l=r.text.className,o=Wf(n,r);r.text==r.node&&(r.node=o.pre),r.text.parentNode.replaceChild(o.pre,r.text),r.text=o.pre,o.bgClass!=r.bgClass||o.textClass!=r.textClass?(r.bgClass=o.bgClass,r.textClass=o.textClass,xu(n,r)):l&&(r.text.className=l)}function xu(n,r){pb(n,r),r.line.wrapClass?oo(r).className=r.line.wrapClass:r.node!=r.text&&(r.node.className="");var l=r.textClass?r.textClass+" "+(r.line.textClass||""):r.line.textClass;r.text.className=l||""}function zf(n,r,l,o){if(r.gutter&&(r.node.removeChild(r.gutter),r.gutter=null),r.gutterBackground&&(r.node.removeChild(r.gutterBackground),r.gutterBackground=null),r.line.gutterClass){var u=oo(r);r.gutterBackground=G("div",null,"CodeMirror-gutter-background "+r.line.gutterClass,"left: "+(n.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px; width: "+o.gutterTotalWidth+"px"),n.display.input.setUneditable(r.gutterBackground),u.insertBefore(r.gutterBackground,r.text)}var f=r.line.gutterMarkers;if(n.options.lineNumbers||f){var d=oo(r),m=r.gutter=G("div",null,"CodeMirror-gutter-wrapper","left: "+(n.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px");if(m.setAttribute("aria-hidden","true"),n.display.input.setUneditable(m),d.insertBefore(m,r.text),r.line.gutterClass&&(m.className+=" "+r.line.gutterClass),n.options.lineNumbers&&(!f||!f["CodeMirror-linenumbers"])&&(r.lineNumber=m.appendChild(G("div",cu(n.options,l),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+o.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+n.display.lineNumInnerWidth+"px"))),f)for(var y=0;y<n.display.gutterSpecs.length;++y){var w=n.display.gutterSpecs[y].className,O=f.hasOwnProperty(w)&&f[w];O&&m.appendChild(G("div",[O],"CodeMirror-gutter-elt","left: "+o.gutterLeft[w]+"px; width: "+o.gutterWidth[w]+"px"))}}}function mb(n,r,l){r.alignable&&(r.alignable=null);for(var o=Ee("CodeMirror-linewidget"),u=r.node.firstChild,f=void 0;u;u=f)f=u.nextSibling,o.test(u.className)&&r.node.removeChild(u);Uf(n,r,l)}function vb(n,r,l,o){var u=Wf(n,r);return r.text=r.node=u.pre,u.bgClass&&(r.bgClass=u.bgClass),u.textClass&&(r.textClass=u.textClass),xu(n,r),zf(n,r,l,o),Uf(n,r,o),r.node}function Uf(n,r,l){if(Yf(n,r.line,r,l,!0),r.rest)for(var o=0;o<r.rest.length;o++)Yf(n,r.rest[o],r,l,!1)}function Yf(n,r,l,o,u){if(r.widgets)for(var f=oo(l),d=0,m=r.widgets;d<m.length;++d){var y=m[d],w=G("div",[y.node],"CodeMirror-linewidget"+(y.className?" "+y.className:""));y.handleMouseEvents||w.setAttribute("cm-ignore-events","true"),bb(y,w,l,o),n.display.input.setUneditable(w),u&&y.above?f.insertBefore(w,l.gutter||l.text):f.appendChild(w),xn(y,"redraw")}}function bb(n,r,l,o){if(n.noHScroll){(l.alignable||(l.alignable=[])).push(r);var u=o.wrapperWidth;r.style.left=o.fixedPos+"px",n.coverGutter||(u-=o.gutterTotalWidth,r.style.paddingLeft=o.gutterTotalWidth+"px"),r.style.width=u+"px"}n.coverGutter&&(r.style.zIndex=5,r.style.position="relative",n.noHScroll||(r.style.marginLeft=-o.gutterTotalWidth+"px"))}function so(n){if(n.height!=null)return n.height;var r=n.doc.cm;if(!r)return 0;if(!k(document.body,n.node)){var l="position: relative;";n.coverGutter&&(l+="margin-left: -"+r.display.gutters.offsetWidth+"px;"),n.noHScroll&&(l+="width: "+r.display.wrapper.clientWidth+"px;"),it(r.display.measure,G("div",[n.node],null,l))}return n.height=n.node.parentNode.offsetHeight}function Gi(n,r){for(var l=Re(r);l!=n.wrapper;l=l.parentNode)if(!l||l.nodeType==1&&l.getAttribute("cm-ignore-events")=="true"||l.parentNode==n.sizer&&l!=n.mover)return!0}function Es(n){return n.lineSpace.offsetTop}function wu(n){return n.mover.offsetHeight-n.lineSpace.offsetHeight}function jf(n){if(n.cachedPaddingH)return n.cachedPaddingH;var r=it(n.measure,G("pre","x","CodeMirror-line-like")),l=window.getComputedStyle?window.getComputedStyle(r):r.currentStyle,o={left:parseInt(l.paddingLeft),right:parseInt(l.paddingRight)};return!isNaN(o.left)&&!isNaN(o.right)&&(n.cachedPaddingH=o),o}function Ii(n){return rt-n.display.nativeBarWidth}function Mr(n){return n.display.scroller.clientWidth-Ii(n)-n.display.barWidth}function Du(n){return n.display.scroller.clientHeight-Ii(n)-n.display.barHeight}function yb(n,r,l){var o=n.options.lineWrapping,u=o&&Mr(n);if(!r.measure.heights||o&&r.measure.width!=u){var f=r.measure.heights=[];if(o){r.measure.width=u;for(var d=r.text.firstChild.getClientRects(),m=0;m<d.length-1;m++){var y=d[m],w=d[m+1];Math.abs(y.bottom-w.bottom)>2&&f.push((y.bottom+w.top)/2-l.top)}}f.push(l.bottom-l.top)}}function qf(n,r,l){if(n.line==r)return{map:n.measure.map,cache:n.measure.cache};if(n.rest){for(var o=0;o<n.rest.length;o++)if(n.rest[o]==r)return{map:n.measure.maps[o],cache:n.measure.caches[o]};for(var u=0;u<n.rest.length;u++)if(Nt(n.rest[u])>l)return{map:n.measure.maps[u],cache:n.measure.caches[u],before:!0}}}function xb(n,r){r=wi(r);var l=Nt(r),o=n.display.externalMeasured=new Bf(n.doc,r,l);o.lineN=l;var u=o.built=If(n,o);return o.text=u.pre,it(n.display.lineMeasure,u.pre),o}function Vf(n,r,l,o){return Pi(n,ca(n,r),l,o)}function Cu(n,r){if(r>=n.display.viewFrom&&r<n.display.viewTo)return n.display.view[Rr(n,r)];var l=n.display.externalMeasured;if(l&&r>=l.lineN&&r<l.lineN+l.size)return l}function ca(n,r){var l=Nt(r),o=Cu(n,l);o&&!o.text?o=null:o&&o.changes&&(Hf(n,o,l,Tu(n)),n.curOp.forceUpdate=!0),o||(o=xb(n,r));var u=qf(o,r,l);return{line:r,view:o,rect:null,map:u.map,cache:u.cache,before:u.before,hasHeights:!1}}function Pi(n,r,l,o,u){r.before&&(l=-1);var f=l+(o||""),d;return r.cache.hasOwnProperty(f)?d=r.cache[f]:(r.rect||(r.rect=r.view.text.getBoundingClientRect()),r.hasHeights||(yb(n,r.view,r.rect),r.hasHeights=!0),d=Db(n,r,l,o),d.bogus||(r.cache[f]=d)),{left:d.left,right:d.right,top:u?d.rtop:d.top,bottom:u?d.rbottom:d.bottom}}var Gf={left:0,right:0,top:0,bottom:0};function $f(n,r,l){for(var o,u,f,d,m,y,w=0;w<n.length;w+=3)if(m=n[w],y=n[w+1],r<m?(u=0,f=1,d="left"):r<y?(u=r-m,f=u+1):(w==n.length-3||r==y&&n[w+3]>r)&&(f=y-m,u=f-1,r>=y&&(d="right")),u!=null){if(o=n[w+2],m==y&&l==(o.insertLeft?"left":"right")&&(d=l),l=="left"&&u==0)for(;w&&n[w-2]==n[w-3]&&n[w-1].insertLeft;)o=n[(w-=3)+2],d="left";if(l=="right"&&u==y-m)for(;w<n.length-3&&n[w+3]==n[w+4]&&!n[w+5].insertLeft;)o=n[(w+=3)+2],d="right";break}return{node:o,start:u,end:f,collapse:d,coverStart:m,coverEnd:y}}function wb(n,r){var l=Gf;if(r=="left")for(var o=0;o<n.length&&(l=n[o]).left==l.right;o++);else for(var u=n.length-1;u>=0&&(l=n[u]).left==l.right;u--);return l}function Db(n,r,l,o){var u=$f(r.map,l,o),f=u.node,d=u.start,m=u.end,y=u.collapse,w;if(f.nodeType==3){for(var O=0;O<4;O++){for(;d&&p(r.line.text.charAt(u.coverStart+d));)--d;for(;u.coverStart+m<u.coverEnd&&p(r.line.text.charAt(u.coverStart+m));)++m;if(b&&D<9&&d==0&&m==u.coverEnd-u.coverStart?w=f.parentNode.getBoundingClientRect():w=wb(M(f,d,m).getClientRects(),o),w.left||w.right||d==0)break;m=d,d=d-1,y="right"}b&&D<11&&(w=Cb(n.display.measure,w))}else{d>0&&(y=o="right");var P;n.options.lineWrapping&&(P=f.getClientRects()).length>1?w=P[o=="right"?P.length-1:0]:w=f.getBoundingClientRect()}if(b&&D<9&&!d&&(!w||!w.left&&!w.right)){var ae=f.parentNode.getClientRects()[0];ae?w={left:ae.left,right:ae.left+fa(n.display),top:ae.top,bottom:ae.bottom}:w=Gf}for(var J=w.top-r.rect.top,pe=w.bottom-r.rect.top,ye=(J+pe)/2,Te=r.view.measure.heights,Oe=0;Oe<Te.length-1&&!(ye<Te[Oe]);Oe++);var ze=Oe?Te[Oe-1]:0,Ne=Te[Oe],qe={left:(y=="right"?w.right:w.left)-r.rect.left,right:(y=="left"?w.left:w.right)-r.rect.left,top:ze,bottom:Ne};return!w.left&&!w.right&&(qe.bogus=!0),n.options.singleCursorHeightPerLine||(qe.rtop=J,qe.rbottom=pe),qe}function Cb(n,r){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Pn(n))return r;var l=screen.logicalXDPI/screen.deviceXDPI,o=screen.logicalYDPI/screen.deviceYDPI;return{left:r.left*l,right:r.right*l,top:r.top*o,bottom:r.bottom*o}}function Kf(n){if(n.measure&&(n.measure.cache={},n.measure.heights=null,n.rest))for(var r=0;r<n.rest.length;r++)n.measure.caches[r]={}}function Xf(n){n.display.externalMeasure=null,Je(n.display.lineMeasure);for(var r=0;r<n.display.view.length;r++)Kf(n.display.view[r])}function lo(n){Xf(n),n.display.cachedCharWidth=n.display.cachedTextHeight=n.display.cachedPaddingH=null,n.options.lineWrapping||(n.display.maxLineChanged=!0),n.display.lineNumChars=null}function Jf(n){return W&&te?-(n.body.getBoundingClientRect().left-parseInt(getComputedStyle(n.body).marginLeft)):n.defaultView.pageXOffset||(n.documentElement||n.body).scrollLeft}function Zf(n){return W&&te?-(n.body.getBoundingClientRect().top-parseInt(getComputedStyle(n.body).marginTop)):n.defaultView.pageYOffset||(n.documentElement||n.body).scrollTop}function ku(n){var r=wi(n),l=r.widgets,o=0;if(l)for(var u=0;u<l.length;++u)l[u].above&&(o+=so(l[u]));return o}function Ts(n,r,l,o,u){if(!u){var f=ku(r);l.top+=f,l.bottom+=f}if(o=="line")return l;o||(o="local");var d=Vi(r);if(o=="local"?d+=Es(n.display):d-=n.display.viewOffset,o=="page"||o=="window"){var m=n.display.lineSpace.getBoundingClientRect();d+=m.top+(o=="window"?0:Zf(v(n)));var y=m.left+(o=="window"?0:Jf(v(n)));l.left+=y,l.right+=y}return l.top+=d,l.bottom+=d,l}function Qf(n,r,l){if(l=="div")return r;var o=r.left,u=r.top;if(l=="page")o-=Jf(v(n)),u-=Zf(v(n));else if(l=="local"||!l){var f=n.display.sizer.getBoundingClientRect();o+=f.left,u+=f.top}var d=n.display.lineSpace.getBoundingClientRect();return{left:o-d.left,top:u-d.top}}function Ls(n,r,l,o,u){return o||(o=Qe(n.doc,r.line)),Ts(n,o,Vf(n,o,r.ch,u),l)}function Di(n,r,l,o,u,f){o=o||Qe(n.doc,r.line),u||(u=ca(n,o));function d(pe,ye){var Te=Pi(n,u,pe,ye?"right":"left",f);return ye?Te.left=Te.right:Te.right=Te.left,Ts(n,o,Te,l)}var m=H(o,n.doc.direction),y=r.ch,w=r.sticky;if(y>=o.text.length?(y=o.text.length,w="before"):y<=0&&(y=0,w="after"),!m)return d(w=="before"?y-1:y,w=="before");function O(pe,ye,Te){var Oe=m[ye],ze=Oe.level==1;return d(Te?pe-1:pe,ze!=Te)}var P=X(m,y,w),ae=z,J=O(y,P,w=="before");return ae!=null&&(J.other=O(y,ae,w!="before")),J}function ed(n,r){var l=0;r=lt(n.doc,r),n.options.lineWrapping||(l=fa(n.display)*r.ch);var o=Qe(n.doc,r.line),u=Vi(o)+Es(n.display);return{left:l,right:l,top:u,bottom:u+o.height}}function Au(n,r,l,o,u){var f=Ce(n,r,l);return f.xRel=u,o&&(f.outside=o),f}function Su(n,r,l){var o=n.doc;if(l+=n.display.viewOffset,l<0)return Au(o.first,0,null,-1,-1);var u=Lr(o,l),f=o.first+o.size-1;if(u>f)return Au(o.first+o.size-1,Qe(o,f).text.length,null,1,1);r<0&&(r=0);for(var d=Qe(o,u);;){var m=kb(n,d,u,r,l),y=Z0(d,m.ch+(m.xRel>0||m.outside>0?1:0));if(!y)return m;var w=y.find(1);if(w.line==u)return w;d=Qe(o,u=w.line)}}function td(n,r,l,o){o-=ku(r);var u=r.text.length,f=_(function(d){return Pi(n,l,d-1).bottom<=o},u,0);return u=_(function(d){return Pi(n,l,d).top>o},f,u),{begin:f,end:u}}function nd(n,r,l,o){l||(l=ca(n,r));var u=Ts(n,r,Pi(n,l,o),"line").top;return td(n,r,l,u)}function Eu(n,r,l,o){return n.bottom<=l?!1:n.top>l?!0:(o?n.left:n.right)>r}function kb(n,r,l,o,u){u-=Vi(r);var f=ca(n,r),d=ku(r),m=0,y=r.text.length,w=!0,O=H(r,n.doc.direction);if(O){var P=(n.options.lineWrapping?Sb:Ab)(n,r,l,f,O,o,u);w=P.level!=1,m=w?P.from:P.to-1,y=w?P.to:P.from-1}var ae=null,J=null,pe=_(function(nt){var et=Pi(n,f,nt);return et.top+=d,et.bottom+=d,Eu(et,o,u,!1)?(et.top<=u&&et.left<=o&&(ae=nt,J=et),!0):!1},m,y),ye,Te,Oe=!1;if(J){var ze=o-J.left<J.right-o,Ne=ze==w;pe=ae+(Ne?0:1),Te=Ne?"after":"before",ye=ze?J.left:J.right}else{!w&&(pe==y||pe==m)&&pe++,Te=pe==0?"after":pe==r.text.length?"before":Pi(n,f,pe-(w?1:0)).bottom+d<=u==w?"after":"before";var qe=Di(n,Ce(l,pe,Te),"line",r,f);ye=qe.left,Oe=u<qe.top?-1:u>=qe.bottom?1:0}return pe=x(r.text,pe,1),Au(l,pe,Te,Oe,o-ye)}function Ab(n,r,l,o,u,f,d){var m=_(function(P){var ae=u[P],J=ae.level!=1;return Eu(Di(n,Ce(l,J?ae.to:ae.from,J?"before":"after"),"line",r,o),f,d,!0)},0,u.length-1),y=u[m];if(m>0){var w=y.level!=1,O=Di(n,Ce(l,w?y.from:y.to,w?"after":"before"),"line",r,o);Eu(O,f,d,!0)&&O.top>d&&(y=u[m-1])}return y}function Sb(n,r,l,o,u,f,d){var m=td(n,r,o,d),y=m.begin,w=m.end;/\s/.test(r.text.charAt(w-1))&&w--;for(var O=null,P=null,ae=0;ae<u.length;ae++){var J=u[ae];if(!(J.from>=w||J.to<=y)){var pe=J.level!=1,ye=Pi(n,o,pe?Math.min(w,J.to)-1:Math.max(y,J.from)).right,Te=ye<f?f-ye+1e9:ye-f;(!O||P>Te)&&(O=J,P=Te)}}return O||(O=u[u.length-1]),O.from<y&&(O={from:y,to:O.to,level:O.level}),O.to>w&&(O={from:O.from,to:w,level:O.level}),O}var Fr;function ha(n){if(n.cachedTextHeight!=null)return n.cachedTextHeight;if(Fr==null){Fr=G("pre",null,"CodeMirror-line-like");for(var r=0;r<49;++r)Fr.appendChild(document.createTextNode("x")),Fr.appendChild(G("br"));Fr.appendChild(document.createTextNode("x"))}it(n.measure,Fr);var l=Fr.offsetHeight/50;return l>3&&(n.cachedTextHeight=l),Je(n.measure),l||1}function fa(n){if(n.cachedCharWidth!=null)return n.cachedCharWidth;var r=G("span","xxxxxxxxxx"),l=G("pre",[r],"CodeMirror-line-like");it(n.measure,l);var o=r.getBoundingClientRect(),u=(o.right-o.left)/10;return u>2&&(n.cachedCharWidth=u),u||10}function Tu(n){for(var r=n.display,l={},o={},u=r.gutters.clientLeft,f=r.gutters.firstChild,d=0;f;f=f.nextSibling,++d){var m=n.display.gutterSpecs[d].className;l[m]=f.offsetLeft+f.clientLeft+u,o[m]=f.clientWidth}return{fixedPos:Lu(r),gutterTotalWidth:r.gutters.offsetWidth,gutterLeft:l,gutterWidth:o,wrapperWidth:r.wrapper.clientWidth}}function Lu(n){return n.scroller.getBoundingClientRect().left-n.sizer.getBoundingClientRect().left}function id(n){var r=ha(n.display),l=n.options.lineWrapping,o=l&&Math.max(5,n.display.scroller.clientWidth/fa(n.display)-3);return function(u){if(cr(n.doc,u))return 0;var f=0;if(u.widgets)for(var d=0;d<u.widgets.length;d++)u.widgets[d].height&&(f+=u.widgets[d].height);return l?f+(Math.ceil(u.text.length/o)||1)*r:f+r}}function Mu(n){var r=n.doc,l=id(n);r.iter(function(o){var u=l(o);u!=o.height&&Oi(o,u)})}function _r(n,r,l,o){var u=n.display;if(!l&&Re(r).getAttribute("cm-not-content")=="true")return null;var f,d,m=u.lineSpace.getBoundingClientRect();try{f=r.clientX-m.left,d=r.clientY-m.top}catch{return null}var y=Su(n,f,d),w;if(o&&y.xRel>0&&(w=Qe(n.doc,y.line).text).length==y.ch){var O=Pe(w,w.length,n.options.tabSize)-w.length;y=Ce(y.line,Math.max(0,Math.round((f-jf(n.display).left)/fa(n.display))-O))}return y}function Rr(n,r){if(r>=n.display.viewTo||(r-=n.display.viewFrom,r<0))return null;for(var l=n.display.view,o=0;o<l.length;o++)if(r-=l[o].size,r<0)return o}function Bn(n,r,l,o){r==null&&(r=n.doc.first),l==null&&(l=n.doc.first+n.doc.size),o||(o=0);var u=n.display;if(o&&l<u.viewTo&&(u.updateLineNumbers==null||u.updateLineNumbers>r)&&(u.updateLineNumbers=r),n.curOp.viewChanged=!0,r>=u.viewTo)qi&&vu(n.doc,r)<u.viewTo&&fr(n);else if(l<=u.viewFrom)qi&&Of(n.doc,l+o)>u.viewFrom?fr(n):(u.viewFrom+=o,u.viewTo+=o);else if(r<=u.viewFrom&&l>=u.viewTo)fr(n);else if(r<=u.viewFrom){var f=Ms(n,l,l+o,1);f?(u.view=u.view.slice(f.index),u.viewFrom=f.lineN,u.viewTo+=o):fr(n)}else if(l>=u.viewTo){var d=Ms(n,r,r,-1);d?(u.view=u.view.slice(0,d.index),u.viewTo=d.lineN):fr(n)}else{var m=Ms(n,r,r,-1),y=Ms(n,l,l+o,1);m&&y?(u.view=u.view.slice(0,m.index).concat(Ss(n,m.lineN,y.lineN)).concat(u.view.slice(y.index)),u.viewTo+=o):fr(n)}var w=u.externalMeasured;w&&(l<w.lineN?w.lineN+=o:r<w.lineN+w.size&&(u.externalMeasured=null))}function hr(n,r,l){n.curOp.viewChanged=!0;var o=n.display,u=n.display.externalMeasured;if(u&&r>=u.lineN&&r<u.lineN+u.size&&(o.externalMeasured=null),!(r<o.viewFrom||r>=o.viewTo)){var f=o.view[Rr(n,r)];if(f.node!=null){var d=f.changes||(f.changes=[]);$e(d,l)==-1&&d.push(l)}}}function fr(n){n.display.viewFrom=n.display.viewTo=n.doc.first,n.display.view=[],n.display.viewOffset=0}function Ms(n,r,l,o){var u=Rr(n,r),f,d=n.display.view;if(!qi||l==n.doc.first+n.doc.size)return{index:u,lineN:l};for(var m=n.display.viewFrom,y=0;y<u;y++)m+=d[y].size;if(m!=r){if(o>0){if(u==d.length-1)return null;f=m+d[u].size-r,u++}else f=m-r;r+=f,l+=f}for(;vu(n.doc,l)!=l;){if(u==(o<0?0:d.length-1))return null;l+=o*d[u-(o<0?1:0)].size,u+=o}return{index:u,lineN:l}}function Eb(n,r,l){var o=n.display,u=o.view;u.length==0||r>=o.viewTo||l<=o.viewFrom?(o.view=Ss(n,r,l),o.viewFrom=r):(o.viewFrom>r?o.view=Ss(n,r,o.viewFrom).concat(o.view):o.viewFrom<r&&(o.view=o.view.slice(Rr(n,r))),o.viewFrom=r,o.viewTo<l?o.view=o.view.concat(Ss(n,o.viewTo,l)):o.viewTo>l&&(o.view=o.view.slice(0,Rr(n,l)))),o.viewTo=l}function rd(n){for(var r=n.display.view,l=0,o=0;o<r.length;o++){var u=r[o];!u.hidden&&(!u.node||u.changes)&&++l}return l}function uo(n){n.display.input.showSelection(n.display.input.prepareSelection())}function ad(n,r){r===void 0&&(r=!0);var l=n.doc,o={},u=o.cursors=document.createDocumentFragment(),f=o.selection=document.createDocumentFragment(),d=n.options.$customCursor;d&&(r=!0);for(var m=0;m<l.sel.ranges.length;m++)if(!(!r&&m==l.sel.primIndex)){var y=l.sel.ranges[m];if(!(y.from().line>=n.display.viewTo||y.to().line<n.display.viewFrom)){var w=y.empty();if(d){var O=d(n,y);O&&Fu(n,O,u)}else(w||n.options.showCursorWhenSelecting)&&Fu(n,y.head,u);w||Tb(n,y,f)}}return o}function Fu(n,r,l){var o=Di(n,r,"div",null,null,!n.options.singleCursorHeightPerLine),u=l.appendChild(G("div"," ","CodeMirror-cursor"));if(u.style.left=o.left+"px",u.style.top=o.top+"px",u.style.height=Math.max(0,o.bottom-o.top)*n.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(n.getWrapperElement().className)){var f=Ls(n,r,"div",null,null),d=f.right-f.left;u.style.width=(d>0?d:n.defaultCharWidth())+"px"}if(o.other){var m=l.appendChild(G("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));m.style.display="",m.style.left=o.other.left+"px",m.style.top=o.other.top+"px",m.style.height=(o.other.bottom-o.other.top)*.85+"px"}}function Fs(n,r){return n.top-r.top||n.left-r.left}function Tb(n,r,l){var o=n.display,u=n.doc,f=document.createDocumentFragment(),d=jf(n.display),m=d.left,y=Math.max(o.sizerWidth,Mr(n)-o.sizer.offsetLeft)-d.right,w=u.direction=="ltr";function O(Ne,qe,nt,et){qe<0&&(qe=0),qe=Math.round(qe),et=Math.round(et),f.appendChild(G("div",null,"CodeMirror-selected","position: absolute; left: "+Ne+`px;
                             top: `+qe+"px; width: "+(nt??y-Ne)+`px;
                             height: `+(et-qe)+"px"))}function P(Ne,qe,nt){var et=Qe(u,Ne),pt=et.text.length,Wt,Cn;function Zt(ln,zn){return Ls(n,Ce(Ne,ln),"div",et,zn)}function Qn(ln,zn,En){var gn=nd(n,et,null,ln),un=zn=="ltr"==(En=="after")?"left":"right",nn=En=="after"?gn.begin:gn.end-(/\s/.test(et.text.charAt(gn.end-1))?2:1);return Zt(nn,un)[un]}var Wn=H(et,u.direction);return B(Wn,qe||0,nt??pt,function(ln,zn,En,gn){var un=En=="ltr",nn=Zt(ln,un?"left":"right"),Un=Zt(zn-1,un?"right":"left"),Aa=qe==null&&ln==0,br=nt==null&&zn==pt,Mn=gn==0,Bi=!Wn||gn==Wn.length-1;if(Un.top-nn.top<=3){var kn=(w?Aa:br)&&Mn,rc=(w?br:Aa)&&Bi,Xi=kn?m:(un?nn:Un).left,Br=rc?y:(un?Un:nn).right;O(Xi,nn.top,Br-Xi,nn.bottom)}else{var Hr,_n,Sa,ac;un?(Hr=w&&Aa&&Mn?m:nn.left,_n=w?y:Qn(ln,En,"before"),Sa=w?m:Qn(zn,En,"after"),ac=w&&br&&Bi?y:Un.right):(Hr=w?Qn(ln,En,"before"):m,_n=!w&&Aa&&Mn?y:nn.right,Sa=!w&&br&&Bi?m:Un.left,ac=w?Qn(zn,En,"after"):y),O(Hr,nn.top,_n-Hr,nn.bottom),nn.bottom<Un.top&&O(m,nn.bottom,null,Un.top),O(Sa,Un.top,ac-Sa,Un.bottom)}(!Wt||Fs(nn,Wt)<0)&&(Wt=nn),Fs(Un,Wt)<0&&(Wt=Un),(!Cn||Fs(nn,Cn)<0)&&(Cn=nn),Fs(Un,Cn)<0&&(Cn=Un)}),{start:Wt,end:Cn}}var ae=r.from(),J=r.to();if(ae.line==J.line)P(ae.line,ae.ch,J.ch);else{var pe=Qe(u,ae.line),ye=Qe(u,J.line),Te=wi(pe)==wi(ye),Oe=P(ae.line,ae.ch,Te?pe.text.length+1:null).end,ze=P(J.line,Te?0:null,J.ch).start;Te&&(Oe.top<ze.top-2?(O(Oe.right,Oe.top,null,Oe.bottom),O(m,ze.top,ze.left,ze.bottom)):O(Oe.right,Oe.top,ze.left-Oe.right,Oe.bottom)),Oe.bottom<ze.top&&O(m,Oe.bottom,null,ze.top)}l.appendChild(f)}function _u(n){if(n.state.focused){var r=n.display;clearInterval(r.blinker);var l=!0;r.cursorDiv.style.visibility="",n.options.cursorBlinkRate>0?r.blinker=setInterval(function(){n.hasFocus()||da(n),r.cursorDiv.style.visibility=(l=!l)?"":"hidden"},n.options.cursorBlinkRate):n.options.cursorBlinkRate<0&&(r.cursorDiv.style.visibility="hidden")}}function od(n){n.hasFocus()||(n.display.input.focus(),n.state.focused||Ou(n))}function Ru(n){n.state.delayingBlurEvent=!0,setTimeout(function(){n.state.delayingBlurEvent&&(n.state.delayingBlurEvent=!1,n.state.focused&&da(n))},100)}function Ou(n,r){n.state.delayingBlurEvent&&!n.state.draggingText&&(n.state.delayingBlurEvent=!1),n.options.readOnly!="nocursor"&&(n.state.focused||(Be(n,"focus",n,r),n.state.focused=!0,j(n.display.wrapper,"CodeMirror-focused"),!n.curOp&&n.display.selForContextMenu!=n.doc.sel&&(n.display.input.reset(),L&&setTimeout(function(){return n.display.input.reset(!0)},20)),n.display.input.receivedFocus()),_u(n))}function da(n,r){n.state.delayingBlurEvent||(n.state.focused&&(Be(n,"blur",n,r),n.state.focused=!1,Ve(n.display.wrapper,"CodeMirror-focused")),clearInterval(n.display.blinker),setTimeout(function(){n.state.focused||(n.display.shift=!1)},150))}function _s(n){for(var r=n.display,l=r.lineDiv.offsetTop,o=Math.max(0,r.scroller.getBoundingClientRect().top),u=r.lineDiv.getBoundingClientRect().top,f=0,d=0;d<r.view.length;d++){var m=r.view[d],y=n.options.lineWrapping,w=void 0,O=0;if(!m.hidden){if(u+=m.line.height,b&&D<8){var P=m.node.offsetTop+m.node.offsetHeight;w=P-l,l=P}else{var ae=m.node.getBoundingClientRect();w=ae.bottom-ae.top,!y&&m.text.firstChild&&(O=m.text.firstChild.getBoundingClientRect().right-ae.left-1)}var J=m.line.height-w;if((J>.005||J<-.005)&&(u<o&&(f-=J),Oi(m.line,w),sd(m.line),m.rest))for(var pe=0;pe<m.rest.length;pe++)sd(m.rest[pe]);if(O>n.display.sizerWidth){var ye=Math.ceil(O/fa(n.display));ye>n.display.maxLineLength&&(n.display.maxLineLength=ye,n.display.maxLine=m.line,n.display.maxLineChanged=!0)}}}Math.abs(f)>2&&(r.scroller.scrollTop+=f)}function sd(n){if(n.widgets)for(var r=0;r<n.widgets.length;++r){var l=n.widgets[r],o=l.node.parentNode;o&&(l.height=o.offsetHeight)}}function Rs(n,r,l){var o=l&&l.top!=null?Math.max(0,l.top):n.scroller.scrollTop;o=Math.floor(o-Es(n));var u=l&&l.bottom!=null?l.bottom:o+n.wrapper.clientHeight,f=Lr(r,o),d=Lr(r,u);if(l&&l.ensure){var m=l.ensure.from.line,y=l.ensure.to.line;m<f?(f=m,d=Lr(r,Vi(Qe(r,m))+n.wrapper.clientHeight)):Math.min(y,r.lastLine())>=d&&(f=Lr(r,Vi(Qe(r,y))-n.wrapper.clientHeight),d=y)}return{from:f,to:Math.max(d,f+1)}}function Lb(n,r){if(!Se(n,"scrollCursorIntoView")){var l=n.display,o=l.sizer.getBoundingClientRect(),u=null,f=l.wrapper.ownerDocument;if(r.top+o.top<0?u=!0:r.bottom+o.top>(f.defaultView.innerHeight||f.documentElement.clientHeight)&&(u=!1),u!=null&&!ge){var d=G("div","​",null,`position: absolute;
                         top: `+(r.top-l.viewOffset-Es(n.display))+`px;
                         height: `+(r.bottom-r.top+Ii(n)+l.barHeight)+`px;
                         left: `+r.left+"px; width: "+Math.max(2,r.right-r.left)+"px;");n.display.lineSpace.appendChild(d),d.scrollIntoView(u),n.display.lineSpace.removeChild(d)}}}function Mb(n,r,l,o){o==null&&(o=0);var u;!n.options.lineWrapping&&r==l&&(l=r.sticky=="before"?Ce(r.line,r.ch+1,"before"):r,r=r.ch?Ce(r.line,r.sticky=="before"?r.ch-1:r.ch,"after"):r);for(var f=0;f<5;f++){var d=!1,m=Di(n,r),y=!l||l==r?m:Di(n,l);u={left:Math.min(m.left,y.left),top:Math.min(m.top,y.top)-o,right:Math.max(m.left,y.left),bottom:Math.max(m.bottom,y.bottom)+o};var w=Nu(n,u),O=n.doc.scrollTop,P=n.doc.scrollLeft;if(w.scrollTop!=null&&(ho(n,w.scrollTop),Math.abs(n.doc.scrollTop-O)>1&&(d=!0)),w.scrollLeft!=null&&(Or(n,w.scrollLeft),Math.abs(n.doc.scrollLeft-P)>1&&(d=!0)),!d)break}return u}function Fb(n,r){var l=Nu(n,r);l.scrollTop!=null&&ho(n,l.scrollTop),l.scrollLeft!=null&&Or(n,l.scrollLeft)}function Nu(n,r){var l=n.display,o=ha(n.display);r.top<0&&(r.top=0);var u=n.curOp&&n.curOp.scrollTop!=null?n.curOp.scrollTop:l.scroller.scrollTop,f=Du(n),d={};r.bottom-r.top>f&&(r.bottom=r.top+f);var m=n.doc.height+wu(l),y=r.top<o,w=r.bottom>m-o;if(r.top<u)d.scrollTop=y?0:r.top;else if(r.bottom>u+f){var O=Math.min(r.top,(w?m:r.bottom)-f);O!=u&&(d.scrollTop=O)}var P=n.options.fixedGutter?0:l.gutters.offsetWidth,ae=n.curOp&&n.curOp.scrollLeft!=null?n.curOp.scrollLeft:l.scroller.scrollLeft-P,J=Mr(n)-l.gutters.offsetWidth,pe=r.right-r.left>J;return pe&&(r.right=r.left+J),r.left<10?d.scrollLeft=0:r.left<ae?d.scrollLeft=Math.max(0,r.left+P-(pe?0:10)):r.right>J+ae-3&&(d.scrollLeft=r.right+(pe?0:10)-J),d}function Iu(n,r){r!=null&&(Os(n),n.curOp.scrollTop=(n.curOp.scrollTop==null?n.doc.scrollTop:n.curOp.scrollTop)+r)}function pa(n){Os(n);var r=n.getCursor();n.curOp.scrollToPos={from:r,to:r,margin:n.options.cursorScrollMargin}}function co(n,r,l){(r!=null||l!=null)&&Os(n),r!=null&&(n.curOp.scrollLeft=r),l!=null&&(n.curOp.scrollTop=l)}function _b(n,r){Os(n),n.curOp.scrollToPos=r}function Os(n){var r=n.curOp.scrollToPos;if(r){n.curOp.scrollToPos=null;var l=ed(n,r.from),o=ed(n,r.to);ld(n,l,o,r.margin)}}function ld(n,r,l,o){var u=Nu(n,{left:Math.min(r.left,l.left),top:Math.min(r.top,l.top)-o,right:Math.max(r.right,l.right),bottom:Math.max(r.bottom,l.bottom)+o});co(n,u.scrollLeft,u.scrollTop)}function ho(n,r){Math.abs(n.doc.scrollTop-r)<2||(s||Bu(n,{top:r}),ud(n,r,!0),s&&Bu(n),go(n,100))}function ud(n,r,l){r=Math.max(0,Math.min(n.display.scroller.scrollHeight-n.display.scroller.clientHeight,r)),!(n.display.scroller.scrollTop==r&&!l)&&(n.doc.scrollTop=r,n.display.scrollbars.setScrollTop(r),n.display.scroller.scrollTop!=r&&(n.display.scroller.scrollTop=r))}function Or(n,r,l,o){r=Math.max(0,Math.min(r,n.display.scroller.scrollWidth-n.display.scroller.clientWidth)),!((l?r==n.doc.scrollLeft:Math.abs(n.doc.scrollLeft-r)<2)&&!o)&&(n.doc.scrollLeft=r,pd(n),n.display.scroller.scrollLeft!=r&&(n.display.scroller.scrollLeft=r),n.display.scrollbars.setScrollLeft(r))}function fo(n){var r=n.display,l=r.gutters.offsetWidth,o=Math.round(n.doc.height+wu(n.display));return{clientHeight:r.scroller.clientHeight,viewHeight:r.wrapper.clientHeight,scrollWidth:r.scroller.scrollWidth,clientWidth:r.scroller.clientWidth,viewWidth:r.wrapper.clientWidth,barLeft:n.options.fixedGutter?l:0,docHeight:o,scrollHeight:o+Ii(n)+r.barHeight,nativeBarWidth:r.nativeBarWidth,gutterWidth:l}}var Nr=function(n,r,l){this.cm=l;var o=this.vert=G("div",[G("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),u=this.horiz=G("div",[G("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");o.tabIndex=u.tabIndex=-1,n(o),n(u),$(o,"scroll",function(){o.clientHeight&&r(o.scrollTop,"vertical")}),$(u,"scroll",function(){u.clientWidth&&r(u.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,b&&D<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Nr.prototype.update=function(n){var r=n.scrollWidth>n.clientWidth+1,l=n.scrollHeight>n.clientHeight+1,o=n.nativeBarWidth;if(l){this.vert.style.display="block",this.vert.style.bottom=r?o+"px":"0";var u=n.viewHeight-(r?o:0);this.vert.firstChild.style.height=Math.max(0,n.scrollHeight-n.clientHeight+u)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(r){this.horiz.style.display="block",this.horiz.style.right=l?o+"px":"0",this.horiz.style.left=n.barLeft+"px";var f=n.viewWidth-n.barLeft-(l?o:0);this.horiz.firstChild.style.width=Math.max(0,n.scrollWidth-n.clientWidth+f)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&n.clientHeight>0&&(o==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:l?o:0,bottom:r?o:0}},Nr.prototype.setScrollLeft=function(n){this.horiz.scrollLeft!=n&&(this.horiz.scrollLeft=n),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Nr.prototype.setScrollTop=function(n){this.vert.scrollTop!=n&&(this.vert.scrollTop=n),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Nr.prototype.zeroWidthHack=function(){var n=ie&&!ce?"12px":"18px";this.horiz.style.height=this.vert.style.width=n,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ue,this.disableVert=new Ue},Nr.prototype.enableZeroWidthBar=function(n,r,l){n.style.visibility="";function o(){var u=n.getBoundingClientRect(),f=l=="vert"?document.elementFromPoint(u.right-1,(u.top+u.bottom)/2):document.elementFromPoint((u.right+u.left)/2,u.bottom-1);f!=n?n.style.visibility="hidden":r.set(1e3,o)}r.set(1e3,o)},Nr.prototype.clear=function(){var n=this.horiz.parentNode;n.removeChild(this.horiz),n.removeChild(this.vert)};var po=function(){};po.prototype.update=function(){return{bottom:0,right:0}},po.prototype.setScrollLeft=function(){},po.prototype.setScrollTop=function(){},po.prototype.clear=function(){};function ga(n,r){r||(r=fo(n));var l=n.display.barWidth,o=n.display.barHeight;cd(n,r);for(var u=0;u<4&&l!=n.display.barWidth||o!=n.display.barHeight;u++)l!=n.display.barWidth&&n.options.lineWrapping&&_s(n),cd(n,fo(n)),l=n.display.barWidth,o=n.display.barHeight}function cd(n,r){var l=n.display,o=l.scrollbars.update(r);l.sizer.style.paddingRight=(l.barWidth=o.right)+"px",l.sizer.style.paddingBottom=(l.barHeight=o.bottom)+"px",l.heightForcer.style.borderBottom=o.bottom+"px solid transparent",o.right&&o.bottom?(l.scrollbarFiller.style.display="block",l.scrollbarFiller.style.height=o.bottom+"px",l.scrollbarFiller.style.width=o.right+"px"):l.scrollbarFiller.style.display="",o.bottom&&n.options.coverGutterNextToScrollbar&&n.options.fixedGutter?(l.gutterFiller.style.display="block",l.gutterFiller.style.height=o.bottom+"px",l.gutterFiller.style.width=r.gutterWidth+"px"):l.gutterFiller.style.display=""}var hd={native:Nr,null:po};function fd(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&Ve(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new hd[n.options.scrollbarStyle](function(r){n.display.wrapper.insertBefore(r,n.display.scrollbarFiller),$(r,"mousedown",function(){n.state.focused&&setTimeout(function(){return n.display.input.focus()},0)}),r.setAttribute("cm-not-content","true")},function(r,l){l=="horizontal"?Or(n,r):ho(n,r)},n),n.display.scrollbars.addClass&&j(n.display.wrapper,n.display.scrollbars.addClass)}var Rb=0;function Ir(n){n.curOp={cm:n,viewChanged:!1,startHeight:n.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Rb,markArrays:null},cb(n.curOp)}function Pr(n){var r=n.curOp;r&&fb(r,function(l){for(var o=0;o<l.ops.length;o++)l.ops[o].cm.curOp=null;Ob(l)})}function Ob(n){for(var r=n.ops,l=0;l<r.length;l++)Nb(r[l]);for(var o=0;o<r.length;o++)Ib(r[o]);for(var u=0;u<r.length;u++)Pb(r[u]);for(var f=0;f<r.length;f++)Bb(r[f]);for(var d=0;d<r.length;d++)Hb(r[d])}function Nb(n){var r=n.cm,l=r.display;zb(r),n.updateMaxLine&&yu(r),n.mustUpdate=n.viewChanged||n.forceUpdate||n.scrollTop!=null||n.scrollToPos&&(n.scrollToPos.from.line<l.viewFrom||n.scrollToPos.to.line>=l.viewTo)||l.maxLineChanged&&r.options.lineWrapping,n.update=n.mustUpdate&&new Ns(r,n.mustUpdate&&{top:n.scrollTop,ensure:n.scrollToPos},n.forceUpdate)}function Ib(n){n.updatedDisplay=n.mustUpdate&&Pu(n.cm,n.update)}function Pb(n){var r=n.cm,l=r.display;n.updatedDisplay&&_s(r),n.barMeasure=fo(r),l.maxLineChanged&&!r.options.lineWrapping&&(n.adjustWidthTo=Vf(r,l.maxLine,l.maxLine.text.length).left+3,r.display.sizerWidth=n.adjustWidthTo,n.barMeasure.scrollWidth=Math.max(l.scroller.clientWidth,l.sizer.offsetLeft+n.adjustWidthTo+Ii(r)+r.display.barWidth),n.maxScrollLeft=Math.max(0,l.sizer.offsetLeft+n.adjustWidthTo-Mr(r))),(n.updatedDisplay||n.selectionChanged)&&(n.preparedSelection=l.input.prepareSelection())}function Bb(n){var r=n.cm;n.adjustWidthTo!=null&&(r.display.sizer.style.minWidth=n.adjustWidthTo+"px",n.maxScrollLeft<r.doc.scrollLeft&&Or(r,Math.min(r.display.scroller.scrollLeft,n.maxScrollLeft),!0),r.display.maxLineChanged=!1);var l=n.focus&&n.focus==E(R(r));n.preparedSelection&&r.display.input.showSelection(n.preparedSelection,l),(n.updatedDisplay||n.startHeight!=r.doc.height)&&ga(r,n.barMeasure),n.updatedDisplay&&Wu(r,n.barMeasure),n.selectionChanged&&_u(r),r.state.focused&&n.updateInput&&r.display.input.reset(n.typing),l&&od(n.cm)}function Hb(n){var r=n.cm,l=r.display,o=r.doc;if(n.updatedDisplay&&dd(r,n.update),l.wheelStartX!=null&&(n.scrollTop!=null||n.scrollLeft!=null||n.scrollToPos)&&(l.wheelStartX=l.wheelStartY=null),n.scrollTop!=null&&ud(r,n.scrollTop,n.forceScroll),n.scrollLeft!=null&&Or(r,n.scrollLeft,!0,!0),n.scrollToPos){var u=Mb(r,lt(o,n.scrollToPos.from),lt(o,n.scrollToPos.to),n.scrollToPos.margin);Lb(r,u)}var f=n.maybeHiddenMarkers,d=n.maybeUnhiddenMarkers;if(f)for(var m=0;m<f.length;++m)f[m].lines.length||Be(f[m],"hide");if(d)for(var y=0;y<d.length;++y)d[y].lines.length&&Be(d[y],"unhide");l.wrapper.offsetHeight&&(o.scrollTop=r.display.scroller.scrollTop),n.changeObjs&&Be(r,"changes",r,n.changeObjs),n.update&&n.update.finish()}function Zn(n,r){if(n.curOp)return r();Ir(n);try{return r()}finally{Pr(n)}}function wn(n,r){return function(){if(n.curOp)return r.apply(n,arguments);Ir(n);try{return r.apply(n,arguments)}finally{Pr(n)}}}function Fn(n){return function(){if(this.curOp)return n.apply(this,arguments);Ir(this);try{return n.apply(this,arguments)}finally{Pr(this)}}}function Dn(n){return function(){var r=this.cm;if(!r||r.curOp)return n.apply(this,arguments);Ir(r);try{return n.apply(this,arguments)}finally{Pr(r)}}}function go(n,r){n.doc.highlightFrontier<n.display.viewTo&&n.state.highlight.set(r,De(Wb,n))}function Wb(n){var r=n.doc;if(!(r.highlightFrontier>=n.display.viewTo)){var l=+new Date+n.options.workTime,o=io(n,r.highlightFrontier),u=[];r.iter(o.line,Math.min(r.first+r.size,n.display.viewTo+500),function(f){if(o.line>=n.display.viewFrom){var d=f.styles,m=f.text.length>n.options.maxHighlightLength?Sn(r.mode,o.state):null,y=xf(n,f,o,!0);m&&(o.state=m),f.styles=y.styles;var w=f.styleClasses,O=y.classes;O?f.styleClasses=O:w&&(f.styleClasses=null);for(var P=!d||d.length!=f.styles.length||w!=O&&(!w||!O||w.bgClass!=O.bgClass||w.textClass!=O.textClass),ae=0;!P&&ae<d.length;++ae)P=d[ae]!=f.styles[ae];P&&u.push(o.line),f.stateAfter=o.save(),o.nextLine()}else f.text.length<=n.options.maxHighlightLength&&du(n,f.text,o),f.stateAfter=o.line%5==0?o.save():null,o.nextLine();if(+new Date>l)return go(n,n.options.workDelay),!0}),r.highlightFrontier=o.line,r.modeFrontier=Math.max(r.modeFrontier,o.line),u.length&&Zn(n,function(){for(var f=0;f<u.length;f++)hr(n,u[f],"text")})}}var Ns=function(n,r,l){var o=n.display;this.viewport=r,this.visible=Rs(o,n.doc,r),this.editorIsHidden=!o.wrapper.offsetWidth,this.wrapperHeight=o.wrapper.clientHeight,this.wrapperWidth=o.wrapper.clientWidth,this.oldDisplayWidth=Mr(n),this.force=l,this.dims=Tu(n),this.events=[]};Ns.prototype.signal=function(n,r){F(n,r)&&this.events.push(arguments)},Ns.prototype.finish=function(){for(var n=0;n<this.events.length;n++)Be.apply(null,this.events[n])};function zb(n){var r=n.display;!r.scrollbarsClipped&&r.scroller.offsetWidth&&(r.nativeBarWidth=r.scroller.offsetWidth-r.scroller.clientWidth,r.heightForcer.style.height=Ii(n)+"px",r.sizer.style.marginBottom=-r.nativeBarWidth+"px",r.sizer.style.borderRightWidth=Ii(n)+"px",r.scrollbarsClipped=!0)}function Ub(n){if(n.hasFocus())return null;var r=E(R(n));if(!r||!k(n.display.lineDiv,r))return null;var l={activeElt:r};if(window.getSelection){var o=he(n).getSelection();o.anchorNode&&o.extend&&k(n.display.lineDiv,o.anchorNode)&&(l.anchorNode=o.anchorNode,l.anchorOffset=o.anchorOffset,l.focusNode=o.focusNode,l.focusOffset=o.focusOffset)}return l}function Yb(n){if(!(!n||!n.activeElt||n.activeElt==E(be(n.activeElt)))&&(n.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(n.activeElt.nodeName)&&n.anchorNode&&k(document.body,n.anchorNode)&&k(document.body,n.focusNode))){var r=n.activeElt.ownerDocument,l=r.defaultView.getSelection(),o=r.createRange();o.setEnd(n.anchorNode,n.anchorOffset),o.collapse(!1),l.removeAllRanges(),l.addRange(o),l.extend(n.focusNode,n.focusOffset)}}function Pu(n,r){var l=n.display,o=n.doc;if(r.editorIsHidden)return fr(n),!1;if(!r.force&&r.visible.from>=l.viewFrom&&r.visible.to<=l.viewTo&&(l.updateLineNumbers==null||l.updateLineNumbers>=l.viewTo)&&l.renderedView==l.view&&rd(n)==0)return!1;gd(n)&&(fr(n),r.dims=Tu(n));var u=o.first+o.size,f=Math.max(r.visible.from-n.options.viewportMargin,o.first),d=Math.min(u,r.visible.to+n.options.viewportMargin);l.viewFrom<f&&f-l.viewFrom<20&&(f=Math.max(o.first,l.viewFrom)),l.viewTo>d&&l.viewTo-d<20&&(d=Math.min(u,l.viewTo)),qi&&(f=vu(n.doc,f),d=Of(n.doc,d));var m=f!=l.viewFrom||d!=l.viewTo||l.lastWrapHeight!=r.wrapperHeight||l.lastWrapWidth!=r.wrapperWidth;Eb(n,f,d),l.viewOffset=Vi(Qe(n.doc,l.viewFrom)),n.display.mover.style.top=l.viewOffset+"px";var y=rd(n);if(!m&&y==0&&!r.force&&l.renderedView==l.view&&(l.updateLineNumbers==null||l.updateLineNumbers>=l.viewTo))return!1;var w=Ub(n);return y>4&&(l.lineDiv.style.display="none"),jb(n,l.updateLineNumbers,r.dims),y>4&&(l.lineDiv.style.display=""),l.renderedView=l.view,Yb(w),Je(l.cursorDiv),Je(l.selectionDiv),l.gutters.style.height=l.sizer.style.minHeight=0,m&&(l.lastWrapHeight=r.wrapperHeight,l.lastWrapWidth=r.wrapperWidth,go(n,400)),l.updateLineNumbers=null,!0}function dd(n,r){for(var l=r.viewport,o=!0;;o=!1){if(!o||!n.options.lineWrapping||r.oldDisplayWidth==Mr(n)){if(l&&l.top!=null&&(l={top:Math.min(n.doc.height+wu(n.display)-Du(n),l.top)}),r.visible=Rs(n.display,n.doc,l),r.visible.from>=n.display.viewFrom&&r.visible.to<=n.display.viewTo)break}else o&&(r.visible=Rs(n.display,n.doc,l));if(!Pu(n,r))break;_s(n);var u=fo(n);uo(n),ga(n,u),Wu(n,u),r.force=!1}r.signal(n,"update",n),(n.display.viewFrom!=n.display.reportedViewFrom||n.display.viewTo!=n.display.reportedViewTo)&&(r.signal(n,"viewportChange",n,n.display.viewFrom,n.display.viewTo),n.display.reportedViewFrom=n.display.viewFrom,n.display.reportedViewTo=n.display.viewTo)}function Bu(n,r){var l=new Ns(n,r);if(Pu(n,l)){_s(n),dd(n,l);var o=fo(n);uo(n),ga(n,o),Wu(n,o),l.finish()}}function jb(n,r,l){var o=n.display,u=n.options.lineNumbers,f=o.lineDiv,d=f.firstChild;function m(pe){var ye=pe.nextSibling;return L&&ie&&n.display.currentWheelTarget==pe?pe.style.display="none":pe.parentNode.removeChild(pe),ye}for(var y=o.view,w=o.viewFrom,O=0;O<y.length;O++){var P=y[O];if(!P.hidden)if(!P.node||P.node.parentNode!=f){var ae=vb(n,P,w,l);f.insertBefore(ae,d)}else{for(;d!=P.node;)d=m(d);var J=u&&r!=null&&r<=w&&P.lineNumber;P.changes&&($e(P.changes,"gutter")>-1&&(J=!1),Hf(n,P,w,l)),J&&(Je(P.lineNumber),P.lineNumber.appendChild(document.createTextNode(cu(n.options,w)))),d=P.node.nextSibling}w+=P.size}for(;d;)d=m(d)}function Hu(n){var r=n.gutters.offsetWidth;n.sizer.style.marginLeft=r+"px",xn(n,"gutterChanged",n)}function Wu(n,r){n.display.sizer.style.minHeight=r.docHeight+"px",n.display.heightForcer.style.top=r.docHeight+"px",n.display.gutters.style.height=r.docHeight+n.display.barHeight+Ii(n)+"px"}function pd(n){var r=n.display,l=r.view;if(!(!r.alignWidgets&&(!r.gutters.firstChild||!n.options.fixedGutter))){for(var o=Lu(r)-r.scroller.scrollLeft+n.doc.scrollLeft,u=r.gutters.offsetWidth,f=o+"px",d=0;d<l.length;d++)if(!l[d].hidden){n.options.fixedGutter&&(l[d].gutter&&(l[d].gutter.style.left=f),l[d].gutterBackground&&(l[d].gutterBackground.style.left=f));var m=l[d].alignable;if(m)for(var y=0;y<m.length;y++)m[y].style.left=f}n.options.fixedGutter&&(r.gutters.style.left=o+u+"px")}}function gd(n){if(!n.options.lineNumbers)return!1;var r=n.doc,l=cu(n.options,r.first+r.size-1),o=n.display;if(l.length!=o.lineNumChars){var u=o.measure.appendChild(G("div",[G("div",l)],"CodeMirror-linenumber CodeMirror-gutter-elt")),f=u.firstChild.offsetWidth,d=u.offsetWidth-f;return o.lineGutter.style.width="",o.lineNumInnerWidth=Math.max(f,o.lineGutter.offsetWidth-d)+1,o.lineNumWidth=o.lineNumInnerWidth+d,o.lineNumChars=o.lineNumInnerWidth?l.length:-1,o.lineGutter.style.width=o.lineNumWidth+"px",Hu(n.display),!0}return!1}function zu(n,r){for(var l=[],o=!1,u=0;u<n.length;u++){var f=n[u],d=null;if(typeof f!="string"&&(d=f.style,f=f.className),f=="CodeMirror-linenumbers")if(r)o=!0;else continue;l.push({className:f,style:d})}return r&&!o&&l.push({className:"CodeMirror-linenumbers",style:null}),l}function md(n){var r=n.gutters,l=n.gutterSpecs;Je(r),n.lineGutter=null;for(var o=0;o<l.length;++o){var u=l[o],f=u.className,d=u.style,m=r.appendChild(G("div",null,"CodeMirror-gutter "+f));d&&(m.style.cssText=d),f=="CodeMirror-linenumbers"&&(n.lineGutter=m,m.style.width=(n.lineNumWidth||1)+"px")}r.style.display=l.length?"":"none",Hu(n)}function mo(n){md(n.display),Bn(n),pd(n)}function qb(n,r,l,o){var u=this;this.input=l,u.scrollbarFiller=G("div",null,"CodeMirror-scrollbar-filler"),u.scrollbarFiller.setAttribute("cm-not-content","true"),u.gutterFiller=G("div",null,"CodeMirror-gutter-filler"),u.gutterFiller.setAttribute("cm-not-content","true"),u.lineDiv=le("div",null,"CodeMirror-code"),u.selectionDiv=G("div",null,null,"position: relative; z-index: 1"),u.cursorDiv=G("div",null,"CodeMirror-cursors"),u.measure=G("div",null,"CodeMirror-measure"),u.lineMeasure=G("div",null,"CodeMirror-measure"),u.lineSpace=le("div",[u.measure,u.lineMeasure,u.selectionDiv,u.cursorDiv,u.lineDiv],null,"position: relative; outline: none");var f=le("div",[u.lineSpace],"CodeMirror-lines");u.mover=G("div",[f],null,"position: relative"),u.sizer=G("div",[u.mover],"CodeMirror-sizer"),u.sizerWidth=null,u.heightForcer=G("div",null,null,"position: absolute; height: "+rt+"px; width: 1px;"),u.gutters=G("div",null,"CodeMirror-gutters"),u.lineGutter=null,u.scroller=G("div",[u.sizer,u.heightForcer,u.gutters],"CodeMirror-scroll"),u.scroller.setAttribute("tabIndex","-1"),u.wrapper=G("div",[u.scrollbarFiller,u.gutterFiller,u.scroller],"CodeMirror"),W&&fe>=105&&(u.wrapper.style.clipPath="inset(0px)"),u.wrapper.setAttribute("translate","no"),b&&D<8&&(u.gutters.style.zIndex=-1,u.scroller.style.paddingRight=0),!L&&!(s&&ee)&&(u.scroller.draggable=!0),n&&(n.appendChild?n.appendChild(u.wrapper):n(u.wrapper)),u.viewFrom=u.viewTo=r.first,u.reportedViewFrom=u.reportedViewTo=r.first,u.view=[],u.renderedView=null,u.externalMeasured=null,u.viewOffset=0,u.lastWrapHeight=u.lastWrapWidth=0,u.updateLineNumbers=null,u.nativeBarWidth=u.barHeight=u.barWidth=0,u.scrollbarsClipped=!1,u.lineNumWidth=u.lineNumInnerWidth=u.lineNumChars=null,u.alignWidgets=!1,u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.maxLine=null,u.maxLineLength=0,u.maxLineChanged=!1,u.wheelDX=u.wheelDY=u.wheelStartX=u.wheelStartY=null,u.shift=!1,u.selForContextMenu=null,u.activeTouch=null,u.gutterSpecs=zu(o.gutters,o.lineNumbers),md(u),l.init(u)}var Is=0,$i=null;b?$i=-.53:s?$i=15:W?$i=-.7:ue&&($i=-1/3);function vd(n){var r=n.wheelDeltaX,l=n.wheelDeltaY;return r==null&&n.detail&&n.axis==n.HORIZONTAL_AXIS&&(r=n.detail),l==null&&n.detail&&n.axis==n.VERTICAL_AXIS?l=n.detail:l==null&&(l=n.wheelDelta),{x:r,y:l}}function Vb(n){var r=vd(n);return r.x*=$i,r.y*=$i,r}function bd(n,r){W&&fe==102&&(n.display.chromeScrollHack==null?n.display.sizer.style.pointerEvents="none":clearTimeout(n.display.chromeScrollHack),n.display.chromeScrollHack=setTimeout(function(){n.display.chromeScrollHack=null,n.display.sizer.style.pointerEvents=""},100));var l=vd(r),o=l.x,u=l.y,f=$i;r.deltaMode===0&&(o=r.deltaX,u=r.deltaY,f=1);var d=n.display,m=d.scroller,y=m.scrollWidth>m.clientWidth,w=m.scrollHeight>m.clientHeight;if(o&&y||u&&w){if(u&&ie&&L){e:for(var O=r.target,P=d.view;O!=m;O=O.parentNode)for(var ae=0;ae<P.length;ae++)if(P[ae].node==O){n.display.currentWheelTarget=O;break e}}if(o&&!s&&!Q&&f!=null){u&&w&&ho(n,Math.max(0,m.scrollTop+u*f)),Or(n,Math.max(0,m.scrollLeft+o*f)),(!u||u&&w)&&re(r),d.wheelStartX=null;return}if(u&&f!=null){var J=u*f,pe=n.doc.scrollTop,ye=pe+d.wrapper.clientHeight;J<0?pe=Math.max(0,pe+J-50):ye=Math.min(n.doc.height,ye+J+50),Bu(n,{top:pe,bottom:ye})}Is<20&&r.deltaMode!==0&&(d.wheelStartX==null?(d.wheelStartX=m.scrollLeft,d.wheelStartY=m.scrollTop,d.wheelDX=o,d.wheelDY=u,setTimeout(function(){if(d.wheelStartX!=null){var Te=m.scrollLeft-d.wheelStartX,Oe=m.scrollTop-d.wheelStartY,ze=Oe&&d.wheelDY&&Oe/d.wheelDY||Te&&d.wheelDX&&Te/d.wheelDX;d.wheelStartX=d.wheelStartY=null,ze&&($i=($i*Is+ze)/(Is+1),++Is)}},200)):(d.wheelDX+=o,d.wheelDY+=u))}}var ai=function(n,r){this.ranges=n,this.primIndex=r};ai.prototype.primary=function(){return this.ranges[this.primIndex]},ai.prototype.equals=function(n){if(n==this)return!0;if(n.primIndex!=this.primIndex||n.ranges.length!=this.ranges.length)return!1;for(var r=0;r<this.ranges.length;r++){var l=this.ranges[r],o=n.ranges[r];if(!hu(l.anchor,o.anchor)||!hu(l.head,o.head))return!1}return!0},ai.prototype.deepCopy=function(){for(var n=[],r=0;r<this.ranges.length;r++)n[r]=new Lt(fu(this.ranges[r].anchor),fu(this.ranges[r].head));return new ai(n,this.primIndex)},ai.prototype.somethingSelected=function(){for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].empty())return!0;return!1},ai.prototype.contains=function(n,r){r||(r=n);for(var l=0;l<this.ranges.length;l++){var o=this.ranges[l];if(st(r,o.from())>=0&&st(n,o.to())<=0)return l}return-1};var Lt=function(n,r){this.anchor=n,this.head=r};Lt.prototype.from=function(){return ys(this.anchor,this.head)},Lt.prototype.to=function(){return bs(this.anchor,this.head)},Lt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Ci(n,r,l){var o=n&&n.options.selectionsMayTouch,u=r[l];r.sort(function(ae,J){return st(ae.from(),J.from())}),l=$e(r,u);for(var f=1;f<r.length;f++){var d=r[f],m=r[f-1],y=st(m.to(),d.from());if(o&&!d.empty()?y>0:y>=0){var w=ys(m.from(),d.from()),O=bs(m.to(),d.to()),P=m.empty()?d.from()==d.head:m.from()==m.head;f<=l&&--l,r.splice(--f,2,new Lt(P?O:w,P?w:O))}}return new ai(r,l)}function dr(n,r){return new ai([new Lt(n,r||n)],0)}function pr(n){return n.text?Ce(n.from.line+n.text.length-1,Ye(n.text).length+(n.text.length==1?n.from.ch:0)):n.to}function yd(n,r){if(st(n,r.from)<0)return n;if(st(n,r.to)<=0)return pr(r);var l=n.line+r.text.length-(r.to.line-r.from.line)-1,o=n.ch;return n.line==r.to.line&&(o+=pr(r).ch-r.to.ch),Ce(l,o)}function Uu(n,r){for(var l=[],o=0;o<n.sel.ranges.length;o++){var u=n.sel.ranges[o];l.push(new Lt(yd(u.anchor,r),yd(u.head,r)))}return Ci(n.cm,l,n.sel.primIndex)}function xd(n,r,l){return n.line==r.line?Ce(l.line,n.ch-r.ch+l.ch):Ce(l.line+(n.line-r.line),n.ch)}function Gb(n,r,l){for(var o=[],u=Ce(n.first,0),f=u,d=0;d<r.length;d++){var m=r[d],y=xd(m.from,u,f),w=xd(pr(m),u,f);if(u=m.to,f=w,l=="around"){var O=n.sel.ranges[d],P=st(O.head,O.anchor)<0;o[d]=new Lt(P?w:y,P?y:w)}else o[d]=new Lt(y,y)}return new ai(o,n.sel.primIndex)}function Yu(n){n.doc.mode=ut(n.options,n.doc.modeOption),vo(n)}function vo(n){n.doc.iter(function(r){r.stateAfter&&(r.stateAfter=null),r.styles&&(r.styles=null)}),n.doc.modeFrontier=n.doc.highlightFrontier=n.doc.first,go(n,100),n.state.modeGen++,n.curOp&&Bn(n)}function wd(n,r){return r.from.ch==0&&r.to.ch==0&&Ye(r.text)==""&&(!n.cm||n.cm.options.wholeLineUpdateBefore)}function ju(n,r,l,o){function u(ze){return l?l[ze]:null}function f(ze,Ne,qe){tb(ze,Ne,qe,o),xn(ze,"change",ze,r)}function d(ze,Ne){for(var qe=[],nt=ze;nt<Ne;++nt)qe.push(new la(w[nt],u(nt),o));return qe}var m=r.from,y=r.to,w=r.text,O=Qe(n,m.line),P=Qe(n,y.line),ae=Ye(w),J=u(w.length-1),pe=y.line-m.line;if(r.full)n.insert(0,d(0,w.length)),n.remove(w.length,n.size-w.length);else if(wd(n,r)){var ye=d(0,w.length-1);f(P,P.text,J),pe&&n.remove(m.line,pe),ye.length&&n.insert(m.line,ye)}else if(O==P)if(w.length==1)f(O,O.text.slice(0,m.ch)+ae+O.text.slice(y.ch),J);else{var Te=d(1,w.length-1);Te.push(new la(ae+O.text.slice(y.ch),J,o)),f(O,O.text.slice(0,m.ch)+w[0],u(0)),n.insert(m.line+1,Te)}else if(w.length==1)f(O,O.text.slice(0,m.ch)+w[0]+P.text.slice(y.ch),u(0)),n.remove(m.line+1,pe);else{f(O,O.text.slice(0,m.ch)+w[0],u(0)),f(P,ae+P.text.slice(y.ch),J);var Oe=d(1,w.length-1);pe>1&&n.remove(m.line+1,pe-1),n.insert(m.line+1,Oe)}xn(n,"change",n,r)}function gr(n,r,l){function o(u,f,d){if(u.linked)for(var m=0;m<u.linked.length;++m){var y=u.linked[m];if(y.doc!=f){var w=d&&y.sharedHist;l&&!w||(r(y.doc,w),o(y.doc,u,w))}}}o(n,null,!0)}function Dd(n,r){if(r.cm)throw new Error("This document is already in use.");n.doc=r,r.cm=n,Mu(n),Yu(n),Cd(n),n.options.direction=r.direction,n.options.lineWrapping||yu(n),n.options.mode=r.modeOption,Bn(n)}function Cd(n){(n.doc.direction=="rtl"?j:Ve)(n.display.lineDiv,"CodeMirror-rtl")}function $b(n){Zn(n,function(){Cd(n),Bn(n)})}function Ps(n){this.done=[],this.undone=[],this.undoDepth=n?n.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=n?n.maxGeneration:1}function qu(n,r){var l={from:fu(r.from),to:pr(r),text:Tr(n,r.from,r.to)};return Sd(n,l,r.from.line,r.to.line+1),gr(n,function(o){return Sd(o,l,r.from.line,r.to.line+1)},!0),l}function kd(n){for(;n.length;){var r=Ye(n);if(r.ranges)n.pop();else break}}function Kb(n,r){if(r)return kd(n.done),Ye(n.done);if(n.done.length&&!Ye(n.done).ranges)return Ye(n.done);if(n.done.length>1&&!n.done[n.done.length-2].ranges)return n.done.pop(),Ye(n.done)}function Ad(n,r,l,o){var u=n.history;u.undone.length=0;var f=+new Date,d,m;if((u.lastOp==o||u.lastOrigin==r.origin&&r.origin&&(r.origin.charAt(0)=="+"&&u.lastModTime>f-(n.cm?n.cm.options.historyEventDelay:500)||r.origin.charAt(0)=="*"))&&(d=Kb(u,u.lastOp==o)))m=Ye(d.changes),st(r.from,r.to)==0&&st(r.from,m.to)==0?m.to=pr(r):d.changes.push(qu(n,r));else{var y=Ye(u.done);for((!y||!y.ranges)&&Bs(n.sel,u.done),d={changes:[qu(n,r)],generation:u.generation},u.done.push(d);u.done.length>u.undoDepth;)u.done.shift(),u.done[0].ranges||u.done.shift()}u.done.push(l),u.generation=++u.maxGeneration,u.lastModTime=u.lastSelTime=f,u.lastOp=u.lastSelOp=o,u.lastOrigin=u.lastSelOrigin=r.origin,m||Be(n,"historyAdded")}function Xb(n,r,l,o){var u=r.charAt(0);return u=="*"||u=="+"&&l.ranges.length==o.ranges.length&&l.somethingSelected()==o.somethingSelected()&&new Date-n.history.lastSelTime<=(n.cm?n.cm.options.historyEventDelay:500)}function Jb(n,r,l,o){var u=n.history,f=o&&o.origin;l==u.lastSelOp||f&&u.lastSelOrigin==f&&(u.lastModTime==u.lastSelTime&&u.lastOrigin==f||Xb(n,f,Ye(u.done),r))?u.done[u.done.length-1]=r:Bs(r,u.done),u.lastSelTime=+new Date,u.lastSelOrigin=f,u.lastSelOp=l,o&&o.clearRedo!==!1&&kd(u.undone)}function Bs(n,r){var l=Ye(r);l&&l.ranges&&l.equals(n)||r.push(n)}function Sd(n,r,l,o){var u=r["spans_"+n.id],f=0;n.iter(Math.max(n.first,l),Math.min(n.first+n.size,o),function(d){d.markedSpans&&((u||(u=r["spans_"+n.id]={}))[f]=d.markedSpans),++f})}function Zb(n){if(!n)return null;for(var r,l=0;l<n.length;++l)n[l].marker.explicitlyCleared?r||(r=n.slice(0,l)):r&&r.push(n[l]);return r?r.length?r:null:n}function Qb(n,r){var l=r["spans_"+n.id];if(!l)return null;for(var o=[],u=0;u<r.text.length;++u)o.push(Zb(l[u]));return o}function Ed(n,r){var l=Qb(n,r),o=gu(n,r);if(!l)return o;if(!o)return l;for(var u=0;u<l.length;++u){var f=l[u],d=o[u];if(f&&d)e:for(var m=0;m<d.length;++m){for(var y=d[m],w=0;w<f.length;++w)if(f[w].marker==y.marker)continue e;f.push(y)}else d&&(l[u]=d)}return l}function ma(n,r,l){for(var o=[],u=0;u<n.length;++u){var f=n[u];if(f.ranges){o.push(l?ai.prototype.deepCopy.call(f):f);continue}var d=f.changes,m=[];o.push({changes:m});for(var y=0;y<d.length;++y){var w=d[y],O=void 0;if(m.push({from:w.from,to:w.to,text:w.text}),r)for(var P in w)(O=P.match(/^spans_(\d+)$/))&&$e(r,Number(O[1]))>-1&&(Ye(m)[P]=w[P],delete w[P])}}return o}function Vu(n,r,l,o){if(o){var u=n.anchor;if(l){var f=st(r,u)<0;f!=st(l,u)<0?(u=r,r=l):f!=st(r,l)<0&&(r=l)}return new Lt(u,r)}else return new Lt(l||r,r)}function Hs(n,r,l,o,u){u==null&&(u=n.cm&&(n.cm.display.shift||n.extend)),Ln(n,new ai([Vu(n.sel.primary(),r,l,u)],0),o)}function Td(n,r,l){for(var o=[],u=n.cm&&(n.cm.display.shift||n.extend),f=0;f<n.sel.ranges.length;f++)o[f]=Vu(n.sel.ranges[f],r[f],null,u);var d=Ci(n.cm,o,n.sel.primIndex);Ln(n,d,l)}function Gu(n,r,l,o){var u=n.sel.ranges.slice(0);u[r]=l,Ln(n,Ci(n.cm,u,n.sel.primIndex),o)}function Ld(n,r,l,o){Ln(n,dr(r,l),o)}function ey(n,r,l){var o={ranges:r.ranges,update:function(u){this.ranges=[];for(var f=0;f<u.length;f++)this.ranges[f]=new Lt(lt(n,u[f].anchor),lt(n,u[f].head))},origin:l&&l.origin};return Be(n,"beforeSelectionChange",n,o),n.cm&&Be(n.cm,"beforeSelectionChange",n.cm,o),o.ranges!=r.ranges?Ci(n.cm,o.ranges,o.ranges.length-1):r}function Md(n,r,l){var o=n.history.done,u=Ye(o);u&&u.ranges?(o[o.length-1]=r,Ws(n,r,l)):Ln(n,r,l)}function Ln(n,r,l){Ws(n,r,l),Jb(n,n.sel,n.cm?n.cm.curOp.id:NaN,l)}function Ws(n,r,l){(F(n,"beforeSelectionChange")||n.cm&&F(n.cm,"beforeSelectionChange"))&&(r=ey(n,r,l));var o=l&&l.bias||(st(r.primary().head,n.sel.primary().head)<0?-1:1);Fd(n,Rd(n,r,o,!0)),!(l&&l.scroll===!1)&&n.cm&&n.cm.getOption("readOnly")!="nocursor"&&pa(n.cm)}function Fd(n,r){r.equals(n.sel)||(n.sel=r,n.cm&&(n.cm.curOp.updateInput=1,n.cm.curOp.selectionChanged=!0,T(n.cm)),xn(n,"cursorActivity",n))}function _d(n){Fd(n,Rd(n,n.sel,null,!1))}function Rd(n,r,l,o){for(var u,f=0;f<r.ranges.length;f++){var d=r.ranges[f],m=r.ranges.length==n.sel.ranges.length&&n.sel.ranges[f],y=zs(n,d.anchor,m&&m.anchor,l,o),w=d.head==d.anchor?y:zs(n,d.head,m&&m.head,l,o);(u||y!=d.anchor||w!=d.head)&&(u||(u=r.ranges.slice(0,f)),u[f]=new Lt(y,w))}return u?Ci(n.cm,u,r.primIndex):r}function va(n,r,l,o,u){var f=Qe(n,r.line);if(f.markedSpans)for(var d=0;d<f.markedSpans.length;++d){var m=f.markedSpans[d],y=m.marker,w="selectLeft"in y?!y.selectLeft:y.inclusiveLeft,O="selectRight"in y?!y.selectRight:y.inclusiveRight;if((m.from==null||(w?m.from<=r.ch:m.from<r.ch))&&(m.to==null||(O?m.to>=r.ch:m.to>r.ch))){if(u&&(Be(y,"beforeCursorEnter"),y.explicitlyCleared))if(f.markedSpans){--d;continue}else break;if(!y.atomic)continue;if(l){var P=y.find(o<0?1:-1),ae=void 0;if((o<0?O:w)&&(P=Od(n,P,-o,P&&P.line==r.line?f:null)),P&&P.line==r.line&&(ae=st(P,l))&&(o<0?ae<0:ae>0))return va(n,P,r,o,u)}var J=y.find(o<0?-1:1);return(o<0?w:O)&&(J=Od(n,J,o,J.line==r.line?f:null)),J?va(n,J,r,o,u):null}}return r}function zs(n,r,l,o,u){var f=o||1,d=va(n,r,l,f,u)||!u&&va(n,r,l,f,!0)||va(n,r,l,-f,u)||!u&&va(n,r,l,-f,!0);return d||(n.cantEdit=!0,Ce(n.first,0))}function Od(n,r,l,o){return l<0&&r.ch==0?r.line>n.first?lt(n,Ce(r.line-1)):null:l>0&&r.ch==(o||Qe(n,r.line)).text.length?r.line<n.first+n.size-1?Ce(r.line+1,0):null:new Ce(r.line,r.ch+l)}function Nd(n){n.setSelection(Ce(n.firstLine(),0),Ce(n.lastLine()),yt)}function Id(n,r,l){var o={canceled:!1,from:r.from,to:r.to,text:r.text,origin:r.origin,cancel:function(){return o.canceled=!0}};return l&&(o.update=function(u,f,d,m){u&&(o.from=lt(n,u)),f&&(o.to=lt(n,f)),d&&(o.text=d),m!==void 0&&(o.origin=m)}),Be(n,"beforeChange",n,o),n.cm&&Be(n.cm,"beforeChange",n.cm,o),o.canceled?(n.cm&&(n.cm.curOp.updateInput=2),null):{from:o.from,to:o.to,text:o.text,origin:o.origin}}function ba(n,r,l){if(n.cm){if(!n.cm.curOp)return wn(n.cm,ba)(n,r,l);if(n.cm.state.suppressEdits)return}if(!((F(n,"beforeChange")||n.cm&&F(n.cm,"beforeChange"))&&(r=Id(n,r,!0),!r))){var o=Ef&&!l&&J0(n,r.from,r.to);if(o)for(var u=o.length-1;u>=0;--u)Pd(n,{from:o[u].from,to:o[u].to,text:u?[""]:r.text,origin:r.origin});else Pd(n,r)}}function Pd(n,r){if(!(r.text.length==1&&r.text[0]==""&&st(r.from,r.to)==0)){var l=Uu(n,r);Ad(n,r,l,n.cm?n.cm.curOp.id:NaN),bo(n,r,l,gu(n,r));var o=[];gr(n,function(u,f){!f&&$e(o,u.history)==-1&&(zd(u.history,r),o.push(u.history)),bo(u,r,null,gu(u,r))})}}function Us(n,r,l){var o=n.cm&&n.cm.state.suppressEdits;if(!(o&&!l)){for(var u=n.history,f,d=n.sel,m=r=="undo"?u.done:u.undone,y=r=="undo"?u.undone:u.done,w=0;w<m.length&&(f=m[w],!(l?f.ranges&&!f.equals(n.sel):!f.ranges));w++);if(w!=m.length){for(u.lastOrigin=u.lastSelOrigin=null;;)if(f=m.pop(),f.ranges){if(Bs(f,y),l&&!f.equals(n.sel)){Ln(n,f,{clearRedo:!1});return}d=f}else if(o){m.push(f);return}else break;var O=[];Bs(d,y),y.push({changes:O,generation:u.generation}),u.generation=f.generation||++u.maxGeneration;for(var P=F(n,"beforeChange")||n.cm&&F(n.cm,"beforeChange"),ae=function(ye){var Te=f.changes[ye];if(Te.origin=r,P&&!Id(n,Te,!1))return m.length=0,{};O.push(qu(n,Te));var Oe=ye?Uu(n,Te):Ye(m);bo(n,Te,Oe,Ed(n,Te)),!ye&&n.cm&&n.cm.scrollIntoView({from:Te.from,to:pr(Te)});var ze=[];gr(n,function(Ne,qe){!qe&&$e(ze,Ne.history)==-1&&(zd(Ne.history,Te),ze.push(Ne.history)),bo(Ne,Te,null,Ed(Ne,Te))})},J=f.changes.length-1;J>=0;--J){var pe=ae(J);if(pe)return pe.v}}}}function Bd(n,r){if(r!=0&&(n.first+=r,n.sel=new ai(_t(n.sel.ranges,function(u){return new Lt(Ce(u.anchor.line+r,u.anchor.ch),Ce(u.head.line+r,u.head.ch))}),n.sel.primIndex),n.cm)){Bn(n.cm,n.first,n.first-r,r);for(var l=n.cm.display,o=l.viewFrom;o<l.viewTo;o++)hr(n.cm,o,"gutter")}}function bo(n,r,l,o){if(n.cm&&!n.cm.curOp)return wn(n.cm,bo)(n,r,l,o);if(r.to.line<n.first){Bd(n,r.text.length-1-(r.to.line-r.from.line));return}if(!(r.from.line>n.lastLine())){if(r.from.line<n.first){var u=r.text.length-1-(n.first-r.from.line);Bd(n,u),r={from:Ce(n.first,0),to:Ce(r.to.line+u,r.to.ch),text:[Ye(r.text)],origin:r.origin}}var f=n.lastLine();r.to.line>f&&(r={from:r.from,to:Ce(f,Qe(n,f).text.length),text:[r.text[0]],origin:r.origin}),r.removed=Tr(n,r.from,r.to),l||(l=Uu(n,r)),n.cm?ty(n.cm,r,o):ju(n,r,o),Ws(n,l,yt),n.cantEdit&&zs(n,Ce(n.firstLine(),0))&&(n.cantEdit=!1)}}function ty(n,r,l){var o=n.doc,u=n.display,f=r.from,d=r.to,m=!1,y=f.line;n.options.lineWrapping||(y=Nt(wi(Qe(o,f.line))),o.iter(y,d.line+1,function(J){if(J==u.maxLine)return m=!0,!0})),o.sel.contains(r.from,r.to)>-1&&T(n),ju(o,r,l,id(n)),n.options.lineWrapping||(o.iter(y,f.line+r.text.length,function(J){var pe=As(J);pe>u.maxLineLength&&(u.maxLine=J,u.maxLineLength=pe,u.maxLineChanged=!0,m=!1)}),m&&(n.curOp.updateMaxLine=!0)),j0(o,f.line),go(n,400);var w=r.text.length-(d.line-f.line)-1;r.full?Bn(n):f.line==d.line&&r.text.length==1&&!wd(n.doc,r)?hr(n,f.line,"text"):Bn(n,f.line,d.line+1,w);var O=F(n,"changes"),P=F(n,"change");if(P||O){var ae={from:f,to:d,text:r.text,removed:r.removed,origin:r.origin};P&&xn(n,"change",n,ae),O&&(n.curOp.changeObjs||(n.curOp.changeObjs=[])).push(ae)}n.display.selForContextMenu=null}function ya(n,r,l,o,u){var f;o||(o=l),st(o,l)<0&&(f=[o,l],l=f[0],o=f[1]),typeof r=="string"&&(r=n.splitLines(r)),ba(n,{from:l,to:o,text:r,origin:u})}function Hd(n,r,l,o){l<n.line?n.line+=o:r<n.line&&(n.line=r,n.ch=0)}function Wd(n,r,l,o){for(var u=0;u<n.length;++u){var f=n[u],d=!0;if(f.ranges){f.copied||(f=n[u]=f.deepCopy(),f.copied=!0);for(var m=0;m<f.ranges.length;m++)Hd(f.ranges[m].anchor,r,l,o),Hd(f.ranges[m].head,r,l,o);continue}for(var y=0;y<f.changes.length;++y){var w=f.changes[y];if(l<w.from.line)w.from=Ce(w.from.line+o,w.from.ch),w.to=Ce(w.to.line+o,w.to.ch);else if(r<=w.to.line){d=!1;break}}d||(n.splice(0,u+1),u=0)}}function zd(n,r){var l=r.from.line,o=r.to.line,u=r.text.length-(o-l)-1;Wd(n.done,l,o,u),Wd(n.undone,l,o,u)}function yo(n,r,l,o){var u=r,f=r;return typeof r=="number"?f=Qe(n,bf(n,r)):u=Nt(r),u==null?null:(o(f,u)&&n.cm&&hr(n.cm,u,l),f)}function xo(n){this.lines=n,this.parent=null;for(var r=0,l=0;l<n.length;++l)n[l].parent=this,r+=n[l].height;this.height=r}xo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(n,r){for(var l=n,o=n+r;l<o;++l){var u=this.lines[l];this.height-=u.height,nb(u),xn(u,"delete")}this.lines.splice(n,r)},collapse:function(n){n.push.apply(n,this.lines)},insertInner:function(n,r,l){this.height+=l,this.lines=this.lines.slice(0,n).concat(r).concat(this.lines.slice(n));for(var o=0;o<r.length;++o)r[o].parent=this},iterN:function(n,r,l){for(var o=n+r;n<o;++n)if(l(this.lines[n]))return!0}};function wo(n){this.children=n;for(var r=0,l=0,o=0;o<n.length;++o){var u=n[o];r+=u.chunkSize(),l+=u.height,u.parent=this}this.size=r,this.height=l,this.parent=null}wo.prototype={chunkSize:function(){return this.size},removeInner:function(n,r){this.size-=r;for(var l=0;l<this.children.length;++l){var o=this.children[l],u=o.chunkSize();if(n<u){var f=Math.min(r,u-n),d=o.height;if(o.removeInner(n,f),this.height-=d-o.height,u==f&&(this.children.splice(l--,1),o.parent=null),(r-=f)==0)break;n=0}else n-=u}if(this.size-r<25&&(this.children.length>1||!(this.children[0]instanceof xo))){var m=[];this.collapse(m),this.children=[new xo(m)],this.children[0].parent=this}},collapse:function(n){for(var r=0;r<this.children.length;++r)this.children[r].collapse(n)},insertInner:function(n,r,l){this.size+=r.length,this.height+=l;for(var o=0;o<this.children.length;++o){var u=this.children[o],f=u.chunkSize();if(n<=f){if(u.insertInner(n,r,l),u.lines&&u.lines.length>50){for(var d=u.lines.length%25+25,m=d;m<u.lines.length;){var y=new xo(u.lines.slice(m,m+=25));u.height-=y.height,this.children.splice(++o,0,y),y.parent=this}u.lines=u.lines.slice(0,d),this.maybeSpill()}break}n-=f}},maybeSpill:function(){if(!(this.children.length<=10)){var n=this;do{var r=n.children.splice(n.children.length-5,5),l=new wo(r);if(n.parent){n.size-=l.size,n.height-=l.height;var u=$e(n.parent.children,n);n.parent.children.splice(u+1,0,l)}else{var o=new wo(n.children);o.parent=n,n.children=[o,l],n=o}l.parent=n.parent}while(n.children.length>10);n.parent.maybeSpill()}},iterN:function(n,r,l){for(var o=0;o<this.children.length;++o){var u=this.children[o],f=u.chunkSize();if(n<f){var d=Math.min(r,f-n);if(u.iterN(n,d,l))return!0;if((r-=d)==0)break;n=0}else n-=f}}};var Do=function(n,r,l){if(l)for(var o in l)l.hasOwnProperty(o)&&(this[o]=l[o]);this.doc=n,this.node=r};Do.prototype.clear=function(){var n=this.doc.cm,r=this.line.widgets,l=this.line,o=Nt(l);if(!(o==null||!r)){for(var u=0;u<r.length;++u)r[u]==this&&r.splice(u--,1);r.length||(l.widgets=null);var f=so(this);Oi(l,Math.max(0,l.height-f)),n&&(Zn(n,function(){Ud(n,l,-f),hr(n,o,"widget")}),xn(n,"lineWidgetCleared",n,this,o))}},Do.prototype.changed=function(){var n=this,r=this.height,l=this.doc.cm,o=this.line;this.height=null;var u=so(this)-r;u&&(cr(this.doc,o)||Oi(o,o.height+u),l&&Zn(l,function(){l.curOp.forceUpdate=!0,Ud(l,o,u),xn(l,"lineWidgetChanged",l,n,Nt(o))}))},Y(Do);function Ud(n,r,l){Vi(r)<(n.curOp&&n.curOp.scrollTop||n.doc.scrollTop)&&Iu(n,l)}function ny(n,r,l,o){var u=new Do(n,l,o),f=n.cm;return f&&u.noHScroll&&(f.display.alignWidgets=!0),yo(n,r,"widget",function(d){var m=d.widgets||(d.widgets=[]);if(u.insertAt==null?m.push(u):m.splice(Math.min(m.length,Math.max(0,u.insertAt)),0,u),u.line=d,f&&!cr(n,d)){var y=Vi(d)<n.scrollTop;Oi(d,d.height+so(u)),y&&Iu(f,u.height),f.curOp.forceUpdate=!0}return!0}),f&&xn(f,"lineWidgetAdded",f,u,typeof r=="number"?r:Nt(r)),u}var Yd=0,mr=function(n,r){this.lines=[],this.type=r,this.doc=n,this.id=++Yd};mr.prototype.clear=function(){if(!this.explicitlyCleared){var n=this.doc.cm,r=n&&!n.curOp;if(r&&Ir(n),F(this,"clear")){var l=this.find();l&&xn(this,"clear",l.from,l.to)}for(var o=null,u=null,f=0;f<this.lines.length;++f){var d=this.lines[f],m=ro(d.markedSpans,this);n&&!this.collapsed?hr(n,Nt(d),"text"):n&&(m.to!=null&&(u=Nt(d)),m.from!=null&&(o=Nt(d))),d.markedSpans=G0(d.markedSpans,m),m.from==null&&this.collapsed&&!cr(this.doc,d)&&n&&Oi(d,ha(n.display))}if(n&&this.collapsed&&!n.options.lineWrapping)for(var y=0;y<this.lines.length;++y){var w=wi(this.lines[y]),O=As(w);O>n.display.maxLineLength&&(n.display.maxLine=w,n.display.maxLineLength=O,n.display.maxLineChanged=!0)}o!=null&&n&&this.collapsed&&Bn(n,o,u+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,n&&_d(n.doc)),n&&xn(n,"markerCleared",n,this,o,u),r&&Pr(n),this.parent&&this.parent.clear()}},mr.prototype.find=function(n,r){n==null&&this.type=="bookmark"&&(n=1);for(var l,o,u=0;u<this.lines.length;++u){var f=this.lines[u],d=ro(f.markedSpans,this);if(d.from!=null&&(l=Ce(r?f:Nt(f),d.from),n==-1))return l;if(d.to!=null&&(o=Ce(r?f:Nt(f),d.to),n==1))return o}return l&&{from:l,to:o}},mr.prototype.changed=function(){var n=this,r=this.find(-1,!0),l=this,o=this.doc.cm;!r||!o||Zn(o,function(){var u=r.line,f=Nt(r.line),d=Cu(o,f);if(d&&(Kf(d),o.curOp.selectionChanged=o.curOp.forceUpdate=!0),o.curOp.updateMaxLine=!0,!cr(l.doc,u)&&l.height!=null){var m=l.height;l.height=null;var y=so(l)-m;y&&Oi(u,u.height+y)}xn(o,"markerChanged",o,n)})},mr.prototype.attachLine=function(n){if(!this.lines.length&&this.doc.cm){var r=this.doc.cm.curOp;(!r.maybeHiddenMarkers||$e(r.maybeHiddenMarkers,this)==-1)&&(r.maybeUnhiddenMarkers||(r.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(n)},mr.prototype.detachLine=function(n){if(this.lines.splice($e(this.lines,n),1),!this.lines.length&&this.doc.cm){var r=this.doc.cm.curOp;(r.maybeHiddenMarkers||(r.maybeHiddenMarkers=[])).push(this)}},Y(mr);function xa(n,r,l,o,u){if(o&&o.shared)return iy(n,r,l,o,u);if(n.cm&&!n.cm.curOp)return wn(n.cm,xa)(n,r,l,o,u);var f=new mr(n,u),d=st(r,l);if(o&&He(o,f,!1),d>0||d==0&&f.clearWhenEmpty!==!1)return f;if(f.replacedWith&&(f.collapsed=!0,f.widgetNode=le("span",[f.replacedWith],"CodeMirror-widget"),o.handleMouseEvents||f.widgetNode.setAttribute("cm-ignore-events","true"),o.insertLeft&&(f.widgetNode.insertLeft=!0)),f.collapsed){if(Rf(n,r.line,r,l,f)||r.line!=l.line&&Rf(n,l.line,r,l,f))throw new Error("Inserting collapsed marker partially overlapping an existing one");V0()}f.addToHistory&&Ad(n,{from:r,to:l,origin:"markText"},n.sel,NaN);var m=r.line,y=n.cm,w;if(n.iter(m,l.line+1,function(P){y&&f.collapsed&&!y.options.lineWrapping&&wi(P)==y.display.maxLine&&(w=!0),f.collapsed&&m!=r.line&&Oi(P,0),$0(P,new ws(f,m==r.line?r.ch:null,m==l.line?l.ch:null),n.cm&&n.cm.curOp),++m}),f.collapsed&&n.iter(r.line,l.line+1,function(P){cr(n,P)&&Oi(P,0)}),f.clearOnEnter&&$(f,"beforeCursorEnter",function(){return f.clear()}),f.readOnly&&(q0(),(n.history.done.length||n.history.undone.length)&&n.clearHistory()),f.collapsed&&(f.id=++Yd,f.atomic=!0),y){if(w&&(y.curOp.updateMaxLine=!0),f.collapsed)Bn(y,r.line,l.line+1);else if(f.className||f.startStyle||f.endStyle||f.css||f.attributes||f.title)for(var O=r.line;O<=l.line;O++)hr(y,O,"text");f.atomic&&_d(y.doc),xn(y,"markerAdded",y,f)}return f}var Co=function(n,r){this.markers=n,this.primary=r;for(var l=0;l<n.length;++l)n[l].parent=this};Co.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)this.markers[n].clear();xn(this,"clear")}},Co.prototype.find=function(n,r){return this.primary.find(n,r)},Y(Co);function iy(n,r,l,o,u){o=He(o),o.shared=!1;var f=[xa(n,r,l,o,u)],d=f[0],m=o.widgetNode;return gr(n,function(y){m&&(o.widgetNode=m.cloneNode(!0)),f.push(xa(y,lt(y,r),lt(y,l),o,u));for(var w=0;w<y.linked.length;++w)if(y.linked[w].isParent)return;d=Ye(f)}),new Co(f,d)}function jd(n){return n.findMarks(Ce(n.first,0),n.clipPos(Ce(n.lastLine())),function(r){return r.parent})}function ry(n,r){for(var l=0;l<r.length;l++){var o=r[l],u=o.find(),f=n.clipPos(u.from),d=n.clipPos(u.to);if(st(f,d)){var m=xa(n,f,d,o.primary,o.primary.type);o.markers.push(m),m.parent=o}}}function ay(n){for(var r=function(o){var u=n[o],f=[u.primary.doc];gr(u.primary.doc,function(y){return f.push(y)});for(var d=0;d<u.markers.length;d++){var m=u.markers[d];$e(f,m.doc)==-1&&(m.parent=null,u.markers.splice(d--,1))}},l=0;l<n.length;l++)r(l)}var oy=0,Hn=function(n,r,l,o,u){if(!(this instanceof Hn))return new Hn(n,r,l,o,u);l==null&&(l=0),wo.call(this,[new xo([new la("",null)])]),this.first=l,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=l;var f=Ce(l,0);this.sel=dr(f),this.history=new Ps(null),this.id=++oy,this.modeOption=r,this.lineSep=o,this.direction=u=="rtl"?"rtl":"ltr",this.extend=!1,typeof n=="string"&&(n=this.splitLines(n)),ju(this,{from:f,to:f,text:n}),Ln(this,dr(f),yt)};Hn.prototype=oe(wo.prototype,{constructor:Hn,iter:function(n,r,l){l?this.iterN(n-this.first,r-n,l):this.iterN(this.first,this.first+this.size,n)},insert:function(n,r){for(var l=0,o=0;o<r.length;++o)l+=r[o].height;this.insertInner(n-this.first,r,l)},remove:function(n,r){this.removeInner(n-this.first,r)},getValue:function(n){var r=uu(this,this.first,this.first+this.size);return n===!1?r:r.join(n||this.lineSeparator())},setValue:Dn(function(n){var r=Ce(this.first,0),l=this.first+this.size-1;ba(this,{from:r,to:Ce(l,Qe(this,l).text.length),text:this.splitLines(n),origin:"setValue",full:!0},!0),this.cm&&co(this.cm,0,0),Ln(this,dr(r),yt)}),replaceRange:function(n,r,l,o){r=lt(this,r),l=l?lt(this,l):r,ya(this,n,r,l,o)},getRange:function(n,r,l){var o=Tr(this,lt(this,n),lt(this,r));return l===!1?o:l===""?o.join(""):o.join(l||this.lineSeparator())},getLine:function(n){var r=this.getLineHandle(n);return r&&r.text},getLineHandle:function(n){if(no(this,n))return Qe(this,n)},getLineNumber:function(n){return Nt(n)},getLineHandleVisualStart:function(n){return typeof n=="number"&&(n=Qe(this,n)),wi(n)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(n){return lt(this,n)},getCursor:function(n){var r=this.sel.primary(),l;return n==null||n=="head"?l=r.head:n=="anchor"?l=r.anchor:n=="end"||n=="to"||n===!1?l=r.to():l=r.from(),l},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Dn(function(n,r,l){Ld(this,lt(this,typeof n=="number"?Ce(n,r||0):n),null,l)}),setSelection:Dn(function(n,r,l){Ld(this,lt(this,n),lt(this,r||n),l)}),extendSelection:Dn(function(n,r,l){Hs(this,lt(this,n),r&&lt(this,r),l)}),extendSelections:Dn(function(n,r){Td(this,yf(this,n),r)}),extendSelectionsBy:Dn(function(n,r){var l=_t(this.sel.ranges,n);Td(this,yf(this,l),r)}),setSelections:Dn(function(n,r,l){if(n.length){for(var o=[],u=0;u<n.length;u++)o[u]=new Lt(lt(this,n[u].anchor),lt(this,n[u].head||n[u].anchor));r==null&&(r=Math.min(n.length-1,this.sel.primIndex)),Ln(this,Ci(this.cm,o,r),l)}}),addSelection:Dn(function(n,r,l){var o=this.sel.ranges.slice(0);o.push(new Lt(lt(this,n),lt(this,r||n))),Ln(this,Ci(this.cm,o,o.length-1),l)}),getSelection:function(n){for(var r=this.sel.ranges,l,o=0;o<r.length;o++){var u=Tr(this,r[o].from(),r[o].to());l=l?l.concat(u):u}return n===!1?l:l.join(n||this.lineSeparator())},getSelections:function(n){for(var r=[],l=this.sel.ranges,o=0;o<l.length;o++){var u=Tr(this,l[o].from(),l[o].to());n!==!1&&(u=u.join(n||this.lineSeparator())),r[o]=u}return r},replaceSelection:function(n,r,l){for(var o=[],u=0;u<this.sel.ranges.length;u++)o[u]=n;this.replaceSelections(o,r,l||"+input")},replaceSelections:Dn(function(n,r,l){for(var o=[],u=this.sel,f=0;f<u.ranges.length;f++){var d=u.ranges[f];o[f]={from:d.from(),to:d.to(),text:this.splitLines(n[f]),origin:l}}for(var m=r&&r!="end"&&Gb(this,o,r),y=o.length-1;y>=0;y--)ba(this,o[y]);m?Md(this,m):this.cm&&pa(this.cm)}),undo:Dn(function(){Us(this,"undo")}),redo:Dn(function(){Us(this,"redo")}),undoSelection:Dn(function(){Us(this,"undo",!0)}),redoSelection:Dn(function(){Us(this,"redo",!0)}),setExtending:function(n){this.extend=n},getExtending:function(){return this.extend},historySize:function(){for(var n=this.history,r=0,l=0,o=0;o<n.done.length;o++)n.done[o].ranges||++r;for(var u=0;u<n.undone.length;u++)n.undone[u].ranges||++l;return{undo:r,redo:l}},clearHistory:function(){var n=this;this.history=new Ps(this.history),gr(this,function(r){return r.history=n.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(n){return n&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(n){return this.history.generation==(n||this.cleanGeneration)},getHistory:function(){return{done:ma(this.history.done),undone:ma(this.history.undone)}},setHistory:function(n){var r=this.history=new Ps(this.history);r.done=ma(n.done.slice(0),null,!0),r.undone=ma(n.undone.slice(0),null,!0)},setGutterMarker:Dn(function(n,r,l){return yo(this,n,"gutter",function(o){var u=o.gutterMarkers||(o.gutterMarkers={});return u[r]=l,!l&&A(u)&&(o.gutterMarkers=null),!0})}),clearGutter:Dn(function(n){var r=this;this.iter(function(l){l.gutterMarkers&&l.gutterMarkers[n]&&yo(r,l,"gutter",function(){return l.gutterMarkers[n]=null,A(l.gutterMarkers)&&(l.gutterMarkers=null),!0})})}),lineInfo:function(n){var r;if(typeof n=="number"){if(!no(this,n)||(r=n,n=Qe(this,n),!n))return null}else if(r=Nt(n),r==null)return null;return{line:r,handle:n,text:n.text,gutterMarkers:n.gutterMarkers,textClass:n.textClass,bgClass:n.bgClass,wrapClass:n.wrapClass,widgets:n.widgets}},addLineClass:Dn(function(n,r,l){return yo(this,n,r=="gutter"?"gutter":"class",function(o){var u=r=="text"?"textClass":r=="background"?"bgClass":r=="gutter"?"gutterClass":"wrapClass";if(!o[u])o[u]=l;else{if(Ee(l).test(o[u]))return!1;o[u]+=" "+l}return!0})}),removeLineClass:Dn(function(n,r,l){return yo(this,n,r=="gutter"?"gutter":"class",function(o){var u=r=="text"?"textClass":r=="background"?"bgClass":r=="gutter"?"gutterClass":"wrapClass",f=o[u];if(f)if(l==null)o[u]=null;else{var d=f.match(Ee(l));if(!d)return!1;var m=d.index+d[0].length;o[u]=f.slice(0,d.index)+(!d.index||m==f.length?"":" ")+f.slice(m)||null}else return!1;return!0})}),addLineWidget:Dn(function(n,r,l){return ny(this,n,r,l)}),removeLineWidget:function(n){n.clear()},markText:function(n,r,l){return xa(this,lt(this,n),lt(this,r),l,l&&l.type||"range")},setBookmark:function(n,r){var l={replacedWith:r&&(r.nodeType==null?r.widget:r),insertLeft:r&&r.insertLeft,clearWhenEmpty:!1,shared:r&&r.shared,handleMouseEvents:r&&r.handleMouseEvents};return n=lt(this,n),xa(this,n,n,l,"bookmark")},findMarksAt:function(n){n=lt(this,n);var r=[],l=Qe(this,n.line).markedSpans;if(l)for(var o=0;o<l.length;++o){var u=l[o];(u.from==null||u.from<=n.ch)&&(u.to==null||u.to>=n.ch)&&r.push(u.marker.parent||u.marker)}return r},findMarks:function(n,r,l){n=lt(this,n),r=lt(this,r);var o=[],u=n.line;return this.iter(n.line,r.line+1,function(f){var d=f.markedSpans;if(d)for(var m=0;m<d.length;m++){var y=d[m];!(y.to!=null&&u==n.line&&n.ch>=y.to||y.from==null&&u!=n.line||y.from!=null&&u==r.line&&y.from>=r.ch)&&(!l||l(y.marker))&&o.push(y.marker.parent||y.marker)}++u}),o},getAllMarks:function(){var n=[];return this.iter(function(r){var l=r.markedSpans;if(l)for(var o=0;o<l.length;++o)l[o].from!=null&&n.push(l[o].marker)}),n},posFromIndex:function(n){var r,l=this.first,o=this.lineSeparator().length;return this.iter(function(u){var f=u.text.length+o;if(f>n)return r=n,!0;n-=f,++l}),lt(this,Ce(l,r))},indexFromPos:function(n){n=lt(this,n);var r=n.ch;if(n.line<this.first||n.ch<0)return 0;var l=this.lineSeparator().length;return this.iter(this.first,n.line,function(o){r+=o.text.length+l}),r},copy:function(n){var r=new Hn(uu(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return r.scrollTop=this.scrollTop,r.scrollLeft=this.scrollLeft,r.sel=this.sel,r.extend=!1,n&&(r.history.undoDepth=this.history.undoDepth,r.setHistory(this.getHistory())),r},linkedDoc:function(n){n||(n={});var r=this.first,l=this.first+this.size;n.from!=null&&n.from>r&&(r=n.from),n.to!=null&&n.to<l&&(l=n.to);var o=new Hn(uu(this,r,l),n.mode||this.modeOption,r,this.lineSep,this.direction);return n.sharedHist&&(o.history=this.history),(this.linked||(this.linked=[])).push({doc:o,sharedHist:n.sharedHist}),o.linked=[{doc:this,isParent:!0,sharedHist:n.sharedHist}],ry(o,jd(this)),o},unlinkDoc:function(n){if(n instanceof $t&&(n=n.doc),this.linked)for(var r=0;r<this.linked.length;++r){var l=this.linked[r];if(l.doc==n){this.linked.splice(r,1),n.unlinkDoc(this),ay(jd(this));break}}if(n.history==this.history){var o=[n.id];gr(n,function(u){return o.push(u.id)},!0),n.history=new Ps(null),n.history.done=ma(this.history.done,o),n.history.undone=ma(this.history.undone,o)}},iterLinkedDocs:function(n){gr(this,n)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(n){return this.lineSep?n.split(this.lineSep):Jn(n)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Dn(function(n){n!="rtl"&&(n="ltr"),n!=this.direction&&(this.direction=n,this.iter(function(r){return r.order=null}),this.cm&&$b(this.cm))})}),Hn.prototype.eachLine=Hn.prototype.iter;var qd=0;function sy(n){var r=this;if(Vd(r),!(Se(r,n)||Gi(r.display,n))){re(n),b&&(qd=+new Date);var l=_r(r,n,!0),o=n.dataTransfer.files;if(!(!l||r.isReadOnly()))if(o&&o.length&&window.FileReader&&window.File)for(var u=o.length,f=Array(u),d=0,m=function(){++d==u&&wn(r,function(){l=lt(r.doc,l);var J={from:l,to:l,text:r.doc.splitLines(f.filter(function(pe){return pe!=null}).join(r.doc.lineSeparator())),origin:"paste"};ba(r.doc,J),Md(r.doc,dr(lt(r.doc,l),lt(r.doc,pr(J))))})()},y=function(J,pe){if(r.options.allowDropFileTypes&&$e(r.options.allowDropFileTypes,J.type)==-1){m();return}var ye=new FileReader;ye.onerror=function(){return m()},ye.onload=function(){var Te=ye.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Te)){m();return}f[pe]=Te,m()},ye.readAsText(J)},w=0;w<o.length;w++)y(o[w],w);else{if(r.state.draggingText&&r.doc.sel.contains(l)>-1){r.state.draggingText(n),setTimeout(function(){return r.display.input.focus()},20);return}try{var O=n.dataTransfer.getData("Text");if(O){var P;if(r.state.draggingText&&!r.state.draggingText.copy&&(P=r.listSelections()),Ws(r.doc,dr(l,l)),P)for(var ae=0;ae<P.length;++ae)ya(r.doc,"",P[ae].anchor,P[ae].head,"drag");r.replaceSelection(O,"around","paste"),r.display.input.focus()}}catch{}}}}function ly(n,r){if(b&&(!n.state.draggingText||+new Date-qd<100)){Xe(r);return}if(!(Se(n,r)||Gi(n.display,r))&&(r.dataTransfer.setData("Text",n.getSelection()),r.dataTransfer.effectAllowed="copyMove",r.dataTransfer.setDragImage&&!ue)){var l=G("img",null,null,"position: fixed; left: 0; top: 0;");l.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Q&&(l.width=l.height=1,n.display.wrapper.appendChild(l),l._top=l.offsetTop),r.dataTransfer.setDragImage(l,0,0),Q&&l.parentNode.removeChild(l)}}function uy(n,r){var l=_r(n,r);if(l){var o=document.createDocumentFragment();Fu(n,l,o),n.display.dragCursor||(n.display.dragCursor=G("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),n.display.lineSpace.insertBefore(n.display.dragCursor,n.display.cursorDiv)),it(n.display.dragCursor,o)}}function Vd(n){n.display.dragCursor&&(n.display.lineSpace.removeChild(n.display.dragCursor),n.display.dragCursor=null)}function Gd(n){if(document.getElementsByClassName){for(var r=document.getElementsByClassName("CodeMirror"),l=[],o=0;o<r.length;o++){var u=r[o].CodeMirror;u&&l.push(u)}l.length&&l[0].operation(function(){for(var f=0;f<l.length;f++)n(l[f])})}}var $d=!1;function cy(){$d||(hy(),$d=!0)}function hy(){var n;$(window,"resize",function(){n==null&&(n=setTimeout(function(){n=null,Gd(fy)},100))}),$(window,"blur",function(){return Gd(da)})}function fy(n){var r=n.display;r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.scrollbarsClipped=!1,n.setSize()}for(var vr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ko=0;ko<10;ko++)vr[ko+48]=vr[ko+96]=String(ko);for(var Ys=65;Ys<=90;Ys++)vr[Ys]=String.fromCharCode(Ys);for(var Ao=1;Ao<=12;Ao++)vr[Ao+111]=vr[Ao+63235]="F"+Ao;var Ki={};Ki.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ki.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ki.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ki.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ki.default=ie?Ki.macDefault:Ki.pcDefault;function dy(n){var r=n.split(/-(?!$)/);n=r[r.length-1];for(var l,o,u,f,d=0;d<r.length-1;d++){var m=r[d];if(/^(cmd|meta|m)$/i.test(m))f=!0;else if(/^a(lt)?$/i.test(m))l=!0;else if(/^(c|ctrl|control)$/i.test(m))o=!0;else if(/^s(hift)?$/i.test(m))u=!0;else throw new Error("Unrecognized modifier name: "+m)}return l&&(n="Alt-"+n),o&&(n="Ctrl-"+n),f&&(n="Cmd-"+n),u&&(n="Shift-"+n),n}function py(n){var r={};for(var l in n)if(n.hasOwnProperty(l)){var o=n[l];if(/^(name|fallthrough|(de|at)tach)$/.test(l))continue;if(o=="..."){delete n[l];continue}for(var u=_t(l.split(" "),dy),f=0;f<u.length;f++){var d=void 0,m=void 0;f==u.length-1?(m=u.join(" "),d=o):(m=u.slice(0,f+1).join(" "),d="...");var y=r[m];if(!y)r[m]=d;else if(y!=d)throw new Error("Inconsistent bindings for "+m)}delete n[l]}for(var w in r)n[w]=r[w];return n}function wa(n,r,l,o){r=js(r);var u=r.call?r.call(n,o):r[n];if(u===!1)return"nothing";if(u==="...")return"multi";if(u!=null&&l(u))return"handled";if(r.fallthrough){if(Object.prototype.toString.call(r.fallthrough)!="[object Array]")return wa(n,r.fallthrough,l,o);for(var f=0;f<r.fallthrough.length;f++){var d=wa(n,r.fallthrough[f],l,o);if(d)return d}}}function Kd(n){var r=typeof n=="string"?n:vr[n.keyCode];return r=="Ctrl"||r=="Alt"||r=="Shift"||r=="Mod"}function Xd(n,r,l){var o=n;return r.altKey&&o!="Alt"&&(n="Alt-"+n),(Me?r.metaKey:r.ctrlKey)&&o!="Ctrl"&&(n="Ctrl-"+n),(Me?r.ctrlKey:r.metaKey)&&o!="Mod"&&(n="Cmd-"+n),!l&&r.shiftKey&&o!="Shift"&&(n="Shift-"+n),n}function Jd(n,r){if(Q&&n.keyCode==34&&n.char)return!1;var l=vr[n.keyCode];return l==null||n.altGraphKey?!1:(n.keyCode==3&&n.code&&(l=n.code),Xd(l,n,r))}function js(n){return typeof n=="string"?Ki[n]:n}function Da(n,r){for(var l=n.doc.sel.ranges,o=[],u=0;u<l.length;u++){for(var f=r(l[u]);o.length&&st(f.from,Ye(o).to)<=0;){var d=o.pop();if(st(d.from,f.from)<0){f.from=d.from;break}}o.push(f)}Zn(n,function(){for(var m=o.length-1;m>=0;m--)ya(n.doc,"",o[m].from,o[m].to,"+delete");pa(n)})}function $u(n,r,l){var o=x(n.text,r+l,l);return o<0||o>n.text.length?null:o}function Ku(n,r,l){var o=$u(n,r.ch,l);return o==null?null:new Ce(r.line,o,l<0?"after":"before")}function Xu(n,r,l,o,u){if(n){r.doc.direction=="rtl"&&(u=-u);var f=H(l,r.doc.direction);if(f){var d=u<0?Ye(f):f[0],m=u<0==(d.level==1),y=m?"after":"before",w;if(d.level>0||r.doc.direction=="rtl"){var O=ca(r,l);w=u<0?l.text.length-1:0;var P=Pi(r,O,w).top;w=_(function(ae){return Pi(r,O,ae).top==P},u<0==(d.level==1)?d.from:d.to-1,w),y=="before"&&(w=$u(l,w,1))}else w=u<0?d.to:d.from;return new Ce(o,w,y)}}return new Ce(o,u<0?l.text.length:0,u<0?"before":"after")}function gy(n,r,l,o){var u=H(r,n.doc.direction);if(!u)return Ku(r,l,o);l.ch>=r.text.length?(l.ch=r.text.length,l.sticky="before"):l.ch<=0&&(l.ch=0,l.sticky="after");var f=X(u,l.ch,l.sticky),d=u[f];if(n.doc.direction=="ltr"&&d.level%2==0&&(o>0?d.to>l.ch:d.from<l.ch))return Ku(r,l,o);var m=function(Oe,ze){return $u(r,Oe instanceof Ce?Oe.ch:Oe,ze)},y,w=function(Oe){return n.options.lineWrapping?(y=y||ca(n,r),nd(n,r,y,Oe)):{begin:0,end:r.text.length}},O=w(l.sticky=="before"?m(l,-1):l.ch);if(n.doc.direction=="rtl"||d.level==1){var P=d.level==1==o<0,ae=m(l,P?1:-1);if(ae!=null&&(P?ae<=d.to&&ae<=O.end:ae>=d.from&&ae>=O.begin)){var J=P?"before":"after";return new Ce(l.line,ae,J)}}var pe=function(Oe,ze,Ne){for(var qe=function(Wt,Cn){return Cn?new Ce(l.line,m(Wt,1),"before"):new Ce(l.line,Wt,"after")};Oe>=0&&Oe<u.length;Oe+=ze){var nt=u[Oe],et=ze>0==(nt.level!=1),pt=et?Ne.begin:m(Ne.end,-1);if(nt.from<=pt&&pt<nt.to||(pt=et?nt.from:m(nt.to,-1),Ne.begin<=pt&&pt<Ne.end))return qe(pt,et)}},ye=pe(f+o,o,O);if(ye)return ye;var Te=o>0?O.end:m(O.begin,-1);return Te!=null&&!(o>0&&Te==r.text.length)&&(ye=pe(o>0?0:u.length-1,o,w(Te)),ye)?ye:null}var So={selectAll:Nd,singleSelection:function(n){return n.setSelection(n.getCursor("anchor"),n.getCursor("head"),yt)},killLine:function(n){return Da(n,function(r){if(r.empty()){var l=Qe(n.doc,r.head.line).text.length;return r.head.ch==l&&r.head.line<n.lastLine()?{from:r.head,to:Ce(r.head.line+1,0)}:{from:r.head,to:Ce(r.head.line,l)}}else return{from:r.from(),to:r.to()}})},deleteLine:function(n){return Da(n,function(r){return{from:Ce(r.from().line,0),to:lt(n.doc,Ce(r.to().line+1,0))}})},delLineLeft:function(n){return Da(n,function(r){return{from:Ce(r.from().line,0),to:r.from()}})},delWrappedLineLeft:function(n){return Da(n,function(r){var l=n.charCoords(r.head,"div").top+5,o=n.coordsChar({left:0,top:l},"div");return{from:o,to:r.from()}})},delWrappedLineRight:function(n){return Da(n,function(r){var l=n.charCoords(r.head,"div").top+5,o=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:l},"div");return{from:r.from(),to:o}})},undo:function(n){return n.undo()},redo:function(n){return n.redo()},undoSelection:function(n){return n.undoSelection()},redoSelection:function(n){return n.redoSelection()},goDocStart:function(n){return n.extendSelection(Ce(n.firstLine(),0))},goDocEnd:function(n){return n.extendSelection(Ce(n.lastLine()))},goLineStart:function(n){return n.extendSelectionsBy(function(r){return Zd(n,r.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(n){return n.extendSelectionsBy(function(r){return Qd(n,r.head)},{origin:"+move",bias:1})},goLineEnd:function(n){return n.extendSelectionsBy(function(r){return my(n,r.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(r){var l=n.cursorCoords(r.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:l},"div")},xt)},goLineLeft:function(n){return n.extendSelectionsBy(function(r){var l=n.cursorCoords(r.head,"div").top+5;return n.coordsChar({left:0,top:l},"div")},xt)},goLineLeftSmart:function(n){return n.extendSelectionsBy(function(r){var l=n.cursorCoords(r.head,"div").top+5,o=n.coordsChar({left:0,top:l},"div");return o.ch<n.getLine(o.line).search(/\S/)?Qd(n,r.head):o},xt)},goLineUp:function(n){return n.moveV(-1,"line")},goLineDown:function(n){return n.moveV(1,"line")},goPageUp:function(n){return n.moveV(-1,"page")},goPageDown:function(n){return n.moveV(1,"page")},goCharLeft:function(n){return n.moveH(-1,"char")},goCharRight:function(n){return n.moveH(1,"char")},goColumnLeft:function(n){return n.moveH(-1,"column")},goColumnRight:function(n){return n.moveH(1,"column")},goWordLeft:function(n){return n.moveH(-1,"word")},goGroupRight:function(n){return n.moveH(1,"group")},goGroupLeft:function(n){return n.moveH(-1,"group")},goWordRight:function(n){return n.moveH(1,"word")},delCharBefore:function(n){return n.deleteH(-1,"codepoint")},delCharAfter:function(n){return n.deleteH(1,"char")},delWordBefore:function(n){return n.deleteH(-1,"word")},delWordAfter:function(n){return n.deleteH(1,"word")},delGroupBefore:function(n){return n.deleteH(-1,"group")},delGroupAfter:function(n){return n.deleteH(1,"group")},indentAuto:function(n){return n.indentSelection("smart")},indentMore:function(n){return n.indentSelection("add")},indentLess:function(n){return n.indentSelection("subtract")},insertTab:function(n){return n.replaceSelection("	")},insertSoftTab:function(n){for(var r=[],l=n.listSelections(),o=n.options.tabSize,u=0;u<l.length;u++){var f=l[u].from(),d=Pe(n.getLine(f.line),f.ch,o);r.push(Ut(o-d%o))}n.replaceSelections(r)},defaultTab:function(n){n.somethingSelected()?n.indentSelection("add"):n.execCommand("insertTab")},transposeChars:function(n){return Zn(n,function(){for(var r=n.listSelections(),l=[],o=0;o<r.length;o++)if(r[o].empty()){var u=r[o].head,f=Qe(n.doc,u.line).text;if(f){if(u.ch==f.length&&(u=new Ce(u.line,u.ch-1)),u.ch>0)u=new Ce(u.line,u.ch+1),n.replaceRange(f.charAt(u.ch-1)+f.charAt(u.ch-2),Ce(u.line,u.ch-2),u,"+transpose");else if(u.line>n.doc.first){var d=Qe(n.doc,u.line-1).text;d&&(u=new Ce(u.line,1),n.replaceRange(f.charAt(0)+n.doc.lineSeparator()+d.charAt(d.length-1),Ce(u.line-1,d.length-1),u,"+transpose"))}}l.push(new Lt(u,u))}n.setSelections(l)})},newlineAndIndent:function(n){return Zn(n,function(){for(var r=n.listSelections(),l=r.length-1;l>=0;l--)n.replaceRange(n.doc.lineSeparator(),r[l].anchor,r[l].head,"+input");r=n.listSelections();for(var o=0;o<r.length;o++)n.indentLine(r[o].from().line,null,!0);pa(n)})},openLine:function(n){return n.replaceSelection(`
`,"start")},toggleOverwrite:function(n){return n.toggleOverwrite()}};function Zd(n,r){var l=Qe(n.doc,r),o=wi(l);return o!=l&&(r=Nt(o)),Xu(!0,n,o,r,1)}function my(n,r){var l=Qe(n.doc,r),o=Q0(l);return o!=l&&(r=Nt(o)),Xu(!0,n,l,r,-1)}function Qd(n,r){var l=Zd(n,r.line),o=Qe(n.doc,l.line),u=H(o,n.doc.direction);if(!u||u[0].level==0){var f=Math.max(l.ch,o.text.search(/\S/)),d=r.line==l.line&&r.ch<=f&&r.ch;return Ce(l.line,d?0:f,l.sticky)}return l}function qs(n,r,l){if(typeof r=="string"&&(r=So[r],!r))return!1;n.display.input.ensurePolled();var o=n.display.shift,u=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),l&&(n.display.shift=!1),u=r(n)!=ht}finally{n.display.shift=o,n.state.suppressEdits=!1}return u}function vy(n,r,l){for(var o=0;o<n.state.keyMaps.length;o++){var u=wa(r,n.state.keyMaps[o],l,n);if(u)return u}return n.options.extraKeys&&wa(r,n.options.extraKeys,l,n)||wa(r,n.options.keyMap,l,n)}var by=new Ue;function Eo(n,r,l,o){var u=n.state.keySeq;if(u){if(Kd(r))return"handled";if(/\'$/.test(r)?n.state.keySeq=null:by.set(50,function(){n.state.keySeq==u&&(n.state.keySeq=null,n.display.input.reset())}),ep(n,u+" "+r,l,o))return!0}return ep(n,r,l,o)}function ep(n,r,l,o){var u=vy(n,r,o);return u=="multi"&&(n.state.keySeq=r),u=="handled"&&xn(n,"keyHandled",n,r,l),(u=="handled"||u=="multi")&&(re(l),_u(n)),!!u}function tp(n,r){var l=Jd(r,!0);return l?r.shiftKey&&!n.state.keySeq?Eo(n,"Shift-"+l,r,function(o){return qs(n,o,!0)})||Eo(n,l,r,function(o){if(typeof o=="string"?/^go[A-Z]/.test(o):o.motion)return qs(n,o)}):Eo(n,l,r,function(o){return qs(n,o)}):!1}function yy(n,r,l){return Eo(n,"'"+l+"'",r,function(o){return qs(n,o,!0)})}var Ju=null;function np(n){var r=this;if(!(n.target&&n.target!=r.display.input.getField())&&(r.curOp.focus=E(R(r)),!Se(r,n))){b&&D<11&&n.keyCode==27&&(n.returnValue=!1);var l=n.keyCode;r.display.shift=l==16||n.shiftKey;var o=tp(r,n);Q&&(Ju=o?l:null,!o&&l==88&&!tn&&(ie?n.metaKey:n.ctrlKey)&&r.replaceSelection("",null,"cut")),s&&!ie&&!o&&l==46&&n.shiftKey&&!n.ctrlKey&&document.execCommand&&document.execCommand("cut"),l==18&&!/\bCodeMirror-crosshair\b/.test(r.display.lineDiv.className)&&xy(r)}}function xy(n){var r=n.display.lineDiv;j(r,"CodeMirror-crosshair");function l(o){(o.keyCode==18||!o.altKey)&&(Ve(r,"CodeMirror-crosshair"),_e(document,"keyup",l),_e(document,"mouseover",l))}$(document,"keyup",l),$(document,"mouseover",l)}function ip(n){n.keyCode==16&&(this.doc.sel.shift=!1),Se(this,n)}function rp(n){var r=this;if(!(n.target&&n.target!=r.display.input.getField())&&!(Gi(r.display,n)||Se(r,n)||n.ctrlKey&&!n.altKey||ie&&n.metaKey)){var l=n.keyCode,o=n.charCode;if(Q&&l==Ju){Ju=null,re(n);return}if(!(Q&&(!n.which||n.which<10)&&tp(r,n))){var u=String.fromCharCode(o??l);u!="\b"&&(yy(r,n,u)||r.display.input.onKeyPress(n))}}}var wy=400,Zu=function(n,r,l){this.time=n,this.pos=r,this.button=l};Zu.prototype.compare=function(n,r,l){return this.time+wy>n&&st(r,this.pos)==0&&l==this.button};var To,Lo;function Dy(n,r){var l=+new Date;return Lo&&Lo.compare(l,n,r)?(To=Lo=null,"triple"):To&&To.compare(l,n,r)?(Lo=new Zu(l,n,r),To=null,"double"):(To=new Zu(l,n,r),Lo=null,"single")}function ap(n){var r=this,l=r.display;if(!(Se(r,n)||l.activeTouch&&l.input.supportsTouch())){if(l.input.ensurePolled(),l.shift=n.shiftKey,Gi(l,n)){L||(l.scroller.draggable=!1,setTimeout(function(){return l.scroller.draggable=!0},100));return}if(!Qu(r,n)){var o=_r(r,n),u=Ze(n),f=o?Dy(o,u):"single";he(r).focus(),u==1&&r.state.selectingText&&r.state.selectingText(n),!(o&&Cy(r,u,o,f,n))&&(u==1?o?Ay(r,o,f,n):Re(n)==l.scroller&&re(n):u==2?(o&&Hs(r.doc,o),setTimeout(function(){return l.input.focus()},20)):u==3&&(ot?r.display.input.onContextMenu(n):Ru(r)))}}}function Cy(n,r,l,o,u){var f="Click";return o=="double"?f="Double"+f:o=="triple"&&(f="Triple"+f),f=(r==1?"Left":r==2?"Middle":"Right")+f,Eo(n,Xd(f,u),u,function(d){if(typeof d=="string"&&(d=So[d]),!d)return!1;var m=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),m=d(n,l)!=ht}finally{n.state.suppressEdits=!1}return m})}function ky(n,r,l){var o=n.getOption("configureMouse"),u=o?o(n,r,l):{};if(u.unit==null){var f=ve?l.shiftKey&&l.metaKey:l.altKey;u.unit=f?"rectangle":r=="single"?"char":r=="double"?"word":"line"}return(u.extend==null||n.doc.extend)&&(u.extend=n.doc.extend||l.shiftKey),u.addNew==null&&(u.addNew=ie?l.metaKey:l.ctrlKey),u.moveOnDrag==null&&(u.moveOnDrag=!(ie?l.altKey:l.ctrlKey)),u}function Ay(n,r,l,o){b?setTimeout(De(od,n),0):n.curOp.focus=E(R(n));var u=ky(n,l,o),f=n.doc.sel,d;n.options.dragDrop&&Ge&&!n.isReadOnly()&&l=="single"&&(d=f.contains(r))>-1&&(st((d=f.ranges[d]).from(),r)<0||r.xRel>0)&&(st(d.to(),r)>0||r.xRel<0)?Sy(n,o,r,u):Ey(n,o,r,u)}function Sy(n,r,l,o){var u=n.display,f=!1,d=wn(n,function(w){L&&(u.scroller.draggable=!1),n.state.draggingText=!1,n.state.delayingBlurEvent&&(n.hasFocus()?n.state.delayingBlurEvent=!1:Ru(n)),_e(u.wrapper.ownerDocument,"mouseup",d),_e(u.wrapper.ownerDocument,"mousemove",m),_e(u.scroller,"dragstart",y),_e(u.scroller,"drop",d),f||(re(w),o.addNew||Hs(n.doc,l,null,null,o.extend),L&&!ue||b&&D==9?setTimeout(function(){u.wrapper.ownerDocument.body.focus({preventScroll:!0}),u.input.focus()},20):u.input.focus())}),m=function(w){f=f||Math.abs(r.clientX-w.clientX)+Math.abs(r.clientY-w.clientY)>=10},y=function(){return f=!0};L&&(u.scroller.draggable=!0),n.state.draggingText=d,d.copy=!o.moveOnDrag,$(u.wrapper.ownerDocument,"mouseup",d),$(u.wrapper.ownerDocument,"mousemove",m),$(u.scroller,"dragstart",y),$(u.scroller,"drop",d),n.state.delayingBlurEvent=!0,setTimeout(function(){return u.input.focus()},20),u.scroller.dragDrop&&u.scroller.dragDrop()}function op(n,r,l){if(l=="char")return new Lt(r,r);if(l=="word")return n.findWordAt(r);if(l=="line")return new Lt(Ce(r.line,0),lt(n.doc,Ce(r.line+1,0)));var o=l(n,r);return new Lt(o.from,o.to)}function Ey(n,r,l,o){b&&Ru(n);var u=n.display,f=n.doc;re(r);var d,m,y=f.sel,w=y.ranges;if(o.addNew&&!o.extend?(m=f.sel.contains(l),m>-1?d=w[m]:d=new Lt(l,l)):(d=f.sel.primary(),m=f.sel.primIndex),o.unit=="rectangle")o.addNew||(d=new Lt(l,l)),l=_r(n,r,!0,!0),m=-1;else{var O=op(n,l,o.unit);o.extend?d=Vu(d,O.anchor,O.head,o.extend):d=O}o.addNew?m==-1?(m=w.length,Ln(f,Ci(n,w.concat([d]),m),{scroll:!1,origin:"*mouse"})):w.length>1&&w[m].empty()&&o.unit=="char"&&!o.extend?(Ln(f,Ci(n,w.slice(0,m).concat(w.slice(m+1)),0),{scroll:!1,origin:"*mouse"}),y=f.sel):Gu(f,m,d,Le):(m=0,Ln(f,new ai([d],0),Le),y=f.sel);var P=l;function ae(Ne){if(st(P,Ne)!=0)if(P=Ne,o.unit=="rectangle"){for(var qe=[],nt=n.options.tabSize,et=Pe(Qe(f,l.line).text,l.ch,nt),pt=Pe(Qe(f,Ne.line).text,Ne.ch,nt),Wt=Math.min(et,pt),Cn=Math.max(et,pt),Zt=Math.min(l.line,Ne.line),Qn=Math.min(n.lastLine(),Math.max(l.line,Ne.line));Zt<=Qn;Zt++){var Wn=Qe(f,Zt).text,ln=At(Wn,Wt,nt);Wt==Cn?qe.push(new Lt(Ce(Zt,ln),Ce(Zt,ln))):Wn.length>ln&&qe.push(new Lt(Ce(Zt,ln),Ce(Zt,At(Wn,Cn,nt))))}qe.length||qe.push(new Lt(l,l)),Ln(f,Ci(n,y.ranges.slice(0,m).concat(qe),m),{origin:"*mouse",scroll:!1}),n.scrollIntoView(Ne)}else{var zn=d,En=op(n,Ne,o.unit),gn=zn.anchor,un;st(En.anchor,gn)>0?(un=En.head,gn=ys(zn.from(),En.anchor)):(un=En.anchor,gn=bs(zn.to(),En.head));var nn=y.ranges.slice(0);nn[m]=Ty(n,new Lt(lt(f,gn),un)),Ln(f,Ci(n,nn,m),Le)}}var J=u.wrapper.getBoundingClientRect(),pe=0;function ye(Ne){var qe=++pe,nt=_r(n,Ne,!0,o.unit=="rectangle");if(nt)if(st(nt,P)!=0){n.curOp.focus=E(R(n)),ae(nt);var et=Rs(u,f);(nt.line>=et.to||nt.line<et.from)&&setTimeout(wn(n,function(){pe==qe&&ye(Ne)}),150)}else{var pt=Ne.clientY<J.top?-20:Ne.clientY>J.bottom?20:0;pt&&setTimeout(wn(n,function(){pe==qe&&(u.scroller.scrollTop+=pt,ye(Ne))}),50)}}function Te(Ne){n.state.selectingText=!1,pe=1/0,Ne&&(re(Ne),u.input.focus()),_e(u.wrapper.ownerDocument,"mousemove",Oe),_e(u.wrapper.ownerDocument,"mouseup",ze),f.history.lastSelOrigin=null}var Oe=wn(n,function(Ne){Ne.buttons===0||!Ze(Ne)?Te(Ne):ye(Ne)}),ze=wn(n,Te);n.state.selectingText=ze,$(u.wrapper.ownerDocument,"mousemove",Oe),$(u.wrapper.ownerDocument,"mouseup",ze)}function Ty(n,r){var l=r.anchor,o=r.head,u=Qe(n.doc,l.line);if(st(l,o)==0&&l.sticky==o.sticky)return r;var f=H(u);if(!f)return r;var d=X(f,l.ch,l.sticky),m=f[d];if(m.from!=l.ch&&m.to!=l.ch)return r;var y=d+(m.from==l.ch==(m.level!=1)?0:1);if(y==0||y==f.length)return r;var w;if(o.line!=l.line)w=(o.line-l.line)*(n.doc.direction=="ltr"?1:-1)>0;else{var O=X(f,o.ch,o.sticky),P=O-d||(o.ch-l.ch)*(m.level==1?-1:1);O==y-1||O==y?w=P<0:w=P>0}var ae=f[y+(w?-1:0)],J=w==(ae.level==1),pe=J?ae.from:ae.to,ye=J?"after":"before";return l.ch==pe&&l.sticky==ye?r:new Lt(new Ce(l.line,pe,ye),o)}function sp(n,r,l,o){var u,f;if(r.touches)u=r.touches[0].clientX,f=r.touches[0].clientY;else try{u=r.clientX,f=r.clientY}catch{return!1}if(u>=Math.floor(n.display.gutters.getBoundingClientRect().right))return!1;o&&re(r);var d=n.display,m=d.lineDiv.getBoundingClientRect();if(f>m.bottom||!F(n,l))return Ae(r);f-=m.top-d.viewOffset;for(var y=0;y<n.display.gutterSpecs.length;++y){var w=d.gutters.childNodes[y];if(w&&w.getBoundingClientRect().right>=u){var O=Lr(n.doc,f),P=n.display.gutterSpecs[y];return Be(n,l,n,O,P.className,r),Ae(r)}}}function Qu(n,r){return sp(n,r,"gutterClick",!0)}function lp(n,r){Gi(n.display,r)||Ly(n,r)||Se(n,r,"contextmenu")||ot||n.display.input.onContextMenu(r)}function Ly(n,r){return F(n,"gutterContextMenu")?sp(n,r,"gutterContextMenu",!1):!1}function up(n){n.display.wrapper.className=n.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+n.options.theme.replace(/(^|\s)\s*/g," cm-s-"),lo(n)}var Ca={toString:function(){return"CodeMirror.Init"}},cp={},Vs={};function My(n){var r=n.optionHandlers;function l(o,u,f,d){n.defaults[o]=u,f&&(r[o]=d?function(m,y,w){w!=Ca&&f(m,y,w)}:f)}n.defineOption=l,n.Init=Ca,l("value","",function(o,u){return o.setValue(u)},!0),l("mode",null,function(o,u){o.doc.modeOption=u,Yu(o)},!0),l("indentUnit",2,Yu,!0),l("indentWithTabs",!1),l("smartIndent",!0),l("tabSize",4,function(o){vo(o),lo(o),Bn(o)},!0),l("lineSeparator",null,function(o,u){if(o.doc.lineSep=u,!!u){var f=[],d=o.doc.first;o.doc.iter(function(y){for(var w=0;;){var O=y.text.indexOf(u,w);if(O==-1)break;w=O+u.length,f.push(Ce(d,O))}d++});for(var m=f.length-1;m>=0;m--)ya(o.doc,u,f[m],Ce(f[m].line,f[m].ch+u.length))}}),l("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(o,u,f){o.state.specialChars=new RegExp(u.source+(u.test("	")?"":"|	"),"g"),f!=Ca&&o.refresh()}),l("specialCharPlaceholder",ab,function(o){return o.refresh()},!0),l("electricChars",!0),l("inputStyle",ee?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),l("spellcheck",!1,function(o,u){return o.getInputField().spellcheck=u},!0),l("autocorrect",!1,function(o,u){return o.getInputField().autocorrect=u},!0),l("autocapitalize",!1,function(o,u){return o.getInputField().autocapitalize=u},!0),l("rtlMoveVisually",!de),l("wholeLineUpdateBefore",!0),l("theme","default",function(o){up(o),mo(o)},!0),l("keyMap","default",function(o,u,f){var d=js(u),m=f!=Ca&&js(f);m&&m.detach&&m.detach(o,d),d.attach&&d.attach(o,m||null)}),l("extraKeys",null),l("configureMouse",null),l("lineWrapping",!1,_y,!0),l("gutters",[],function(o,u){o.display.gutterSpecs=zu(u,o.options.lineNumbers),mo(o)},!0),l("fixedGutter",!0,function(o,u){o.display.gutters.style.left=u?Lu(o.display)+"px":"0",o.refresh()},!0),l("coverGutterNextToScrollbar",!1,function(o){return ga(o)},!0),l("scrollbarStyle","native",function(o){fd(o),ga(o),o.display.scrollbars.setScrollTop(o.doc.scrollTop),o.display.scrollbars.setScrollLeft(o.doc.scrollLeft)},!0),l("lineNumbers",!1,function(o,u){o.display.gutterSpecs=zu(o.options.gutters,u),mo(o)},!0),l("firstLineNumber",1,mo,!0),l("lineNumberFormatter",function(o){return o},mo,!0),l("showCursorWhenSelecting",!1,uo,!0),l("resetSelectionOnContextMenu",!0),l("lineWiseCopyCut",!0),l("pasteLinesPerSelection",!0),l("selectionsMayTouch",!1),l("readOnly",!1,function(o,u){u=="nocursor"&&(da(o),o.display.input.blur()),o.display.input.readOnlyChanged(u)}),l("screenReaderLabel",null,function(o,u){u=u===""?null:u,o.display.input.screenReaderLabelChanged(u)}),l("disableInput",!1,function(o,u){u||o.display.input.reset()},!0),l("dragDrop",!0,Fy),l("allowDropFileTypes",null),l("cursorBlinkRate",530),l("cursorScrollMargin",0),l("cursorHeight",1,uo,!0),l("singleCursorHeightPerLine",!0,uo,!0),l("workTime",100),l("workDelay",100),l("flattenSpans",!0,vo,!0),l("addModeClass",!1,vo,!0),l("pollInterval",100),l("undoDepth",200,function(o,u){return o.doc.history.undoDepth=u}),l("historyEventDelay",1250),l("viewportMargin",10,function(o){return o.refresh()},!0),l("maxHighlightLength",1e4,vo,!0),l("moveInputWithCursor",!0,function(o,u){u||o.display.input.resetPosition()}),l("tabindex",null,function(o,u){return o.display.input.getField().tabIndex=u||""}),l("autofocus",null),l("direction","ltr",function(o,u){return o.doc.setDirection(u)},!0),l("phrases",null)}function Fy(n,r,l){var o=l&&l!=Ca;if(!r!=!o){var u=n.display.dragFunctions,f=r?$:_e;f(n.display.scroller,"dragstart",u.start),f(n.display.scroller,"dragenter",u.enter),f(n.display.scroller,"dragover",u.over),f(n.display.scroller,"dragleave",u.leave),f(n.display.scroller,"drop",u.drop)}}function _y(n){n.options.lineWrapping?(j(n.display.wrapper,"CodeMirror-wrap"),n.display.sizer.style.minWidth="",n.display.sizerWidth=null):(Ve(n.display.wrapper,"CodeMirror-wrap"),yu(n)),Mu(n),Bn(n),lo(n),setTimeout(function(){return ga(n)},100)}function $t(n,r){var l=this;if(!(this instanceof $t))return new $t(n,r);this.options=r=r?He(r):{},He(cp,r,!1);var o=r.value;typeof o=="string"?o=new Hn(o,r.mode,null,r.lineSeparator,r.direction):r.mode&&(o.modeOption=r.mode),this.doc=o;var u=new $t.inputStyles[r.inputStyle](this),f=this.display=new qb(n,o,u,r);f.wrapper.CodeMirror=this,up(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),fd(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ue,keySeq:null,specialChars:null},r.autofocus&&!ee&&f.input.focus(),b&&D<11&&setTimeout(function(){return l.display.input.reset(!0)},20),Ry(this),cy(),Ir(this),this.curOp.forceUpdate=!0,Dd(this,o),r.autofocus&&!ee||this.hasFocus()?setTimeout(function(){l.hasFocus()&&!l.state.focused&&Ou(l)},20):da(this);for(var d in Vs)Vs.hasOwnProperty(d)&&Vs[d](this,r[d],Ca);gd(this),r.finishInit&&r.finishInit(this);for(var m=0;m<ec.length;++m)ec[m](this);Pr(this),L&&r.lineWrapping&&getComputedStyle(f.lineDiv).textRendering=="optimizelegibility"&&(f.lineDiv.style.textRendering="auto")}$t.defaults=cp,$t.optionHandlers=Vs;function Ry(n){var r=n.display;$(r.scroller,"mousedown",wn(n,ap)),b&&D<11?$(r.scroller,"dblclick",wn(n,function(y){if(!Se(n,y)){var w=_r(n,y);if(!(!w||Qu(n,y)||Gi(n.display,y))){re(y);var O=n.findWordAt(w);Hs(n.doc,O.anchor,O.head)}}})):$(r.scroller,"dblclick",function(y){return Se(n,y)||re(y)}),$(r.scroller,"contextmenu",function(y){return lp(n,y)}),$(r.input.getField(),"contextmenu",function(y){r.scroller.contains(y.target)||lp(n,y)});var l,o={end:0};function u(){r.activeTouch&&(l=setTimeout(function(){return r.activeTouch=null},1e3),o=r.activeTouch,o.end=+new Date)}function f(y){if(y.touches.length!=1)return!1;var w=y.touches[0];return w.radiusX<=1&&w.radiusY<=1}function d(y,w){if(w.left==null)return!0;var O=w.left-y.left,P=w.top-y.top;return O*O+P*P>20*20}$(r.scroller,"touchstart",function(y){if(!Se(n,y)&&!f(y)&&!Qu(n,y)){r.input.ensurePolled(),clearTimeout(l);var w=+new Date;r.activeTouch={start:w,moved:!1,prev:w-o.end<=300?o:null},y.touches.length==1&&(r.activeTouch.left=y.touches[0].pageX,r.activeTouch.top=y.touches[0].pageY)}}),$(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),$(r.scroller,"touchend",function(y){var w=r.activeTouch;if(w&&!Gi(r,y)&&w.left!=null&&!w.moved&&new Date-w.start<300){var O=n.coordsChar(r.activeTouch,"page"),P;!w.prev||d(w,w.prev)?P=new Lt(O,O):!w.prev.prev||d(w,w.prev.prev)?P=n.findWordAt(O):P=new Lt(Ce(O.line,0),lt(n.doc,Ce(O.line+1,0))),n.setSelection(P.anchor,P.head),n.focus(),re(y)}u()}),$(r.scroller,"touchcancel",u),$(r.scroller,"scroll",function(){r.scroller.clientHeight&&(ho(n,r.scroller.scrollTop),Or(n,r.scroller.scrollLeft,!0),Be(n,"scroll",n))}),$(r.scroller,"mousewheel",function(y){return bd(n,y)}),$(r.scroller,"DOMMouseScroll",function(y){return bd(n,y)}),$(r.wrapper,"scroll",function(){return r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(y){Se(n,y)||Xe(y)},over:function(y){Se(n,y)||(uy(n,y),Xe(y))},start:function(y){return ly(n,y)},drop:wn(n,sy),leave:function(y){Se(n,y)||Vd(n)}};var m=r.input.getField();$(m,"keyup",function(y){return ip.call(n,y)}),$(m,"keydown",wn(n,np)),$(m,"keypress",wn(n,rp)),$(m,"focus",function(y){return Ou(n,y)}),$(m,"blur",function(y){return da(n,y)})}var ec=[];$t.defineInitHook=function(n){return ec.push(n)};function Mo(n,r,l,o){var u=n.doc,f;l==null&&(l="add"),l=="smart"&&(u.mode.indent?f=io(n,r).state:l="prev");var d=n.options.tabSize,m=Qe(u,r),y=Pe(m.text,null,d);m.stateAfter&&(m.stateAfter=null);var w=m.text.match(/^\s*/)[0],O;if(!o&&!/\S/.test(m.text))O=0,l="not";else if(l=="smart"&&(O=u.mode.indent(f,m.text.slice(w.length),m.text),O==ht||O>150)){if(!o)return;l="prev"}l=="prev"?r>u.first?O=Pe(Qe(u,r-1).text,null,d):O=0:l=="add"?O=y+n.options.indentUnit:l=="subtract"?O=y-n.options.indentUnit:typeof l=="number"&&(O=y+l),O=Math.max(0,O);var P="",ae=0;if(n.options.indentWithTabs)for(var J=Math.floor(O/d);J;--J)ae+=d,P+="	";if(ae<O&&(P+=Ut(O-ae)),P!=w)return ya(u,P,Ce(r,0),Ce(r,w.length),"+input"),m.stateAfter=null,!0;for(var pe=0;pe<u.sel.ranges.length;pe++){var ye=u.sel.ranges[pe];if(ye.head.line==r&&ye.head.ch<w.length){var Te=Ce(r,w.length);Gu(u,pe,new Lt(Te,Te));break}}}var ki=null;function Gs(n){ki=n}function tc(n,r,l,o,u){var f=n.doc;n.display.shift=!1,o||(o=f.sel);var d=+new Date-200,m=u=="paste"||n.state.pasteIncoming>d,y=Jn(r),w=null;if(m&&o.ranges.length>1)if(ki&&ki.text.join(`
`)==r){if(o.ranges.length%ki.text.length==0){w=[];for(var O=0;O<ki.text.length;O++)w.push(f.splitLines(ki.text[O]))}}else y.length==o.ranges.length&&n.options.pasteLinesPerSelection&&(w=_t(y,function(Oe){return[Oe]}));for(var P=n.curOp.updateInput,ae=o.ranges.length-1;ae>=0;ae--){var J=o.ranges[ae],pe=J.from(),ye=J.to();J.empty()&&(l&&l>0?pe=Ce(pe.line,pe.ch-l):n.state.overwrite&&!m?ye=Ce(ye.line,Math.min(Qe(f,ye.line).text.length,ye.ch+Ye(y).length)):m&&ki&&ki.lineWise&&ki.text.join(`
`)==y.join(`
`)&&(pe=ye=Ce(pe.line,0)));var Te={from:pe,to:ye,text:w?w[ae%w.length]:y,origin:u||(m?"paste":n.state.cutIncoming>d?"cut":"+input")};ba(n.doc,Te),xn(n,"inputRead",n,Te)}r&&!m&&fp(n,r),pa(n),n.curOp.updateInput<2&&(n.curOp.updateInput=P),n.curOp.typing=!0,n.state.pasteIncoming=n.state.cutIncoming=-1}function hp(n,r){var l=n.clipboardData&&n.clipboardData.getData("Text");if(l)return n.preventDefault(),!r.isReadOnly()&&!r.options.disableInput&&r.hasFocus()&&Zn(r,function(){return tc(r,l,0,null,"paste")}),!0}function fp(n,r){if(!(!n.options.electricChars||!n.options.smartIndent))for(var l=n.doc.sel,o=l.ranges.length-1;o>=0;o--){var u=l.ranges[o];if(!(u.head.ch>100||o&&l.ranges[o-1].head.line==u.head.line)){var f=n.getModeAt(u.head),d=!1;if(f.electricChars){for(var m=0;m<f.electricChars.length;m++)if(r.indexOf(f.electricChars.charAt(m))>-1){d=Mo(n,u.head.line,"smart");break}}else f.electricInput&&f.electricInput.test(Qe(n.doc,u.head.line).text.slice(0,u.head.ch))&&(d=Mo(n,u.head.line,"smart"));d&&xn(n,"electricInput",n,u.head.line)}}}function dp(n){for(var r=[],l=[],o=0;o<n.doc.sel.ranges.length;o++){var u=n.doc.sel.ranges[o].head.line,f={anchor:Ce(u,0),head:Ce(u+1,0)};l.push(f),r.push(n.getRange(f.anchor,f.head))}return{text:r,ranges:l}}function nc(n,r,l,o){n.setAttribute("autocorrect",l?"on":"off"),n.setAttribute("autocapitalize",o?"on":"off"),n.setAttribute("spellcheck",!!r)}function pp(){var n=G("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),r=G("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return L?n.style.width="1000px":n.setAttribute("wrap","off"),Z&&(n.style.border="1px solid black"),r}function Oy(n){var r=n.optionHandlers,l=n.helpers={};n.prototype={constructor:n,focus:function(){he(this).focus(),this.display.input.focus()},setOption:function(o,u){var f=this.options,d=f[o];f[o]==u&&o!="mode"||(f[o]=u,r.hasOwnProperty(o)&&wn(this,r[o])(this,u,d),Be(this,"optionChange",this,o))},getOption:function(o){return this.options[o]},getDoc:function(){return this.doc},addKeyMap:function(o,u){this.state.keyMaps[u?"push":"unshift"](js(o))},removeKeyMap:function(o){for(var u=this.state.keyMaps,f=0;f<u.length;++f)if(u[f]==o||u[f].name==o)return u.splice(f,1),!0},addOverlay:Fn(function(o,u){var f=o.token?o:n.getMode(this.options,o);if(f.startState)throw new Error("Overlays may not be stateful.");qt(this.state.overlays,{mode:f,modeSpec:o,opaque:u&&u.opaque,priority:u&&u.priority||0},function(d){return d.priority}),this.state.modeGen++,Bn(this)}),removeOverlay:Fn(function(o){for(var u=this.state.overlays,f=0;f<u.length;++f){var d=u[f].modeSpec;if(d==o||typeof o=="string"&&d.name==o){u.splice(f,1),this.state.modeGen++,Bn(this);return}}}),indentLine:Fn(function(o,u,f){typeof u!="string"&&typeof u!="number"&&(u==null?u=this.options.smartIndent?"smart":"prev":u=u?"add":"subtract"),no(this.doc,o)&&Mo(this,o,u,f)}),indentSelection:Fn(function(o){for(var u=this.doc.sel.ranges,f=-1,d=0;d<u.length;d++){var m=u[d];if(m.empty())m.head.line>f&&(Mo(this,m.head.line,o,!0),f=m.head.line,d==this.doc.sel.primIndex&&pa(this));else{var y=m.from(),w=m.to(),O=Math.max(f,y.line);f=Math.min(this.lastLine(),w.line-(w.ch?0:1))+1;for(var P=O;P<f;++P)Mo(this,P,o);var ae=this.doc.sel.ranges;y.ch==0&&u.length==ae.length&&ae[d].from().ch>0&&Gu(this.doc,d,new Lt(y,ae[d].to()),yt)}}}),getTokenAt:function(o,u){return kf(this,o,u)},getLineTokens:function(o,u){return kf(this,Ce(o),u,!0)},getTokenTypeAt:function(o){o=lt(this.doc,o);var u=wf(this,Qe(this.doc,o.line)),f=0,d=(u.length-1)/2,m=o.ch,y;if(m==0)y=u[2];else for(;;){var w=f+d>>1;if((w?u[w*2-1]:0)>=m)d=w;else if(u[w*2+1]<m)f=w+1;else{y=u[w*2+2];break}}var O=y?y.indexOf("overlay "):-1;return O<0?y:O==0?null:y.slice(0,O-1)},getModeAt:function(o){var u=this.doc.mode;return u.innerMode?n.innerMode(u,this.getTokenAt(o).state).mode:u},getHelper:function(o,u){return this.getHelpers(o,u)[0]},getHelpers:function(o,u){var f=[];if(!l.hasOwnProperty(u))return f;var d=l[u],m=this.getModeAt(o);if(typeof m[u]=="string")d[m[u]]&&f.push(d[m[u]]);else if(m[u])for(var y=0;y<m[u].length;y++){var w=d[m[u][y]];w&&f.push(w)}else m.helperType&&d[m.helperType]?f.push(d[m.helperType]):d[m.name]&&f.push(d[m.name]);for(var O=0;O<d._global.length;O++){var P=d._global[O];P.pred(m,this)&&$e(f,P.val)==-1&&f.push(P.val)}return f},getStateAfter:function(o,u){var f=this.doc;return o=bf(f,o??f.first+f.size-1),io(this,o+1,u).state},cursorCoords:function(o,u){var f,d=this.doc.sel.primary();return o==null?f=d.head:typeof o=="object"?f=lt(this.doc,o):f=o?d.from():d.to(),Di(this,f,u||"page")},charCoords:function(o,u){return Ls(this,lt(this.doc,o),u||"page")},coordsChar:function(o,u){return o=Qf(this,o,u||"page"),Su(this,o.left,o.top)},lineAtHeight:function(o,u){return o=Qf(this,{top:o,left:0},u||"page").top,Lr(this.doc,o+this.display.viewOffset)},heightAtLine:function(o,u,f){var d=!1,m;if(typeof o=="number"){var y=this.doc.first+this.doc.size-1;o<this.doc.first?o=this.doc.first:o>y&&(o=y,d=!0),m=Qe(this.doc,o)}else m=o;return Ts(this,m,{top:0,left:0},u||"page",f||d).top+(d?this.doc.height-Vi(m):0)},defaultTextHeight:function(){return ha(this.display)},defaultCharWidth:function(){return fa(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(o,u,f,d,m){var y=this.display;o=Di(this,lt(this.doc,o));var w=o.bottom,O=o.left;if(u.style.position="absolute",u.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(u),y.sizer.appendChild(u),d=="over")w=o.top;else if(d=="above"||d=="near"){var P=Math.max(y.wrapper.clientHeight,this.doc.height),ae=Math.max(y.sizer.clientWidth,y.lineSpace.clientWidth);(d=="above"||o.bottom+u.offsetHeight>P)&&o.top>u.offsetHeight?w=o.top-u.offsetHeight:o.bottom+u.offsetHeight<=P&&(w=o.bottom),O+u.offsetWidth>ae&&(O=ae-u.offsetWidth)}u.style.top=w+"px",u.style.left=u.style.right="",m=="right"?(O=y.sizer.clientWidth-u.offsetWidth,u.style.right="0px"):(m=="left"?O=0:m=="middle"&&(O=(y.sizer.clientWidth-u.offsetWidth)/2),u.style.left=O+"px"),f&&Fb(this,{left:O,top:w,right:O+u.offsetWidth,bottom:w+u.offsetHeight})},triggerOnKeyDown:Fn(np),triggerOnKeyPress:Fn(rp),triggerOnKeyUp:ip,triggerOnMouseDown:Fn(ap),execCommand:function(o){if(So.hasOwnProperty(o))return So[o].call(null,this)},triggerElectric:Fn(function(o){fp(this,o)}),findPosH:function(o,u,f,d){var m=1;u<0&&(m=-1,u=-u);for(var y=lt(this.doc,o),w=0;w<u&&(y=ic(this.doc,y,m,f,d),!y.hitSide);++w);return y},moveH:Fn(function(o,u){var f=this;this.extendSelectionsBy(function(d){return f.display.shift||f.doc.extend||d.empty()?ic(f.doc,d.head,o,u,f.options.rtlMoveVisually):o<0?d.from():d.to()},xt)}),deleteH:Fn(function(o,u){var f=this.doc.sel,d=this.doc;f.somethingSelected()?d.replaceSelection("",null,"+delete"):Da(this,function(m){var y=ic(d,m.head,o,u,!1);return o<0?{from:y,to:m.head}:{from:m.head,to:y}})}),findPosV:function(o,u,f,d){var m=1,y=d;u<0&&(m=-1,u=-u);for(var w=lt(this.doc,o),O=0;O<u;++O){var P=Di(this,w,"div");if(y==null?y=P.left:P.left=y,w=gp(this,P,m,f),w.hitSide)break}return w},moveV:Fn(function(o,u){var f=this,d=this.doc,m=[],y=!this.display.shift&&!d.extend&&d.sel.somethingSelected();if(d.extendSelectionsBy(function(O){if(y)return o<0?O.from():O.to();var P=Di(f,O.head,"div");O.goalColumn!=null&&(P.left=O.goalColumn),m.push(P.left);var ae=gp(f,P,o,u);return u=="page"&&O==d.sel.primary()&&Iu(f,Ls(f,ae,"div").top-P.top),ae},xt),m.length)for(var w=0;w<d.sel.ranges.length;w++)d.sel.ranges[w].goalColumn=m[w]}),findWordAt:function(o){var u=this.doc,f=Qe(u,o.line).text,d=o.ch,m=o.ch;if(f){var y=this.getHelper(o,"wordChars");(o.sticky=="before"||m==f.length)&&d?--d:++m;for(var w=f.charAt(d),O=S(w,y)?function(P){return S(P,y)}:/\s/.test(w)?function(P){return/\s/.test(P)}:function(P){return!/\s/.test(P)&&!S(P)};d>0&&O(f.charAt(d-1));)--d;for(;m<f.length&&O(f.charAt(m));)++m}return new Lt(Ce(o.line,d),Ce(o.line,m))},toggleOverwrite:function(o){o!=null&&o==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?j(this.display.cursorDiv,"CodeMirror-overwrite"):Ve(this.display.cursorDiv,"CodeMirror-overwrite"),Be(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==E(R(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Fn(function(o,u){co(this,o,u)}),getScrollInfo:function(){var o=this.display.scroller;return{left:o.scrollLeft,top:o.scrollTop,height:o.scrollHeight-Ii(this)-this.display.barHeight,width:o.scrollWidth-Ii(this)-this.display.barWidth,clientHeight:Du(this),clientWidth:Mr(this)}},scrollIntoView:Fn(function(o,u){o==null?(o={from:this.doc.sel.primary().head,to:null},u==null&&(u=this.options.cursorScrollMargin)):typeof o=="number"?o={from:Ce(o,0),to:null}:o.from==null&&(o={from:o,to:null}),o.to||(o.to=o.from),o.margin=u||0,o.from.line!=null?_b(this,o):ld(this,o.from,o.to,o.margin)}),setSize:Fn(function(o,u){var f=this,d=function(y){return typeof y=="number"||/^\d+$/.test(String(y))?y+"px":y};o!=null&&(this.display.wrapper.style.width=d(o)),u!=null&&(this.display.wrapper.style.height=d(u)),this.options.lineWrapping&&Xf(this);var m=this.display.viewFrom;this.doc.iter(m,this.display.viewTo,function(y){if(y.widgets){for(var w=0;w<y.widgets.length;w++)if(y.widgets[w].noHScroll){hr(f,m,"widget");break}}++m}),this.curOp.forceUpdate=!0,Be(this,"refresh",this)}),operation:function(o){return Zn(this,o)},startOperation:function(){return Ir(this)},endOperation:function(){return Pr(this)},refresh:Fn(function(){var o=this.display.cachedTextHeight;Bn(this),this.curOp.forceUpdate=!0,lo(this),co(this,this.doc.scrollLeft,this.doc.scrollTop),Hu(this.display),(o==null||Math.abs(o-ha(this.display))>.5||this.options.lineWrapping)&&Mu(this),Be(this,"refresh",this)}),swapDoc:Fn(function(o){var u=this.doc;return u.cm=null,this.state.selectingText&&this.state.selectingText(),Dd(this,o),lo(this),this.display.input.reset(),co(this,o.scrollLeft,o.scrollTop),this.curOp.forceScroll=!0,xn(this,"swapDoc",this,u),u}),phrase:function(o){var u=this.options.phrases;return u&&Object.prototype.hasOwnProperty.call(u,o)?u[o]:o},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Y(n),n.registerHelper=function(o,u,f){l.hasOwnProperty(o)||(l[o]=n[o]={_global:[]}),l[o][u]=f},n.registerGlobalHelper=function(o,u,f,d){n.registerHelper(o,u,d),l[o]._global.push({pred:f,val:d})}}function ic(n,r,l,o,u){var f=r,d=l,m=Qe(n,r.line),y=u&&n.direction=="rtl"?-l:l;function w(){var ze=r.line+y;return ze<n.first||ze>=n.first+n.size?!1:(r=new Ce(ze,r.ch,r.sticky),m=Qe(n,ze))}function O(ze){var Ne;if(o=="codepoint"){var qe=m.text.charCodeAt(r.ch+(l>0?0:-1));if(isNaN(qe))Ne=null;else{var nt=l>0?qe>=55296&&qe<56320:qe>=56320&&qe<57343;Ne=new Ce(r.line,Math.max(0,Math.min(m.text.length,r.ch+l*(nt?2:1))),-l)}}else u?Ne=gy(n.cm,m,r,l):Ne=Ku(m,r,l);if(Ne==null)if(!ze&&w())r=Xu(u,n.cm,m,r.line,y);else return!1;else r=Ne;return!0}if(o=="char"||o=="codepoint")O();else if(o=="column")O(!0);else if(o=="word"||o=="group")for(var P=null,ae=o=="group",J=n.cm&&n.cm.getHelper(r,"wordChars"),pe=!0;!(l<0&&!O(!pe));pe=!1){var ye=m.text.charAt(r.ch)||`
`,Te=S(ye,J)?"w":ae&&ye==`
`?"n":!ae||/\s/.test(ye)?null:"p";if(ae&&!pe&&!Te&&(Te="s"),P&&P!=Te){l<0&&(l=1,O(),r.sticky="after");break}if(Te&&(P=Te),l>0&&!O(!pe))break}var Oe=zs(n,r,f,d,!0);return hu(f,Oe)&&(Oe.hitSide=!0),Oe}function gp(n,r,l,o){var u=n.doc,f=r.left,d;if(o=="page"){var m=Math.min(n.display.wrapper.clientHeight,he(n).innerHeight||u(n).documentElement.clientHeight),y=Math.max(m-.5*ha(n.display),3);d=(l>0?r.bottom:r.top)+l*y}else o=="line"&&(d=l>0?r.bottom+3:r.top-3);for(var w;w=Su(n,f,d),!!w.outside;){if(l<0?d<=0:d>=u.height){w.hitSide=!0;break}d+=l*5}return w}var It=function(n){this.cm=n,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ue,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};It.prototype.init=function(n){var r=this,l=this,o=l.cm,u=l.div=n.lineDiv;u.contentEditable=!0,nc(u,o.options.spellcheck,o.options.autocorrect,o.options.autocapitalize);function f(m){for(var y=m.target;y;y=y.parentNode){if(y==u)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(y.className))break}return!1}$(u,"paste",function(m){!f(m)||Se(o,m)||hp(m,o)||D<=11&&setTimeout(wn(o,function(){return r.updateFromDOM()}),20)}),$(u,"compositionstart",function(m){r.composing={data:m.data,done:!1}}),$(u,"compositionupdate",function(m){r.composing||(r.composing={data:m.data,done:!1})}),$(u,"compositionend",function(m){r.composing&&(m.data!=r.composing.data&&r.readFromDOMSoon(),r.composing.done=!0)}),$(u,"touchstart",function(){return l.forceCompositionEnd()}),$(u,"input",function(){r.composing||r.readFromDOMSoon()});function d(m){if(!(!f(m)||Se(o,m))){if(o.somethingSelected())Gs({lineWise:!1,text:o.getSelections()}),m.type=="cut"&&o.replaceSelection("",null,"cut");else if(o.options.lineWiseCopyCut){var y=dp(o);Gs({lineWise:!0,text:y.text}),m.type=="cut"&&o.operation(function(){o.setSelections(y.ranges,0,yt),o.replaceSelection("",null,"cut")})}else return;if(m.clipboardData){m.clipboardData.clearData();var w=ki.text.join(`
`);if(m.clipboardData.setData("Text",w),m.clipboardData.getData("Text")==w){m.preventDefault();return}}var O=pp(),P=O.firstChild;nc(P),o.display.lineSpace.insertBefore(O,o.display.lineSpace.firstChild),P.value=ki.text.join(`
`);var ae=E(be(u));C(P),setTimeout(function(){o.display.lineSpace.removeChild(O),ae.focus(),ae==u&&l.showPrimarySelection()},50)}}$(u,"copy",d),$(u,"cut",d)},It.prototype.screenReaderLabelChanged=function(n){n?this.div.setAttribute("aria-label",n):this.div.removeAttribute("aria-label")},It.prototype.prepareSelection=function(){var n=ad(this.cm,!1);return n.focus=E(be(this.div))==this.div,n},It.prototype.showSelection=function(n,r){!n||!this.cm.display.view.length||((n.focus||r)&&this.showPrimarySelection(),this.showMultipleSelections(n))},It.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},It.prototype.showPrimarySelection=function(){var n=this.getSelection(),r=this.cm,l=r.doc.sel.primary(),o=l.from(),u=l.to();if(r.display.viewTo==r.display.viewFrom||o.line>=r.display.viewTo||u.line<r.display.viewFrom){n.removeAllRanges();return}var f=$s(r,n.anchorNode,n.anchorOffset),d=$s(r,n.focusNode,n.focusOffset);if(!(f&&!f.bad&&d&&!d.bad&&st(ys(f,d),o)==0&&st(bs(f,d),u)==0)){var m=r.display.view,y=o.line>=r.display.viewFrom&&mp(r,o)||{node:m[0].measure.map[2],offset:0},w=u.line<r.display.viewTo&&mp(r,u);if(!w){var O=m[m.length-1].measure,P=O.maps?O.maps[O.maps.length-1]:O.map;w={node:P[P.length-1],offset:P[P.length-2]-P[P.length-3]}}if(!y||!w){n.removeAllRanges();return}var ae=n.rangeCount&&n.getRangeAt(0),J;try{J=M(y.node,y.offset,w.offset,w.node)}catch{}J&&(!s&&r.state.focused?(n.collapse(y.node,y.offset),J.collapsed||(n.removeAllRanges(),n.addRange(J))):(n.removeAllRanges(),n.addRange(J)),ae&&n.anchorNode==null?n.addRange(ae):s&&this.startGracePeriod()),this.rememberSelection()}},It.prototype.startGracePeriod=function(){var n=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){n.gracePeriod=!1,n.selectionChanged()&&n.cm.operation(function(){return n.cm.curOp.selectionChanged=!0})},20)},It.prototype.showMultipleSelections=function(n){it(this.cm.display.cursorDiv,n.cursors),it(this.cm.display.selectionDiv,n.selection)},It.prototype.rememberSelection=function(){var n=this.getSelection();this.lastAnchorNode=n.anchorNode,this.lastAnchorOffset=n.anchorOffset,this.lastFocusNode=n.focusNode,this.lastFocusOffset=n.focusOffset},It.prototype.selectionInEditor=function(){var n=this.getSelection();if(!n.rangeCount)return!1;var r=n.getRangeAt(0).commonAncestorContainer;return k(this.div,r)},It.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||E(be(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},It.prototype.blur=function(){this.div.blur()},It.prototype.getField=function(){return this.div},It.prototype.supportsTouch=function(){return!0},It.prototype.receivedFocus=function(){var n=this,r=this;this.selectionInEditor()?setTimeout(function(){return n.pollSelection()},20):Zn(this.cm,function(){return r.cm.curOp.selectionChanged=!0});function l(){r.cm.state.focused&&(r.pollSelection(),r.polling.set(r.cm.options.pollInterval,l))}this.polling.set(this.cm.options.pollInterval,l)},It.prototype.selectionChanged=function(){var n=this.getSelection();return n.anchorNode!=this.lastAnchorNode||n.anchorOffset!=this.lastAnchorOffset||n.focusNode!=this.lastFocusNode||n.focusOffset!=this.lastFocusOffset},It.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var n=this.getSelection(),r=this.cm;if(te&&W&&this.cm.display.gutterSpecs.length&&Ny(n.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var l=$s(r,n.anchorNode,n.anchorOffset),o=$s(r,n.focusNode,n.focusOffset);l&&o&&Zn(r,function(){Ln(r.doc,dr(l,o),yt),(l.bad||o.bad)&&(r.curOp.selectionChanged=!0)})}}},It.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var n=this.cm,r=n.display,l=n.doc.sel.primary(),o=l.from(),u=l.to();if(o.ch==0&&o.line>n.firstLine()&&(o=Ce(o.line-1,Qe(n.doc,o.line-1).length)),u.ch==Qe(n.doc,u.line).text.length&&u.line<n.lastLine()&&(u=Ce(u.line+1,0)),o.line<r.viewFrom||u.line>r.viewTo-1)return!1;var f,d,m;o.line==r.viewFrom||(f=Rr(n,o.line))==0?(d=Nt(r.view[0].line),m=r.view[0].node):(d=Nt(r.view[f].line),m=r.view[f-1].node.nextSibling);var y=Rr(n,u.line),w,O;if(y==r.view.length-1?(w=r.viewTo-1,O=r.lineDiv.lastChild):(w=Nt(r.view[y+1].line)-1,O=r.view[y+1].node.previousSibling),!m)return!1;for(var P=n.doc.splitLines(Iy(n,m,O,d,w)),ae=Tr(n.doc,Ce(d,0),Ce(w,Qe(n.doc,w).text.length));P.length>1&&ae.length>1;)if(Ye(P)==Ye(ae))P.pop(),ae.pop(),w--;else if(P[0]==ae[0])P.shift(),ae.shift(),d++;else break;for(var J=0,pe=0,ye=P[0],Te=ae[0],Oe=Math.min(ye.length,Te.length);J<Oe&&ye.charCodeAt(J)==Te.charCodeAt(J);)++J;for(var ze=Ye(P),Ne=Ye(ae),qe=Math.min(ze.length-(P.length==1?J:0),Ne.length-(ae.length==1?J:0));pe<qe&&ze.charCodeAt(ze.length-pe-1)==Ne.charCodeAt(Ne.length-pe-1);)++pe;if(P.length==1&&ae.length==1&&d==o.line)for(;J&&J>o.ch&&ze.charCodeAt(ze.length-pe-1)==Ne.charCodeAt(Ne.length-pe-1);)J--,pe++;P[P.length-1]=ze.slice(0,ze.length-pe).replace(/^\u200b+/,""),P[0]=P[0].slice(J).replace(/\u200b+$/,"");var nt=Ce(d,J),et=Ce(w,ae.length?Ye(ae).length-pe:0);if(P.length>1||P[0]||st(nt,et))return ya(n.doc,P,nt,et,"+input"),!0},It.prototype.ensurePolled=function(){this.forceCompositionEnd()},It.prototype.reset=function(){this.forceCompositionEnd()},It.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},It.prototype.readFromDOMSoon=function(){var n=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(n.readDOMTimeout=null,n.composing)if(n.composing.done)n.composing=null;else return;n.updateFromDOM()},80))},It.prototype.updateFromDOM=function(){var n=this;(this.cm.isReadOnly()||!this.pollContent())&&Zn(this.cm,function(){return Bn(n.cm)})},It.prototype.setUneditable=function(n){n.contentEditable="false"},It.prototype.onKeyPress=function(n){n.charCode==0||this.composing||(n.preventDefault(),this.cm.isReadOnly()||wn(this.cm,tc)(this.cm,String.fromCharCode(n.charCode==null?n.keyCode:n.charCode),0))},It.prototype.readOnlyChanged=function(n){this.div.contentEditable=String(n!="nocursor")},It.prototype.onContextMenu=function(){},It.prototype.resetPosition=function(){},It.prototype.needsContentAttribute=!0;function mp(n,r){var l=Cu(n,r.line);if(!l||l.hidden)return null;var o=Qe(n.doc,r.line),u=qf(l,o,r.line),f=H(o,n.doc.direction),d="left";if(f){var m=X(f,r.ch);d=m%2?"right":"left"}var y=$f(u.map,r.ch,d);return y.offset=y.collapse=="right"?y.end:y.start,y}function Ny(n){for(var r=n;r;r=r.parentNode)if(/CodeMirror-gutter-wrapper/.test(r.className))return!0;return!1}function ka(n,r){return r&&(n.bad=!0),n}function Iy(n,r,l,o,u){var f="",d=!1,m=n.doc.lineSeparator(),y=!1;function w(J){return function(pe){return pe.id==J}}function O(){d&&(f+=m,y&&(f+=m),d=y=!1)}function P(J){J&&(O(),f+=J)}function ae(J){if(J.nodeType==1){var pe=J.getAttribute("cm-text");if(pe){P(pe);return}var ye=J.getAttribute("cm-marker"),Te;if(ye){var Oe=n.findMarks(Ce(o,0),Ce(u+1,0),w(+ye));Oe.length&&(Te=Oe[0].find(0))&&P(Tr(n.doc,Te.from,Te.to).join(m));return}if(J.getAttribute("contenteditable")=="false")return;var ze=/^(pre|div|p|li|table|br)$/i.test(J.nodeName);if(!/^br$/i.test(J.nodeName)&&J.textContent.length==0)return;ze&&O();for(var Ne=0;Ne<J.childNodes.length;Ne++)ae(J.childNodes[Ne]);/^(pre|p)$/i.test(J.nodeName)&&(y=!0),ze&&(d=!0)}else J.nodeType==3&&P(J.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ae(r),r!=l;)r=r.nextSibling,y=!1;return f}function $s(n,r,l){var o;if(r==n.display.lineDiv){if(o=n.display.lineDiv.childNodes[l],!o)return ka(n.clipPos(Ce(n.display.viewTo-1)),!0);r=null,l=0}else for(o=r;;o=o.parentNode){if(!o||o==n.display.lineDiv)return null;if(o.parentNode&&o.parentNode==n.display.lineDiv)break}for(var u=0;u<n.display.view.length;u++){var f=n.display.view[u];if(f.node==o)return Py(f,r,l)}}function Py(n,r,l){var o=n.text.firstChild,u=!1;if(!r||!k(o,r))return ka(Ce(Nt(n.line),0),!0);if(r==o&&(u=!0,r=o.childNodes[l],l=0,!r)){var f=n.rest?Ye(n.rest):n.line;return ka(Ce(Nt(f),f.text.length),u)}var d=r.nodeType==3?r:null,m=r;for(!d&&r.childNodes.length==1&&r.firstChild.nodeType==3&&(d=r.firstChild,l&&(l=d.nodeValue.length));m.parentNode!=o;)m=m.parentNode;var y=n.measure,w=y.maps;function O(Te,Oe,ze){for(var Ne=-1;Ne<(w?w.length:0);Ne++)for(var qe=Ne<0?y.map:w[Ne],nt=0;nt<qe.length;nt+=3){var et=qe[nt+2];if(et==Te||et==Oe){var pt=Nt(Ne<0?n.line:n.rest[Ne]),Wt=qe[nt]+ze;return(ze<0||et!=Te)&&(Wt=qe[nt+(ze?1:0)]),Ce(pt,Wt)}}}var P=O(d,m,l);if(P)return ka(P,u);for(var ae=m.nextSibling,J=d?d.nodeValue.length-l:0;ae;ae=ae.nextSibling){if(P=O(ae,ae.firstChild,0),P)return ka(Ce(P.line,P.ch-J),u);J+=ae.textContent.length}for(var pe=m.previousSibling,ye=l;pe;pe=pe.previousSibling){if(P=O(pe,pe.firstChild,-1),P)return ka(Ce(P.line,P.ch+ye),u);ye+=pe.textContent.length}}var on=function(n){this.cm=n,this.prevInput="",this.pollingFast=!1,this.polling=new Ue,this.hasSelection=!1,this.composing=null,this.resetting=!1};on.prototype.init=function(n){var r=this,l=this,o=this.cm;this.createField(n);var u=this.textarea;n.wrapper.insertBefore(this.wrapper,n.wrapper.firstChild),Z&&(u.style.width="0px"),$(u,"input",function(){b&&D>=9&&r.hasSelection&&(r.hasSelection=null),l.poll()}),$(u,"paste",function(d){Se(o,d)||hp(d,o)||(o.state.pasteIncoming=+new Date,l.fastPoll())});function f(d){if(!Se(o,d)){if(o.somethingSelected())Gs({lineWise:!1,text:o.getSelections()});else if(o.options.lineWiseCopyCut){var m=dp(o);Gs({lineWise:!0,text:m.text}),d.type=="cut"?o.setSelections(m.ranges,null,yt):(l.prevInput="",u.value=m.text.join(`
`),C(u))}else return;d.type=="cut"&&(o.state.cutIncoming=+new Date)}}$(u,"cut",f),$(u,"copy",f),$(n.scroller,"paste",function(d){if(!(Gi(n,d)||Se(o,d))){if(!u.dispatchEvent){o.state.pasteIncoming=+new Date,l.focus();return}var m=new Event("paste");m.clipboardData=d.clipboardData,u.dispatchEvent(m)}}),$(n.lineSpace,"selectstart",function(d){Gi(n,d)||re(d)}),$(u,"compositionstart",function(){var d=o.getCursor("from");l.composing&&l.composing.range.clear(),l.composing={start:d,range:o.markText(d,o.getCursor("to"),{className:"CodeMirror-composing"})}}),$(u,"compositionend",function(){l.composing&&(l.poll(),l.composing.range.clear(),l.composing=null)})},on.prototype.createField=function(n){this.wrapper=pp(),this.textarea=this.wrapper.firstChild;var r=this.cm.options;nc(this.textarea,r.spellcheck,r.autocorrect,r.autocapitalize)},on.prototype.screenReaderLabelChanged=function(n){n?this.textarea.setAttribute("aria-label",n):this.textarea.removeAttribute("aria-label")},on.prototype.prepareSelection=function(){var n=this.cm,r=n.display,l=n.doc,o=ad(n);if(n.options.moveInputWithCursor){var u=Di(n,l.sel.primary().head,"div"),f=r.wrapper.getBoundingClientRect(),d=r.lineDiv.getBoundingClientRect();o.teTop=Math.max(0,Math.min(r.wrapper.clientHeight-10,u.top+d.top-f.top)),o.teLeft=Math.max(0,Math.min(r.wrapper.clientWidth-10,u.left+d.left-f.left))}return o},on.prototype.showSelection=function(n){var r=this.cm,l=r.display;it(l.cursorDiv,n.cursors),it(l.selectionDiv,n.selection),n.teTop!=null&&(this.wrapper.style.top=n.teTop+"px",this.wrapper.style.left=n.teLeft+"px")},on.prototype.reset=function(n){if(!(this.contextMenuPending||this.composing&&n)){var r=this.cm;if(this.resetting=!0,r.somethingSelected()){this.prevInput="";var l=r.getSelection();this.textarea.value=l,r.state.focused&&C(this.textarea),b&&D>=9&&(this.hasSelection=l)}else n||(this.prevInput=this.textarea.value="",b&&D>=9&&(this.hasSelection=null));this.resetting=!1}},on.prototype.getField=function(){return this.textarea},on.prototype.supportsTouch=function(){return!1},on.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!ee||E(be(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},on.prototype.blur=function(){this.textarea.blur()},on.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},on.prototype.receivedFocus=function(){this.slowPoll()},on.prototype.slowPoll=function(){var n=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){n.poll(),n.cm.state.focused&&n.slowPoll()})},on.prototype.fastPoll=function(){var n=!1,r=this;r.pollingFast=!0;function l(){var o=r.poll();!o&&!n?(n=!0,r.polling.set(60,l)):(r.pollingFast=!1,r.slowPoll())}r.polling.set(20,l)},on.prototype.poll=function(){var n=this,r=this.cm,l=this.textarea,o=this.prevInput;if(this.contextMenuPending||this.resetting||!r.state.focused||ri(l)&&!o&&!this.composing||r.isReadOnly()||r.options.disableInput||r.state.keySeq)return!1;var u=l.value;if(u==o&&!r.somethingSelected())return!1;if(b&&D>=9&&this.hasSelection===u||ie&&/[\uf700-\uf7ff]/.test(u))return r.display.input.reset(),!1;if(r.doc.sel==r.display.selForContextMenu){var f=u.charCodeAt(0);if(f==8203&&!o&&(o="​"),f==8666)return this.reset(),this.cm.execCommand("undo")}for(var d=0,m=Math.min(o.length,u.length);d<m&&o.charCodeAt(d)==u.charCodeAt(d);)++d;return Zn(r,function(){tc(r,u.slice(d),o.length-d,null,n.composing?"*compose":null),u.length>1e3||u.indexOf(`
`)>-1?l.value=n.prevInput="":n.prevInput=u,n.composing&&(n.composing.range.clear(),n.composing.range=r.markText(n.composing.start,r.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},on.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},on.prototype.onKeyPress=function(){b&&D>=9&&(this.hasSelection=null),this.fastPoll()},on.prototype.onContextMenu=function(n){var r=this,l=r.cm,o=l.display,u=r.textarea;r.contextMenuPending&&r.contextMenuPending();var f=_r(l,n),d=o.scroller.scrollTop;if(!f||Q)return;var m=l.options.resetSelectionOnContextMenu;m&&l.doc.sel.contains(f)==-1&&wn(l,Ln)(l.doc,dr(f),yt);var y=u.style.cssText,w=r.wrapper.style.cssText,O=r.wrapper.offsetParent.getBoundingClientRect();r.wrapper.style.cssText="position: static",u.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(n.clientY-O.top-5)+"px; left: "+(n.clientX-O.left-5)+`px;
      z-index: 1000; background: `+(b?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var P;L&&(P=u.ownerDocument.defaultView.scrollY),o.input.focus(),L&&u.ownerDocument.defaultView.scrollTo(null,P),o.input.reset(),l.somethingSelected()||(u.value=r.prevInput=" "),r.contextMenuPending=J,o.selForContextMenu=l.doc.sel,clearTimeout(o.detectingSelectAll);function ae(){if(u.selectionStart!=null){var ye=l.somethingSelected(),Te="​"+(ye?u.value:"");u.value="⇚",u.value=Te,r.prevInput=ye?"":"​",u.selectionStart=1,u.selectionEnd=Te.length,o.selForContextMenu=l.doc.sel}}function J(){if(r.contextMenuPending==J&&(r.contextMenuPending=!1,r.wrapper.style.cssText=w,u.style.cssText=y,b&&D<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=d),u.selectionStart!=null)){(!b||b&&D<9)&&ae();var ye=0,Te=function(){o.selForContextMenu==l.doc.sel&&u.selectionStart==0&&u.selectionEnd>0&&r.prevInput=="​"?wn(l,Nd)(l):ye++<10?o.detectingSelectAll=setTimeout(Te,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(Te,200)}}if(b&&D>=9&&ae(),ot){Xe(n);var pe=function(){_e(window,"mouseup",pe),setTimeout(J,20)};$(window,"mouseup",pe)}else setTimeout(J,50)},on.prototype.readOnlyChanged=function(n){n||this.reset(),this.textarea.disabled=n=="nocursor",this.textarea.readOnly=!!n},on.prototype.setUneditable=function(){},on.prototype.needsContentAttribute=!1;function By(n,r){if(r=r?He(r):{},r.value=n.value,!r.tabindex&&n.tabIndex&&(r.tabindex=n.tabIndex),!r.placeholder&&n.placeholder&&(r.placeholder=n.placeholder),r.autofocus==null){var l=E(be(n));r.autofocus=l==n||n.getAttribute("autofocus")!=null&&l==document.body}function o(){n.value=m.getValue()}var u;if(n.form&&($(n.form,"submit",o),!r.leaveSubmitMethodAlone)){var f=n.form;u=f.submit;try{var d=f.submit=function(){o(),f.submit=u,f.submit(),f.submit=d}}catch{}}r.finishInit=function(y){y.save=o,y.getTextArea=function(){return n},y.toTextArea=function(){y.toTextArea=isNaN,o(),n.parentNode.removeChild(y.getWrapperElement()),n.style.display="",n.form&&(_e(n.form,"submit",o),!r.leaveSubmitMethodAlone&&typeof n.form.submit=="function"&&(n.form.submit=u))}},n.style.display="none";var m=$t(function(y){return n.parentNode.insertBefore(y,n.nextSibling)},r);return m}function Hy(n){n.off=_e,n.on=$,n.wheelEventPixels=Vb,n.Doc=Hn,n.splitLines=Jn,n.countColumn=Pe,n.findColumn=At,n.isWordChar=K,n.Pass=ht,n.signal=Be,n.Line=la,n.changeEnd=pr,n.scrollbarModel=hd,n.Pos=Ce,n.cmpPos=st,n.modes=q,n.mimeModes=We,n.resolveMode=bt,n.getMode=ut,n.modeExtensions=Ht,n.extendMode=xi,n.copyState=Sn,n.startState=to,n.innerMode=yn,n.commands=So,n.keyMap=Ki,n.keyName=Jd,n.isModifierKey=Kd,n.lookupKey=wa,n.normalizeKeyMap=py,n.StringStream=Jt,n.SharedTextMarker=Co,n.TextMarker=mr,n.LineWidget=Do,n.e_preventDefault=re,n.e_stopPropagation=xe,n.e_stop=Xe,n.addClass=j,n.contains=k,n.rmClass=Ve,n.keyNames=vr}My($t),Oy($t);var Wy="iter insert remove copy getEditor constructor".split(" ");for(var Ks in Hn.prototype)Hn.prototype.hasOwnProperty(Ks)&&$e(Wy,Ks)<0&&($t.prototype[Ks]=function(n){return function(){return n.apply(this.doc,arguments)}}(Hn.prototype[Ks]));return Y(Hn),$t.inputStyles={textarea:on,contenteditable:It},$t.defineMode=function(n){!$t.defaults.mode&&n!="null"&&($t.defaults.mode=n),Ie.apply(this,arguments)},$t.defineMIME=dt,$t.defineMode("null",function(){return{token:function(n){return n.skipToEnd()}}}),$t.defineMIME("text/plain","null"),$t.defineExtension=function(n,r){$t.prototype[n]=r},$t.defineDocExtension=function(n,r){Hn.prototype[n]=r},$t.fromTextArea=By,Hy($t),$t.version="5.65.19",$t})}(ul)),ul.exports}var bp={exports:{}},yp;function qy(){return yp||(yp=1,function(i,e){(function(t){t(ci())})(function(t){var a=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,s=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,c=/[*+-]\s/;t.commands.newlineAndIndentContinueMarkdownList=function(g){if(g.getOption("disableInput"))return t.Pass;for(var b=g.listSelections(),D=[],L=0;L<b.length;L++){var N=b[L].head,W=g.getStateAfter(N.line),fe=t.innerMode(g.getMode(),W);if(fe.mode.name!=="markdown"&&fe.mode.helperType!=="markdown"){g.execCommand("newlineAndIndent");return}else W=fe.state;var Q=W.list!==!1,ue=W.quote!==0,ce=g.getLine(N.line),ge=a.exec(ce),Z=/^\s*$/.test(ce.slice(0,N.ch));if(!b[L].empty()||!Q&&!ue||!ge||Z){g.execCommand("newlineAndIndent");return}if(s.test(ce)){var te=ue&&/>\s*$/.test(ce),ee=!/>\s*$/.test(ce);(te||ee)&&g.replaceRange("",{line:N.line,ch:0},{line:N.line,ch:N.ch+1}),D[L]=`
`}else{var ie=ge[1],ve=ge[5],de=!(c.test(ge[2])||ge[2].indexOf(">")>=0),we=de?parseInt(ge[3],10)+1+ge[4]:ge[2].replace("x"," ");D[L]=`
`+ie+we+ve,de&&h(g,N)}}g.replaceSelections(D)};function h(g,b){var D=b.line,L=0,N=0,W=a.exec(g.getLine(D)),fe=W[1];do{L+=1;var Q=D+L,ue=g.getLine(Q),ce=a.exec(ue);if(ce){var ge=ce[1],Z=parseInt(W[3],10)+L-N,te=parseInt(ce[3],10),ee=te;if(fe===ge&&!isNaN(te))Z===te&&(ee=te+1),Z>te&&(ee=Z+1),g.replaceRange(ue.replace(a,ge+ee+ce[4]+ce[5]),{line:Q,ch:0},{line:Q,ch:ue.length});else{if(fe.length>ge.length||fe.length<ge.length&&L===1)return;N+=1}}}while(ce)}})}()),bp.exports}var xp={},wp;function Vy(){if(wp)return xp;wp=1;var i=ci();return i.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections(),a=t[0].head,s=e.getStateAfter(a.line),c=s.list!==!1;if(c){e.execCommand("indentMore");return}if(e.options.indentWithTabs)e.execCommand("insertTab");else{var h=Array(e.options.tabSize+1).join(" ");e.replaceSelection(h)}},i.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections(),a=t[0].head,s=e.getStateAfter(a.line),c=s.list!==!1;if(c){e.execCommand("indentLess");return}if(e.options.indentWithTabs)e.execCommand("insertTab");else{var h=Array(e.options.tabSize+1).join(" ");e.replaceSelection(h)}},xp}var Dp={exports:{}},Cp;function Gy(){return Cp||(Cp=1,function(i,e){(function(t){t(ci())})(function(t){t.defineOption("fullScreen",!1,function(c,h,g){g==t.Init&&(g=!1),!g!=!h&&(h?a(c):s(c))});function a(c){var h=c.getWrapperElement();c.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:h.style.width,height:h.style.height},h.style.width="",h.style.height="auto",h.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",c.refresh()}function s(c){var h=c.getWrapperElement();h.className=h.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var g=c.state.fullScreenRestore;h.style.width=g.width,h.style.height=g.height,window.scrollTo(g.scrollLeft,g.scrollTop),c.refresh()}})}()),Dp.exports}var kp={exports:{}},Ap={exports:{}},Sp;function Sm(){return Sp||(Sp=1,function(i,e){(function(t){t(ci())})(function(t){var a={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},s={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(c,h){var g=c.indentUnit,b={},D=h.htmlMode?a:s;for(var L in D)b[L]=D[L];for(var L in h)b[L]=h[L];var N,W;function fe(G,le){function M(j){return le.tokenize=j,j(G,le)}var k=G.next();if(k=="<")return G.eat("!")?G.eat("[")?G.match("CDATA[")?M(ce("atom","]]>")):null:G.match("--")?M(ce("comment","-->")):G.match("DOCTYPE",!0,!0)?(G.eatWhile(/[\w\._\-]/),M(ge(1))):null:G.eat("?")?(G.eatWhile(/[\w\._\-]/),le.tokenize=ce("meta","?>"),"meta"):(N=G.eat("/")?"closeTag":"openTag",le.tokenize=Q,"tag bracket");if(k=="&"){var E;return G.eat("#")?G.eat("x")?E=G.eatWhile(/[a-fA-F\d]/)&&G.eat(";"):E=G.eatWhile(/[\d]/)&&G.eat(";"):E=G.eatWhile(/[\w\.\-:]/)&&G.eat(";"),E?"atom":"error"}else return G.eatWhile(/[^&<]/),null}fe.isInText=!0;function Q(G,le){var M=G.next();if(M==">"||M=="/"&&G.eat(">"))return le.tokenize=fe,N=M==">"?"endTag":"selfcloseTag","tag bracket";if(M=="=")return N="equals",null;if(M=="<"){le.tokenize=fe,le.state=ve,le.tagName=le.tagStart=null;var k=le.tokenize(G,le);return k?k+" tag error":"tag error"}else return/[\'\"]/.test(M)?(le.tokenize=ue(M),le.stringStartCol=G.column(),le.tokenize(G,le)):(G.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function ue(G){var le=function(M,k){for(;!M.eol();)if(M.next()==G){k.tokenize=Q;break}return"string"};return le.isInAttribute=!0,le}function ce(G,le){return function(M,k){for(;!M.eol();){if(M.match(le)){k.tokenize=fe;break}M.next()}return G}}function ge(G){return function(le,M){for(var k;(k=le.next())!=null;){if(k=="<")return M.tokenize=ge(G+1),M.tokenize(le,M);if(k==">")if(G==1){M.tokenize=fe;break}else return M.tokenize=ge(G-1),M.tokenize(le,M)}return"meta"}}function Z(G){return G&&G.toLowerCase()}function te(G,le,M){this.prev=G.context,this.tagName=le||"",this.indent=G.indented,this.startOfLine=M,(b.doNotIndent.hasOwnProperty(le)||G.context&&G.context.noIndent)&&(this.noIndent=!0)}function ee(G){G.context&&(G.context=G.context.prev)}function ie(G,le){for(var M;;){if(!G.context||(M=G.context.tagName,!b.contextGrabbers.hasOwnProperty(Z(M))||!b.contextGrabbers[Z(M)].hasOwnProperty(Z(le))))return;ee(G)}}function ve(G,le,M){return G=="openTag"?(M.tagStart=le.column(),de):G=="closeTag"?we:ve}function de(G,le,M){return G=="word"?(M.tagName=le.current(),W="tag",Ee):b.allowMissingTagName&&G=="endTag"?(W="tag bracket",Ee(G,le,M)):(W="error",de)}function we(G,le,M){if(G=="word"){var k=le.current();return M.context&&M.context.tagName!=k&&b.implicitlyClosed.hasOwnProperty(Z(M.context.tagName))&&ee(M),M.context&&M.context.tagName==k||b.matchClosing===!1?(W="tag",Me):(W="tag error",ot)}else return b.allowMissingTagName&&G=="endTag"?(W="tag bracket",Me(G,le,M)):(W="error",ot)}function Me(G,le,M){return G!="endTag"?(W="error",Me):(ee(M),ve)}function ot(G,le,M){return W="error",Me(G,le,M)}function Ee(G,le,M){if(G=="word")return W="attribute",Ve;if(G=="endTag"||G=="selfcloseTag"){var k=M.tagName,E=M.tagStart;return M.tagName=M.tagStart=null,G=="selfcloseTag"||b.autoSelfClosers.hasOwnProperty(Z(k))?ie(M,k):(ie(M,k),M.context=new te(M,k,E==M.indented)),ve}return W="error",Ee}function Ve(G,le,M){return G=="equals"?Je:(b.allowMissing||(W="error"),Ee(G,le,M))}function Je(G,le,M){return G=="string"?it:G=="word"&&b.allowUnquoted?(W="string",Ee):(W="error",Ee(G,le,M))}function it(G,le,M){return G=="string"?it:Ee(G,le,M)}return{startState:function(G){var le={tokenize:fe,state:ve,indented:G||0,tagName:null,tagStart:null,context:null};return G!=null&&(le.baseIndent=G),le},token:function(G,le){if(!le.tagName&&G.sol()&&(le.indented=G.indentation()),G.eatSpace())return null;N=null;var M=le.tokenize(G,le);return(M||N)&&M!="comment"&&(W=null,le.state=le.state(N||M,G,le),W&&(M=W=="error"?M+" error":W)),M},indent:function(G,le,M){var k=G.context;if(G.tokenize.isInAttribute)return G.tagStart==G.indented?G.stringStartCol+1:G.indented+g;if(k&&k.noIndent)return t.Pass;if(G.tokenize!=Q&&G.tokenize!=fe)return M?M.match(/^(\s*)/)[0].length:0;if(G.tagName)return b.multilineTagIndentPastTag!==!1?G.tagStart+G.tagName.length+2:G.tagStart+g*(b.multilineTagIndentFactor||1);if(b.alignCDATA&&/<!\[CDATA\[/.test(le))return 0;var E=le&&/^<(\/)?([\w_:\.-]*)/.exec(le);if(E&&E[1])for(;k;)if(k.tagName==E[2]){k=k.prev;break}else if(b.implicitlyClosed.hasOwnProperty(Z(k.tagName)))k=k.prev;else break;else if(E)for(;k;){var j=b.contextGrabbers[Z(k.tagName)];if(j&&j.hasOwnProperty(Z(E[2])))k=k.prev;else break}for(;k&&k.prev&&!k.startOfLine;)k=k.prev;return k?k.indent+g:G.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:b.htmlMode?"html":"xml",helperType:b.htmlMode?"html":"xml",skipAttribute:function(G){G.state==Je&&(G.state=Ee)},xmlCurrentTag:function(G){return G.tagName?{name:G.tagName,close:G.type=="closeTag"}:null},xmlCurrentContext:function(G){for(var le=[],M=G.context;M;M=M.prev)le.push(M.tagName);return le.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),Ap.exports}var Ep={exports:{}},Tp;function $y(){return Tp||(Tp=1,function(i,e){(function(t){t(ci())})(function(t){t.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var a=0;a<t.modeInfo.length;a++){var s=t.modeInfo[a];s.mimes&&(s.mime=s.mimes[0])}t.findModeByMIME=function(c){c=c.toLowerCase();for(var h=0;h<t.modeInfo.length;h++){var g=t.modeInfo[h];if(g.mime==c)return g;if(g.mimes){for(var b=0;b<g.mimes.length;b++)if(g.mimes[b]==c)return g}}if(/\+xml$/.test(c))return t.findModeByMIME("application/xml");if(/\+json$/.test(c))return t.findModeByMIME("application/json")},t.findModeByExtension=function(c){c=c.toLowerCase();for(var h=0;h<t.modeInfo.length;h++){var g=t.modeInfo[h];if(g.ext){for(var b=0;b<g.ext.length;b++)if(g.ext[b]==c)return g}}},t.findModeByFileName=function(c){for(var h=0;h<t.modeInfo.length;h++){var g=t.modeInfo[h];if(g.file&&g.file.test(c))return g}var b=c.lastIndexOf("."),D=b>-1&&c.substring(b+1,c.length);if(D)return t.findModeByExtension(D)},t.findModeByName=function(c){c=c.toLowerCase();for(var h=0;h<t.modeInfo.length;h++){var g=t.modeInfo[h];if(g.name.toLowerCase()==c)return g;if(g.alias){for(var b=0;b<g.alias.length;b++)if(g.alias[b].toLowerCase()==c)return g}}}})}()),Ep.exports}var Lp;function Em(){return Lp||(Lp=1,function(i,e){(function(t){t(ci(),Sm(),$y())})(function(t){t.defineMode("markdown",function(a,s){var c=t.getMode(a,"text/html"),h=c.name=="null";function g(C){if(t.findModeByName){var v=t.findModeByName(C);v&&(C=v.mime||v.mimes[0])}var R=t.getMode(a,C);return R.name=="null"?null:R}s.highlightFormatting===void 0&&(s.highlightFormatting=!1),s.maxBlockquoteDepth===void 0&&(s.maxBlockquoteDepth=0),s.taskLists===void 0&&(s.taskLists=!1),s.strikethrough===void 0&&(s.strikethrough=!1),s.emoji===void 0&&(s.emoji=!1),s.fencedCodeBlockHighlighting===void 0&&(s.fencedCodeBlockHighlighting=!0),s.fencedCodeBlockDefaultMode===void 0&&(s.fencedCodeBlockDefaultMode="text/plain"),s.xml===void 0&&(s.xml=!0),s.tokenTypeOverrides===void 0&&(s.tokenTypeOverrides={});var b={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var D in b)b.hasOwnProperty(D)&&s.tokenTypeOverrides[D]&&(b[D]=s.tokenTypeOverrides[D]);var L=/^([*\-_])(?:\s*\1){2,}\s*$/,N=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,W=/^\[(x| )\](?=\s)/i,fe=s.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,Q=/^ {0,3}(?:\={1,}|-{2,})\s*$/,ue=/^[^#!\[\]*_\\<>` "'(~:]+/,ce=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,ge=/^\s*\[[^\]]+?\]:.*$/,Z=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,te="    ";function ee(C,v,R){return v.f=v.inline=R,R(C,v)}function ie(C,v,R){return v.f=v.block=R,R(C,v)}function ve(C){return!C||!/\S/.test(C.string)}function de(C){if(C.linkTitle=!1,C.linkHref=!1,C.linkText=!1,C.em=!1,C.strong=!1,C.strikethrough=!1,C.quote=0,C.indentedCode=!1,C.f==Me){var v=h;if(!v){var R=t.innerMode(c,C.htmlState);v=R.mode.name=="xml"&&R.state.tagStart===null&&!R.state.context&&R.state.tokenize.isInText}v&&(C.f=Je,C.block=we,C.htmlState=null)}return C.trailingSpace=0,C.trailingSpaceNewLine=!1,C.prevLine=C.thisLine,C.thisLine={stream:null},null}function we(C,v){var R=C.column()===v.indentation,be=ve(v.prevLine.stream),he=v.indentedCode,De=v.prevLine.hr,He=v.list!==!1,Pe=(v.listStack[v.listStack.length-1]||0)+3;v.indentedCode=!1;var Ue=v.indentation;if(v.indentationDiff===null&&(v.indentationDiff=v.indentation,He)){for(v.list=null;Ue<v.listStack[v.listStack.length-1];)v.listStack.pop(),v.listStack.length?v.indentation=v.listStack[v.listStack.length-1]:v.list=!1;v.list!==!1&&(v.indentationDiff=Ue-v.listStack[v.listStack.length-1])}var $e=!be&&!De&&!v.prevLine.header&&(!He||!he)&&!v.prevLine.fencedCodeEnd,rt=(v.list===!1||De||be)&&v.indentation<=Pe&&C.match(L),ht=null;if(v.indentationDiff>=4&&(he||v.prevLine.fencedCodeEnd||v.prevLine.header||be))return C.skipToEnd(),v.indentedCode=!0,b.code;if(C.eatSpace())return null;if(R&&v.indentation<=Pe&&(ht=C.match(fe))&&ht[1].length<=6)return v.quote=0,v.header=ht[1].length,v.thisLine.header=!0,s.highlightFormatting&&(v.formatting="header"),v.f=v.inline,Ee(v);if(v.indentation<=Pe&&C.eat(">"))return v.quote=R?1:v.quote+1,s.highlightFormatting&&(v.formatting="quote"),C.eatSpace(),Ee(v);if(!rt&&!v.setext&&R&&v.indentation<=Pe&&(ht=C.match(N))){var yt=ht[1]?"ol":"ul";return v.indentation=Ue+C.current().length,v.list=!0,v.quote=0,v.listStack.push(v.indentation),v.em=!1,v.strong=!1,v.code=!1,v.strikethrough=!1,s.taskLists&&C.match(W,!1)&&(v.taskList=!0),v.f=v.inline,s.highlightFormatting&&(v.formatting=["list","list-"+yt]),Ee(v)}else{if(R&&v.indentation<=Pe&&(ht=C.match(ce,!0)))return v.quote=0,v.fencedEndRE=new RegExp(ht[1]+"+ *$"),v.localMode=s.fencedCodeBlockHighlighting&&g(ht[2]||s.fencedCodeBlockDefaultMode),v.localMode&&(v.localState=t.startState(v.localMode)),v.f=v.block=ot,s.highlightFormatting&&(v.formatting="code-block"),v.code=-1,Ee(v);if(v.setext||(!$e||!He)&&!v.quote&&v.list===!1&&!v.code&&!rt&&!ge.test(C.string)&&(ht=C.lookAhead(1))&&(ht=ht.match(Q)))return v.setext?(v.header=v.setext,v.setext=0,C.skipToEnd(),s.highlightFormatting&&(v.formatting="header")):(v.header=ht[0].charAt(0)=="="?1:2,v.setext=v.header),v.thisLine.header=!0,v.f=v.inline,Ee(v);if(rt)return C.skipToEnd(),v.hr=!0,v.thisLine.hr=!0,b.hr;if(C.peek()==="[")return ee(C,v,k)}return ee(C,v,v.inline)}function Me(C,v){var R=c.token(C,v.htmlState);if(!h){var be=t.innerMode(c,v.htmlState);(be.mode.name=="xml"&&be.state.tagStart===null&&!be.state.context&&be.state.tokenize.isInText||v.md_inside&&C.current().indexOf(">")>-1)&&(v.f=Je,v.block=we,v.htmlState=null)}return R}function ot(C,v){var R=v.listStack[v.listStack.length-1]||0,be=v.indentation<R,he=R+3;if(v.fencedEndRE&&v.indentation<=he&&(be||C.match(v.fencedEndRE))){s.highlightFormatting&&(v.formatting="code-block");var De;return be||(De=Ee(v)),v.localMode=v.localState=null,v.block=we,v.f=Je,v.fencedEndRE=null,v.code=0,v.thisLine.fencedCodeEnd=!0,be?ie(C,v,v.block):De}else return v.localMode?v.localMode.token(C,v.localState):(C.skipToEnd(),b.code)}function Ee(C){var v=[];if(C.formatting){v.push(b.formatting),typeof C.formatting=="string"&&(C.formatting=[C.formatting]);for(var R=0;R<C.formatting.length;R++)v.push(b.formatting+"-"+C.formatting[R]),C.formatting[R]==="header"&&v.push(b.formatting+"-"+C.formatting[R]+"-"+C.header),C.formatting[R]==="quote"&&(!s.maxBlockquoteDepth||s.maxBlockquoteDepth>=C.quote?v.push(b.formatting+"-"+C.formatting[R]+"-"+C.quote):v.push("error"))}if(C.taskOpen)return v.push("meta"),v.length?v.join(" "):null;if(C.taskClosed)return v.push("property"),v.length?v.join(" "):null;if(C.linkHref?v.push(b.linkHref,"url"):(C.strong&&v.push(b.strong),C.em&&v.push(b.em),C.strikethrough&&v.push(b.strikethrough),C.emoji&&v.push(b.emoji),C.linkText&&v.push(b.linkText),C.code&&v.push(b.code),C.image&&v.push(b.image),C.imageAltText&&v.push(b.imageAltText,"link"),C.imageMarker&&v.push(b.imageMarker)),C.header&&v.push(b.header,b.header+"-"+C.header),C.quote&&(v.push(b.quote),!s.maxBlockquoteDepth||s.maxBlockquoteDepth>=C.quote?v.push(b.quote+"-"+C.quote):v.push(b.quote+"-"+s.maxBlockquoteDepth)),C.list!==!1){var be=(C.listStack.length-1)%3;be?be===1?v.push(b.list2):v.push(b.list3):v.push(b.list1)}return C.trailingSpaceNewLine?v.push("trailing-space-new-line"):C.trailingSpace&&v.push("trailing-space-"+(C.trailingSpace%2?"a":"b")),v.length?v.join(" "):null}function Ve(C,v){if(C.match(ue,!0))return Ee(v)}function Je(C,v){var R=v.text(C,v);if(typeof R<"u")return R;if(v.list)return v.list=null,Ee(v);if(v.taskList){var be=C.match(W,!0)[1]===" ";return be?v.taskOpen=!0:v.taskClosed=!0,s.highlightFormatting&&(v.formatting="task"),v.taskList=!1,Ee(v)}if(v.taskOpen=!1,v.taskClosed=!1,v.header&&C.match(/^#+$/,!0))return s.highlightFormatting&&(v.formatting="header"),Ee(v);var he=C.next();if(v.linkTitle){v.linkTitle=!1;var De=he;he==="("&&(De=")"),De=(De+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var He="^\\s*(?:[^"+De+"\\\\]+|\\\\\\\\|\\\\.)"+De;if(C.match(new RegExp(He),!0))return b.linkHref}if(he==="`"){var Pe=v.formatting;s.highlightFormatting&&(v.formatting="code"),C.eatWhile("`");var Ue=C.current().length;if(v.code==0&&(!v.quote||Ue==1))return v.code=Ue,Ee(v);if(Ue==v.code){var $e=Ee(v);return v.code=0,$e}else return v.formatting=Pe,Ee(v)}else if(v.code)return Ee(v);if(he==="\\"&&(C.next(),s.highlightFormatting)){var rt=Ee(v),ht=b.formatting+"-escape";return rt?rt+" "+ht:ht}if(he==="!"&&C.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return v.imageMarker=!0,v.image=!0,s.highlightFormatting&&(v.formatting="image"),Ee(v);if(he==="["&&v.imageMarker&&C.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return v.imageMarker=!1,v.imageAltText=!0,s.highlightFormatting&&(v.formatting="image"),Ee(v);if(he==="]"&&v.imageAltText){s.highlightFormatting&&(v.formatting="image");var rt=Ee(v);return v.imageAltText=!1,v.image=!1,v.inline=v.f=G,rt}if(he==="["&&!v.image)return v.linkText&&C.match(/^.*?\]/)||(v.linkText=!0,s.highlightFormatting&&(v.formatting="link")),Ee(v);if(he==="]"&&v.linkText){s.highlightFormatting&&(v.formatting="link");var rt=Ee(v);return v.linkText=!1,v.inline=v.f=C.match(/\(.*?\)| ?\[.*?\]/,!1)?G:Je,rt}if(he==="<"&&C.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){v.f=v.inline=it,s.highlightFormatting&&(v.formatting="link");var rt=Ee(v);return rt?rt+=" ":rt="",rt+b.linkInline}if(he==="<"&&C.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){v.f=v.inline=it,s.highlightFormatting&&(v.formatting="link");var rt=Ee(v);return rt?rt+=" ":rt="",rt+b.linkEmail}if(s.xml&&he==="<"&&C.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var yt=C.string.indexOf(">",C.pos);if(yt!=-1){var Le=C.string.substring(C.start,yt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Le)&&(v.md_inside=!0)}return C.backUp(1),v.htmlState=t.startState(c),ie(C,v,Me)}if(s.xml&&he==="<"&&C.match(/^\/\w*?>/))return v.md_inside=!1,"tag";if(he==="*"||he==="_"){for(var xt=1,At=C.pos==1?" ":C.string.charAt(C.pos-2);xt<3&&C.eat(he);)xt++;var Dt=C.peek()||" ",Ut=!/\s/.test(Dt)&&(!Z.test(Dt)||/\s/.test(At)||Z.test(At)),Ye=!/\s/.test(At)&&(!Z.test(At)||/\s/.test(Dt)||Z.test(Dt)),_t=null,qt=null;if(xt%2&&(!v.em&&Ut&&(he==="*"||!Ye||Z.test(At))?_t=!0:v.em==he&&Ye&&(he==="*"||!Ut||Z.test(Dt))&&(_t=!1)),xt>1&&(!v.strong&&Ut&&(he==="*"||!Ye||Z.test(At))?qt=!0:v.strong==he&&Ye&&(he==="*"||!Ut||Z.test(Dt))&&(qt=!1)),qt!=null||_t!=null){s.highlightFormatting&&(v.formatting=_t==null?"strong":qt==null?"em":"strong em"),_t===!0&&(v.em=he),qt===!0&&(v.strong=he);var $e=Ee(v);return _t===!1&&(v.em=!1),qt===!1&&(v.strong=!1),$e}}else if(he===" "&&(C.eat("*")||C.eat("_"))){if(C.peek()===" ")return Ee(v);C.backUp(1)}if(s.strikethrough){if(he==="~"&&C.eatWhile(he)){if(v.strikethrough){s.highlightFormatting&&(v.formatting="strikethrough");var $e=Ee(v);return v.strikethrough=!1,$e}else if(C.match(/^[^\s]/,!1))return v.strikethrough=!0,s.highlightFormatting&&(v.formatting="strikethrough"),Ee(v)}else if(he===" "&&C.match("~~",!0)){if(C.peek()===" ")return Ee(v);C.backUp(2)}}if(s.emoji&&he===":"&&C.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){v.emoji=!0,s.highlightFormatting&&(v.formatting="emoji");var en=Ee(v);return v.emoji=!1,en}return he===" "&&(C.match(/^ +$/,!1)?v.trailingSpace++:v.trailingSpace&&(v.trailingSpaceNewLine=!0)),Ee(v)}function it(C,v){var R=C.next();if(R===">"){v.f=v.inline=Je,s.highlightFormatting&&(v.formatting="link");var be=Ee(v);return be?be+=" ":be="",be+b.linkInline}return C.match(/^[^>]+/,!0),b.linkInline}function G(C,v){if(C.eatSpace())return null;var R=C.next();return R==="("||R==="["?(v.f=v.inline=M(R==="("?")":"]"),s.highlightFormatting&&(v.formatting="link-string"),v.linkHref=!0,Ee(v)):"error"}var le={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function M(C){return function(v,R){var be=v.next();if(be===C){R.f=R.inline=Je,s.highlightFormatting&&(R.formatting="link-string");var he=Ee(R);return R.linkHref=!1,he}return v.match(le[C]),R.linkHref=!0,Ee(R)}}function k(C,v){return C.match(/^([^\]\\]|\\.)*\]:/,!1)?(v.f=E,C.next(),s.highlightFormatting&&(v.formatting="link"),v.linkText=!0,Ee(v)):ee(C,v,Je)}function E(C,v){if(C.match("]:",!0)){v.f=v.inline=j,s.highlightFormatting&&(v.formatting="link");var R=Ee(v);return v.linkText=!1,R}return C.match(/^([^\]\\]|\\.)+/,!0),b.linkText}function j(C,v){return C.eatSpace()?null:(C.match(/^[^\s]+/,!0),C.peek()===void 0?v.linkTitle=!0:C.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),v.f=v.inline=Je,b.linkHref+" url")}var I={startState:function(){return{f:we,prevLine:{stream:null},thisLine:{stream:null},block:we,htmlState:null,indentation:0,inline:Je,text:Ve,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(C){return{f:C.f,prevLine:C.prevLine,thisLine:C.thisLine,block:C.block,htmlState:C.htmlState&&t.copyState(c,C.htmlState),indentation:C.indentation,localMode:C.localMode,localState:C.localMode?t.copyState(C.localMode,C.localState):null,inline:C.inline,text:C.text,formatting:!1,linkText:C.linkText,linkTitle:C.linkTitle,linkHref:C.linkHref,code:C.code,em:C.em,strong:C.strong,strikethrough:C.strikethrough,emoji:C.emoji,header:C.header,setext:C.setext,hr:C.hr,taskList:C.taskList,list:C.list,listStack:C.listStack.slice(0),quote:C.quote,indentedCode:C.indentedCode,trailingSpace:C.trailingSpace,trailingSpaceNewLine:C.trailingSpaceNewLine,md_inside:C.md_inside,fencedEndRE:C.fencedEndRE}},token:function(C,v){if(v.formatting=!1,C!=v.thisLine.stream){if(v.header=0,v.hr=!1,C.match(/^\s*$/,!0))return de(v),null;if(v.prevLine=v.thisLine,v.thisLine={stream:C},v.taskList=!1,v.trailingSpace=0,v.trailingSpaceNewLine=!1,!v.localState&&(v.f=v.block,v.f!=Me)){var R=C.match(/^\s*/,!0)[0].replace(/\t/g,te).length;if(v.indentation=R,v.indentationDiff=null,R>0)return null}}return v.f(C,v)},innerMode:function(C){return C.block==Me?{state:C.htmlState,mode:c}:C.localState?{state:C.localState,mode:C.localMode}:{state:C,mode:I}},indent:function(C,v,R){return C.block==Me&&c.indent?c.indent(C.htmlState,v,R):C.localState&&C.localMode.indent?C.localMode.indent(C.localState,v,R):t.Pass},blankLine:de,getType:Ee,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return I},"xml"),t.defineMIME("text/markdown","markdown"),t.defineMIME("text/x-markdown","markdown")})}()),kp.exports}var Mp={exports:{}},Fp;function Tm(){return Fp||(Fp=1,function(i,e){(function(t){t(ci())})(function(t){t.overlayMode=function(a,s,c){return{startState:function(){return{base:t.startState(a),overlay:t.startState(s),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(h){return{base:t.copyState(a,h.base),overlay:t.copyState(s,h.overlay),basePos:h.basePos,baseCur:null,overlayPos:h.overlayPos,overlayCur:null}},token:function(h,g){return(h!=g.streamSeen||Math.min(g.basePos,g.overlayPos)<h.start)&&(g.streamSeen=h,g.basePos=g.overlayPos=h.start),h.start==g.basePos&&(g.baseCur=a.token(h,g.base),g.basePos=h.pos),h.start==g.overlayPos&&(h.pos=h.start,g.overlayCur=s.token(h,g.overlay),g.overlayPos=h.pos),h.pos=Math.min(g.basePos,g.overlayPos),g.overlayCur==null?g.baseCur:g.baseCur!=null&&g.overlay.combineTokens||c&&g.overlay.combineTokens==null?g.baseCur+" "+g.overlayCur:g.overlayCur},indent:a.indent&&function(h,g,b){return a.indent(h.base,g,b)},electricChars:a.electricChars,innerMode:function(h){return{state:h.base,mode:a}},blankLine:function(h){var g,b;return a.blankLine&&(g=a.blankLine(h.base)),s.blankLine&&(b=s.blankLine(h.overlay)),b==null?g:c&&g!=null?g+" "+b:b}}}})}()),Mp.exports}var _p={exports:{}},Rp;function Ky(){return Rp||(Rp=1,function(i,e){(function(t){t(ci())})(function(t){t.defineOption("placeholder","",function(D,L,N){var W=N&&N!=t.Init;if(L&&!W)D.on("blur",h),D.on("change",g),D.on("swapDoc",g),t.on(D.getInputField(),"compositionupdate",D.state.placeholderCompose=function(){c(D)}),g(D);else if(!L&&W){D.off("blur",h),D.off("change",g),D.off("swapDoc",g),t.off(D.getInputField(),"compositionupdate",D.state.placeholderCompose),a(D);var fe=D.getWrapperElement();fe.className=fe.className.replace(" CodeMirror-empty","")}L&&!D.hasFocus()&&h(D)});function a(D){D.state.placeholder&&(D.state.placeholder.parentNode.removeChild(D.state.placeholder),D.state.placeholder=null)}function s(D){a(D);var L=D.state.placeholder=document.createElement("pre");L.style.cssText="height: 0; overflow: visible",L.style.direction=D.getOption("direction"),L.className="CodeMirror-placeholder CodeMirror-line-like";var N=D.getOption("placeholder");typeof N=="string"&&(N=document.createTextNode(N)),L.appendChild(N),D.display.lineSpace.insertBefore(L,D.display.lineSpace.firstChild)}function c(D){setTimeout(function(){var L=!1;if(D.lineCount()==1){var N=D.getInputField();L=N.nodeName=="TEXTAREA"?!D.getLine(0).length:!/[^\u200b]/.test(N.querySelector(".CodeMirror-line").textContent)}L?s(D):a(D)},20)}function h(D){b(D)&&s(D)}function g(D){var L=D.getWrapperElement(),N=b(D);L.className=L.className.replace(" CodeMirror-empty","")+(N?" CodeMirror-empty":""),N?s(D):a(D)}function b(D){return D.lineCount()===1&&D.getLine(0)===""}})}()),_p.exports}var Op={exports:{}},Np;function Xy(){return Np||(Np=1,function(i,e){(function(t){t(ci())})(function(t){t.defineOption("autoRefresh",!1,function(c,h){c.state.autoRefresh&&(s(c,c.state.autoRefresh),c.state.autoRefresh=null),h&&c.display.wrapper.offsetHeight==0&&a(c,c.state.autoRefresh={delay:h.delay||250})});function a(c,h){function g(){c.display.wrapper.offsetHeight?(s(c,h),c.display.lastWrapHeight!=c.display.wrapper.clientHeight&&c.refresh()):h.timeout=setTimeout(g,h.delay)}h.timeout=setTimeout(g,h.delay),h.hurry=function(){clearTimeout(h.timeout),h.timeout=setTimeout(g,50)},t.on(window,"mouseup",h.hurry),t.on(window,"keyup",h.hurry)}function s(c,h){clearTimeout(h.timeout),t.off(window,"mouseup",h.hurry),t.off(window,"keyup",h.hurry)}})}()),Op.exports}var Ip={exports:{}},Pp;function Jy(){return Pp||(Pp=1,function(i,e){(function(t){t(ci())})(function(t){t.defineOption("styleSelectedText",!1,function(W,fe,Q){var ue=Q&&Q!=t.Init;fe&&!ue?(W.state.markedSelection=[],W.state.markedSelectionStyle=typeof fe=="string"?fe:"CodeMirror-selectedtext",L(W),W.on("cursorActivity",a),W.on("change",s)):!fe&&ue&&(W.off("cursorActivity",a),W.off("change",s),D(W),W.state.markedSelection=W.state.markedSelectionStyle=null)});function a(W){W.state.markedSelection&&W.operation(function(){N(W)})}function s(W){W.state.markedSelection&&W.state.markedSelection.length&&W.operation(function(){D(W)})}var c=8,h=t.Pos,g=t.cmpPos;function b(W,fe,Q,ue){if(g(fe,Q)!=0)for(var ce=W.state.markedSelection,ge=W.state.markedSelectionStyle,Z=fe.line;;){var te=Z==fe.line?fe:h(Z,0),ee=Z+c,ie=ee>=Q.line,ve=ie?Q:h(ee,0),de=W.markText(te,ve,{className:ge});if(ue==null?ce.push(de):ce.splice(ue++,0,de),ie)break;Z=ee}}function D(W){for(var fe=W.state.markedSelection,Q=0;Q<fe.length;++Q)fe[Q].clear();fe.length=0}function L(W){D(W);for(var fe=W.listSelections(),Q=0;Q<fe.length;Q++)b(W,fe[Q].from(),fe[Q].to())}function N(W){if(!W.somethingSelected())return D(W);if(W.listSelections().length>1)return L(W);var fe=W.getCursor("start"),Q=W.getCursor("end"),ue=W.state.markedSelection;if(!ue.length)return b(W,fe,Q);var ce=ue[0].find(),ge=ue[ue.length-1].find();if(!ce||!ge||Q.line-fe.line<=c||g(fe,ge.to)>=0||g(Q,ce.from)<=0)return L(W);for(;g(fe,ce.from)>0;)ue.shift().clear(),ce=ue[0].find();for(g(fe,ce.from)<0&&(ce.to.line-fe.line<c?(ue.shift().clear(),b(W,fe,ce.to,0)):b(W,fe,ce.from,0));g(Q,ge.to)<0;)ue.pop().clear(),ge=ue[ue.length-1].find();g(Q,ge.to)>0&&(Q.line-ge.from.line<c?(ue.pop().clear(),b(W,ge.from,Q)):b(W,ge.to,Q))}})}()),Ip.exports}var Bp={exports:{}},Hp;function Zy(){return Hp||(Hp=1,function(i,e){(function(t){t(ci())})(function(t){var a=t.Pos;function s(Z){var te=Z.flags;return te??(Z.ignoreCase?"i":"")+(Z.global?"g":"")+(Z.multiline?"m":"")}function c(Z,te){for(var ee=s(Z),ie=ee,ve=0;ve<te.length;ve++)ie.indexOf(te.charAt(ve))==-1&&(ie+=te.charAt(ve));return ee==ie?Z:new RegExp(Z.source,ie)}function h(Z){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(Z.source)}function g(Z,te,ee){te=c(te,"g");for(var ie=ee.line,ve=ee.ch,de=Z.lastLine();ie<=de;ie++,ve=0){te.lastIndex=ve;var we=Z.getLine(ie),Me=te.exec(we);if(Me)return{from:a(ie,Me.index),to:a(ie,Me.index+Me[0].length),match:Me}}}function b(Z,te,ee){if(!h(te))return g(Z,te,ee);te=c(te,"gm");for(var ie,ve=1,de=ee.line,we=Z.lastLine();de<=we;){for(var Me=0;Me<ve&&!(de>we);Me++){var ot=Z.getLine(de++);ie=ie==null?ot:ie+`
`+ot}ve=ve*2,te.lastIndex=ee.ch;var Ee=te.exec(ie);if(Ee){var Ve=ie.slice(0,Ee.index).split(`
`),Je=Ee[0].split(`
`),it=ee.line+Ve.length-1,G=Ve[Ve.length-1].length;return{from:a(it,G),to:a(it+Je.length-1,Je.length==1?G+Je[0].length:Je[Je.length-1].length),match:Ee}}}}function D(Z,te,ee){for(var ie,ve=0;ve<=Z.length;){te.lastIndex=ve;var de=te.exec(Z);if(!de)break;var we=de.index+de[0].length;if(we>Z.length-ee)break;(!ie||we>ie.index+ie[0].length)&&(ie=de),ve=de.index+1}return ie}function L(Z,te,ee){te=c(te,"g");for(var ie=ee.line,ve=ee.ch,de=Z.firstLine();ie>=de;ie--,ve=-1){var we=Z.getLine(ie),Me=D(we,te,ve<0?0:we.length-ve);if(Me)return{from:a(ie,Me.index),to:a(ie,Me.index+Me[0].length),match:Me}}}function N(Z,te,ee){if(!h(te))return L(Z,te,ee);te=c(te,"gm");for(var ie,ve=1,de=Z.getLine(ee.line).length-ee.ch,we=ee.line,Me=Z.firstLine();we>=Me;){for(var ot=0;ot<ve&&we>=Me;ot++){var Ee=Z.getLine(we--);ie=ie==null?Ee:Ee+`
`+ie}ve*=2;var Ve=D(ie,te,de);if(Ve){var Je=ie.slice(0,Ve.index).split(`
`),it=Ve[0].split(`
`),G=we+Je.length,le=Je[Je.length-1].length;return{from:a(G,le),to:a(G+it.length-1,it.length==1?le+it[0].length:it[it.length-1].length),match:Ve}}}}var W,fe;String.prototype.normalize?(W=function(Z){return Z.normalize("NFD").toLowerCase()},fe=function(Z){return Z.normalize("NFD")}):(W=function(Z){return Z.toLowerCase()},fe=function(Z){return Z});function Q(Z,te,ee,ie){if(Z.length==te.length)return ee;for(var ve=0,de=ee+Math.max(0,Z.length-te.length);;){if(ve==de)return ve;var we=ve+de>>1,Me=ie(Z.slice(0,we)).length;if(Me==ee)return we;Me>ee?de=we:ve=we+1}}function ue(Z,te,ee,ie){if(!te.length)return null;var ve=ie?W:fe,de=ve(te).split(/\r|\n\r?/);e:for(var we=ee.line,Me=ee.ch,ot=Z.lastLine()+1-de.length;we<=ot;we++,Me=0){var Ee=Z.getLine(we).slice(Me),Ve=ve(Ee);if(de.length==1){var Je=Ve.indexOf(de[0]);if(Je==-1)continue e;var ee=Q(Ee,Ve,Je,ve)+Me;return{from:a(we,Q(Ee,Ve,Je,ve)+Me),to:a(we,Q(Ee,Ve,Je+de[0].length,ve)+Me)}}else{var it=Ve.length-de[0].length;if(Ve.slice(it)!=de[0])continue e;for(var G=1;G<de.length-1;G++)if(ve(Z.getLine(we+G))!=de[G])continue e;var le=Z.getLine(we+de.length-1),M=ve(le),k=de[de.length-1];if(M.slice(0,k.length)!=k)continue e;return{from:a(we,Q(Ee,Ve,it,ve)+Me),to:a(we+de.length-1,Q(le,M,k.length,ve))}}}}function ce(Z,te,ee,ie){if(!te.length)return null;var ve=ie?W:fe,de=ve(te).split(/\r|\n\r?/);e:for(var we=ee.line,Me=ee.ch,ot=Z.firstLine()-1+de.length;we>=ot;we--,Me=-1){var Ee=Z.getLine(we);Me>-1&&(Ee=Ee.slice(0,Me));var Ve=ve(Ee);if(de.length==1){var Je=Ve.lastIndexOf(de[0]);if(Je==-1)continue e;return{from:a(we,Q(Ee,Ve,Je,ve)),to:a(we,Q(Ee,Ve,Je+de[0].length,ve))}}else{var it=de[de.length-1];if(Ve.slice(0,it.length)!=it)continue e;for(var G=1,ee=we-de.length+1;G<de.length-1;G++)if(ve(Z.getLine(ee+G))!=de[G])continue e;var le=Z.getLine(we+1-de.length),M=ve(le);if(M.slice(M.length-de[0].length)!=de[0])continue e;return{from:a(we+1-de.length,Q(le,M,le.length-de[0].length,ve)),to:a(we,Q(Ee,Ve,it.length,ve))}}}}function ge(Z,te,ee,ie){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=Z,ee=ee?Z.clipPos(ee):a(0,0),this.pos={from:ee,to:ee};var ve;typeof ie=="object"?ve=ie.caseFold:(ve=ie,ie=null),typeof te=="string"?(ve==null&&(ve=!1),this.matches=function(de,we){return(de?ce:ue)(Z,te,we,ve)}):(te=c(te,"gm"),!ie||ie.multiline!==!1?this.matches=function(de,we){return(de?N:b)(Z,te,we)}:this.matches=function(de,we){return(de?L:g)(Z,te,we)})}ge.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(Z){var te=this.doc.clipPos(Z?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(te=a(te.line,te.ch),Z?(te.ch--,te.ch<0&&(te.line--,te.ch=(this.doc.getLine(te.line)||"").length)):(te.ch++,te.ch>(this.doc.getLine(te.line)||"").length&&(te.ch=0,te.line++)),t.cmpPos(te,this.doc.clipPos(te))!=0))return this.atOccurrence=!1;var ee=this.matches(Z,te);if(this.afterEmptyMatch=ee&&t.cmpPos(ee.from,ee.to)==0,ee)return this.pos=ee,this.atOccurrence=!0,this.pos.match||!0;var ie=a(Z?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:ie,to:ie},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(Z,te){if(this.atOccurrence){var ee=t.splitLines(Z);this.doc.replaceRange(ee,this.pos.from,this.pos.to,te),this.pos.to=a(this.pos.from.line+ee.length-1,ee[ee.length-1].length+(ee.length==1?this.pos.from.ch:0))}}},t.defineExtension("getSearchCursor",function(Z,te,ee){return new ge(this.doc,Z,te,ee)}),t.defineDocExtension("getSearchCursor",function(Z,te,ee){return new ge(this,Z,te,ee)}),t.defineExtension("selectMatches",function(Z,te){for(var ee=[],ie=this.getSearchCursor(Z,this.getCursor("from"),te);ie.findNext()&&!(t.cmpPos(ie.to(),this.getCursor("to"))>0);)ee.push({anchor:ie.from(),head:ie.to()});ee.length&&this.setSelections(ee,0)})})}()),Bp.exports}var Wp={exports:{}},zp;function Qy(){return zp||(zp=1,function(i,e){(function(t){t(ci(),Em(),Tm())})(function(t){var a=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;t.defineMode("gfm",function(s,c){var h=0;function g(N){return N.code=!1,null}var b={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(N){return{code:N.code,codeBlock:N.codeBlock,ateSpace:N.ateSpace}},token:function(N,W){if(W.combineTokens=null,W.codeBlock)return N.match(/^```+/)?(W.codeBlock=!1,null):(N.skipToEnd(),null);if(N.sol()&&(W.code=!1),N.sol()&&N.match(/^```+/))return N.skipToEnd(),W.codeBlock=!0,null;if(N.peek()==="`"){N.next();var fe=N.pos;N.eatWhile("`");var Q=1+N.pos-fe;return W.code?Q===h&&(W.code=!1):(h=Q,W.code=!0),null}else if(W.code)return N.next(),null;if(N.eatSpace())return W.ateSpace=!0,null;if((N.sol()||W.ateSpace)&&(W.ateSpace=!1,c.gitHubSpice!==!1)){if(N.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return W.combineTokens=!0,"link";if(N.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return W.combineTokens=!0,"link"}return N.match(a)&&N.string.slice(N.start-2,N.start)!="]("&&(N.start==0||/\W/.test(N.string.charAt(N.start-1)))?(W.combineTokens=!0,"link"):(N.next(),null)},blankLine:g},D={taskLists:!0,strikethrough:!0,emoji:!0};for(var L in c)D[L]=c[L];return D.name="markdown",t.overlayMode(t.getMode(s,D),b)},"markdown"),t.defineMIME("text/x-gfm","gfm")})}()),Wp.exports}function ex(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var oc={exports:{}};const tx={},nx=Object.freeze(Object.defineProperty({__proto__:null,default:tx},Symbol.toStringTag,{value:"Module"})),ix=Am(nx);var Up;function rx(){return Up||(Up=1,function(i){var e;(function(){e=function(t,a,s,c){c=c||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=c.flags||{},this.memoized={},this.loaded=!1;var h=this,g,b,D,L,N;if(t)if(h.dictionary=t,a&&s)ce();else if(typeof window<"u"&&(window.chrome||window.browser)){var W=window.chrome&&window.chrome.runtime?window.chrome.runtime:browser.runtime;c.dictionaryPath?g=c.dictionaryPath:g="typo/dictionaries",a||fe(W.getURL(g+"/"+t+"/"+t+".aff"),Q),s||fe(W.getURL(g+"/"+t+"/"+t+".dic"),ue)}else c.dictionaryPath?g=c.dictionaryPath:typeof __dirname<"u"?g=__dirname+"/dictionaries":g="./dictionaries",a||fe(g+"/"+t+"/"+t+".aff",Q),s||fe(g+"/"+t+"/"+t+".dic",ue);function fe(ge,Z){var te=h._readFile(ge,null,c==null?void 0:c.asyncLoad);c!=null&&c.asyncLoad?te.then(function(ee){Z(ee)}):Z(te)}function Q(ge){a=ge,s&&ce()}function ue(ge){s=ge,a&&ce()}function ce(){for(h.rules=h._parseAFF(a),h.compoundRuleCodes={},b=0,L=h.compoundRules.length;b<L;b++){var ge=h.compoundRules[b];for(D=0,N=ge.length;D<N;D++)h.compoundRuleCodes[ge[D]]=[]}"ONLYINCOMPOUND"in h.flags&&(h.compoundRuleCodes[h.flags.ONLYINCOMPOUND]=[]),h.dictionaryTable=h._parseDIC(s);for(b in h.compoundRuleCodes)h.compoundRuleCodes[b].length===0&&delete h.compoundRuleCodes[b];for(b=0,L=h.compoundRules.length;b<L;b++){var Z=h.compoundRules[b],te="";for(D=0,N=Z.length;D<N;D++){var ee=Z[D];ee in h.compoundRuleCodes?te+="("+h.compoundRuleCodes[ee].join("|")+")":te+=ee}h.compoundRules[b]=new RegExp("^"+te+"$","i")}h.loaded=!0,c!=null&&c.asyncLoad&&(c!=null&&c.loadedCallback)&&c.loadedCallback(h)}return this},e.prototype={load:function(t){for(var a in t)t.hasOwnProperty(a)&&(this[a]=t[a]);return this},_readFile:function(t,a,s){var c;if(a=a||"utf8",typeof XMLHttpRequest<"u"){var h=new XMLHttpRequest;if(h.open("GET",t,!!s),(c=h.overrideMimeType)===null||c===void 0||c.call(h,"text/plain; charset="+a),s){var g=new Promise(function(D,L){h.onload=function(){h.status===200?D(h.responseText):L(h.statusText)},h.onerror=function(){L(h.statusText)}});return h.send(null),g}else return h.send(null),h.responseText}else if(typeof ex<"u"){var b=ix;try{if(b.existsSync(t))return b.readFileSync(t,a);console.log("Path "+t+" does not exist.")}catch(D){console.log(D)}return""}return""},_parseAFF:function(t){var a={},s,c,h,g,b,D,L,N,W=t.split(/\r?\n/);for(b=0,L=W.length;b<L;b++)if(s=this._removeAffixComments(W[b]),s=s.trim(),!!s){var fe=s.split(/\s+/),Q=fe[0];if(Q==="PFX"||Q==="SFX"){var ue=fe[1],ce=fe[2];h=parseInt(fe[3],10);var ge=[];for(D=b+1,N=b+1+h;D<N;D++){c=W[D],g=c.split(/\s+/);var Z=g[2],te=g[3].split("/"),ee=te[0];ee==="0"&&(ee="");var ie=this.parseRuleCodes(te[1]),ve=g[4],de={add:ee};ie.length>0&&(de.continuationClasses=ie),ve!=="."&&(Q==="SFX"?de.match=new RegExp(ve+"$"):de.match=new RegExp("^"+ve)),Z!="0"&&(Q==="SFX"?de.remove=new RegExp(Z+"$"):de.remove=Z),ge.push(de)}a[ue]={type:Q,combineable:ce==="Y",entries:ge},b+=h}else if(Q==="COMPOUNDRULE"){for(h=parseInt(fe[1],10),D=b+1,N=b+1+h;D<N;D++)s=W[D],g=s.split(/\s+/),this.compoundRules.push(g[1]);b+=h}else Q==="REP"?(g=s.split(/\s+/),g.length===3&&this.replacementTable.push([g[1],g[2]])):this.flags[Q]=fe[1]}return a},_removeAffixComments:function(t){return t.match(/^\s*#/)?"":t},_parseDIC:function(t){t=this._removeDicComments(t);var a=t.split(/\r?\n/),s={};function c(Ee,Ve){s.hasOwnProperty(Ee)||(s[Ee]=null),Ve.length>0&&(s[Ee]===null&&(s[Ee]=[]),s[Ee].push(Ve))}for(var h=1,g=a.length;h<g;h++){var b=a[h];if(b){var D=b.split("/",2),L=D[0];if(D.length>1){var N=this.parseRuleCodes(D[1]);(!("NEEDAFFIX"in this.flags)||N.indexOf(this.flags.NEEDAFFIX)===-1)&&c(L,N);for(var W=0,fe=N.length;W<fe;W++){var Q=N[W],ue=this.rules[Q];if(ue)for(var ce=this._applyRule(L,ue),ge=0,Z=ce.length;ge<Z;ge++){var te=ce[ge];if(c(te,[]),ue.combineable)for(var ee=W+1;ee<fe;ee++){var ie=N[ee],ve=this.rules[ie];if(ve&&ve.combineable&&ue.type!=ve.type)for(var de=this._applyRule(te,ve),we=0,Me=de.length;we<Me;we++){var ot=de[we];c(ot,[])}}}Q in this.compoundRuleCodes&&this.compoundRuleCodes[Q].push(L)}}else c(L.trim(),[])}}return s},_removeDicComments:function(t){return t=t.replace(/^\t.*$/mg,""),t},parseRuleCodes:function(t){if(t)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var a=[],s=0,c=t.length;s<c;s+=2)a.push(t.substr(s,2));return a}else return this.flags.FLAG==="num"?t.split(","):this.flags.FLAG==="UTF-8"?Array.from(t):t.split("");else return t.split("");else return[]},_applyRule:function(t,a){for(var s=a.entries,c=[],h=0,g=s.length;h<g;h++){var b=s[h];if(!b.match||t.match(b.match)){var D=t;if(b.remove&&(D=D.replace(b.remove,"")),a.type==="SFX"?D=D+b.add:D=b.add+D,c.push(D),"continuationClasses"in b)for(var L=0,N=b.continuationClasses.length;L<N;L++){var W=this.rules[b.continuationClasses[L]];W&&(c=c.concat(this._applyRule(D,W)))}}}return c},check:function(t){if(!this.loaded)throw"Dictionary not loaded.";if(!t)return!1;var a=t.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(a))return!0;if(a.toUpperCase()===a){var s=a[0]+a.substring(1).toLowerCase();if(this.hasFlag(s,"KEEPCASE"))return!1;if(this.checkExact(s)||this.checkExact(a.toLowerCase()))return!0}var c=a[0].toLowerCase()+a.substring(1);if(c!==a){if(this.hasFlag(c,"KEEPCASE"))return!1;if(this.checkExact(c))return!0}return!1},checkExact:function(t){if(!this.loaded)throw"Dictionary not loaded.";var a=this.dictionaryTable[t],s,c;if(typeof a>"u"){if("COMPOUNDMIN"in this.flags&&t.length>=this.flags.COMPOUNDMIN){for(s=0,c=this.compoundRules.length;s<c;s++)if(t.match(this.compoundRules[s]))return!0}}else{if(a===null)return!0;if(typeof a=="object"){for(s=0,c=a.length;s<c;s++)if(!this.hasFlag(t,"ONLYINCOMPOUND",a[s]))return!0}}return!1},hasFlag:function(t,a,s){if(!this.loaded)throw"Dictionary not loaded.";return!!(a in this.flags&&(typeof s>"u"&&(s=Array.prototype.concat.apply([],this.dictionaryTable[t])),s&&s.indexOf(this.flags[a])!==-1))},alphabet:"",suggest:function(t,a){if(!this.loaded)throw"Dictionary not loaded.";if(a=a||5,this.memoized.hasOwnProperty(t)){var s=this.memoized[t].limit;if(a<=s||this.memoized[t].suggestions.length<s)return this.memoized[t].suggestions.slice(0,a)}if(this.check(t))return[];for(var c=0,h=this.replacementTable.length;c<h;c++){var g=this.replacementTable[c];if(t.indexOf(g[0])!==-1){var b=t.replace(g[0],g[1]);if(this.check(b))return[b]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var D=this.alphabet.split("");D.sort();for(var L={},c=0;c<D.length;c++)L[D[c]]=!0;this.alphabet="";for(var c in L)this.alphabet+=c}var N=this;function W(Q,ue){var ce={},ge,Z,te,ee,ie=N.alphabet.length;for(var ve in Q)for(ge=0,te=ve.length+1;ge<te;ge++){var de=[ve.substring(0,ge),ve.substring(ge)];if(de[1]&&(ee=de[0]+de[1].substring(1),(!ue||N.check(ee))&&(ee in ce?ce[ee]+=1:ce[ee]=1)),de[1].length>1&&de[1][1]!==de[1][0]&&(ee=de[0]+de[1][1]+de[1][0]+de[1].substring(2),(!ue||N.check(ee))&&(ee in ce?ce[ee]+=1:ce[ee]=1)),de[1]){var we=de[1].substring(0,1).toUpperCase()===de[1].substring(0,1)?"uppercase":"lowercase";for(Z=0;Z<ie;Z++){var Me=N.alphabet[Z];we==="uppercase"&&(Me=Me.toUpperCase()),Me!=de[1].substring(0,1)&&(ee=de[0]+Me+de[1].substring(1),(!ue||N.check(ee))&&(ee in ce?ce[ee]+=1:ce[ee]=1))}}if(de[1])for(Z=0;Z<ie;Z++){var we=de[0].substring(-1).toUpperCase()===de[0].substring(-1)&&de[1].substring(0,1).toUpperCase()===de[1].substring(0,1)?"uppercase":"lowercase",Me=N.alphabet[Z];we==="uppercase"&&(Me=Me.toUpperCase()),ee=de[0]+Me+de[1],(!ue||N.check(ee))&&(ee in ce?ce[ee]+=1:ce[ee]=1)}}return ce}function fe(Q){var ue,ce=W((ue={},ue[Q]=!0,ue)),ge=W(ce,!0),Z=ge;for(var te in ce)N.check(te)&&(te in Z?Z[te]+=ce[te]:Z[te]=ce[te]);var ee,ie=[];for(ee in Z)Z.hasOwnProperty(ee)&&ie.push([ee,Z[ee]]);function ve(ot,Ee){var Ve=ot[1],Je=Ee[1];return Ve<Je?-1:Ve>Je?1:Ee[0].localeCompare(ot[0])}ie.sort(ve).reverse();var de=[],we="lowercase";Q.toUpperCase()===Q?we="uppercase":Q.substr(0,1).toUpperCase()+Q.substr(1).toLowerCase()===Q&&(we="capitalized");var Me=a;for(ee=0;ee<Math.min(Me,ie.length);ee++)we==="uppercase"?ie[ee][0]=ie[ee][0].toUpperCase():we==="capitalized"&&(ie[ee][0]=ie[ee][0].substr(0,1).toUpperCase()+ie[ee][0].substr(1)),!N.hasFlag(ie[ee][0],"NOSUGGEST")&&de.indexOf(ie[ee][0])===-1?de.push(ie[ee][0]):Me++;return de}return this.memoized[t]={suggestions:fe(t),limit:a},this.memoized[t].suggestions}}})(),i.exports=e}(oc)),oc.exports}var sc,Yp;function ax(){if(Yp)return sc;Yp=1;var i=rx();function e(t){if(t=t||{},typeof t.codeMirrorInstance!="function"||typeof t.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),t.codeMirrorInstance.defineMode("spell-checker",function(a){if(!e.aff_loading){e.aff_loading=!0;var s=new XMLHttpRequest;s.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),s.onload=function(){s.readyState===4&&s.status===200&&(e.aff_data=s.responseText,e.num_loaded++,e.num_loaded==2&&(e.typo=new i("en_US",e.aff_data,e.dic_data,{platform:"any"})))},s.send(null)}if(!e.dic_loading){e.dic_loading=!0;var c=new XMLHttpRequest;c.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),c.onload=function(){c.readyState===4&&c.status===200&&(e.dic_data=c.responseText,e.num_loaded++,e.num_loaded==2&&(e.typo=new i("en_US",e.aff_data,e.dic_data,{platform:"any"})))},c.send(null)}var h='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',g={token:function(D){var L=D.peek(),N="";if(h.includes(L))return D.next(),null;for(;(L=D.peek())!=null&&!h.includes(L);)N+=L,D.next();return e.typo&&!e.typo.check(N)?"spell-error":null}},b=t.codeMirrorInstance.getMode(a,a.backdrop||"text/plain");return t.codeMirrorInstance.overlayMode(b,g,!0)})}return e.num_loaded=0,e.aff_loading=!1,e.dic_loading=!1,e.aff_data="",e.dic_data="",e.typo,sc=e,sc}var lc={},jp;function ox(){return jp||(jp=1,function(i){function e(oe,se){for(var K=0;K<se.length;K++){var S=se[K];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(oe,b(S.key),S)}}function t(oe,se,K){return K&&e(oe,K),Object.defineProperty(oe,"prototype",{writable:!1}),oe}function a(){return a=Object.assign?Object.assign.bind():function(oe){for(var se=1;se<arguments.length;se++){var K=arguments[se];for(var S in K)Object.prototype.hasOwnProperty.call(K,S)&&(oe[S]=K[S])}return oe},a.apply(this,arguments)}function s(oe,se){if(oe){if(typeof oe=="string")return c(oe,se);var K=Object.prototype.toString.call(oe).slice(8,-1);if(K==="Object"&&oe.constructor&&(K=oe.constructor.name),K==="Map"||K==="Set")return Array.from(oe);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return c(oe,se)}}function c(oe,se){(se==null||se>oe.length)&&(se=oe.length);for(var K=0,S=new Array(se);K<se;K++)S[K]=oe[K];return S}function h(oe,se){var K=typeof Symbol<"u"&&oe[Symbol.iterator]||oe["@@iterator"];if(K)return(K=K.call(oe)).next.bind(K);if(Array.isArray(oe)||(K=s(oe))||se){K&&(oe=K);var S=0;return function(){return S>=oe.length?{done:!0}:{done:!1,value:oe[S++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(oe,se){if(typeof oe!="object"||oe===null)return oe;var K=oe[Symbol.toPrimitive];if(K!==void 0){var S=K.call(oe,se);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(oe)}function b(oe){var se=g(oe,"string");return typeof se=="symbol"?se:String(se)}function D(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}i.defaults=D();function L(oe){i.defaults=oe}var N=/[&<>"']/,W=new RegExp(N.source,"g"),fe=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Q=new RegExp(fe.source,"g"),ue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ce=function(se){return ue[se]};function ge(oe,se){if(se){if(N.test(oe))return oe.replace(W,ce)}else if(fe.test(oe))return oe.replace(Q,ce);return oe}var Z=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function te(oe){return oe.replace(Z,function(se,K){return K=K.toLowerCase(),K==="colon"?":":K.charAt(0)==="#"?K.charAt(1)==="x"?String.fromCharCode(parseInt(K.substring(2),16)):String.fromCharCode(+K.substring(1)):""})}var ee=/(^|[^\[])\^/g;function ie(oe,se){oe=typeof oe=="string"?oe:oe.source,se=se||"";var K={replace:function(A,U){return U=U.source||U,U=U.replace(ee,"$1"),oe=oe.replace(A,U),K},getRegex:function(){return new RegExp(oe,se)}};return K}var ve=/[^\w:]/g,de=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function we(oe,se,K){if(oe){var S;try{S=decodeURIComponent(te(K)).replace(ve,"").toLowerCase()}catch{return null}if(S.indexOf("javascript:")===0||S.indexOf("vbscript:")===0||S.indexOf("data:")===0)return null}se&&!de.test(K)&&(K=Je(se,K));try{K=encodeURI(K).replace(/%25/g,"%")}catch{return null}return K}var Me={},ot=/^[^:]+:\/*[^/]*$/,Ee=/^([^:]+:)[\s\S]*$/,Ve=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Je(oe,se){Me[" "+oe]||(ot.test(oe)?Me[" "+oe]=oe+"/":Me[" "+oe]=le(oe,"/",!0)),oe=Me[" "+oe];var K=oe.indexOf(":")===-1;return se.substring(0,2)==="//"?K?se:oe.replace(Ee,"$1")+se:se.charAt(0)==="/"?K?se:oe.replace(Ve,"$1")+se:oe+se}var it={exec:function(){}};function G(oe,se){var K=oe.replace(/\|/g,function(U,p,x){for(var _=!1,B=p;--B>=0&&x[B]==="\\";)_=!_;return _?"|":" |"}),S=K.split(/ \|/),A=0;if(S[0].trim()||S.shift(),S.length>0&&!S[S.length-1].trim()&&S.pop(),S.length>se)S.splice(se);else for(;S.length<se;)S.push("");for(;A<S.length;A++)S[A]=S[A].trim().replace(/\\\|/g,"|");return S}function le(oe,se,K){var S=oe.length;if(S===0)return"";for(var A=0;A<S;){var U=oe.charAt(S-A-1);if(U===se&&!K)A++;else if(U!==se&&K)A++;else break}return oe.slice(0,S-A)}function M(oe,se){if(oe.indexOf(se[1])===-1)return-1;for(var K=oe.length,S=0,A=0;A<K;A++)if(oe[A]==="\\")A++;else if(oe[A]===se[0])S++;else if(oe[A]===se[1]&&(S--,S<0))return A;return-1}function k(oe){oe&&oe.sanitize&&!oe.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function E(oe,se){if(se<1)return"";for(var K="";se>1;)se&1&&(K+=oe),se>>=1,oe+=oe;return K+oe}function j(oe,se,K,S){var A=se.href,U=se.title?ge(se.title):null,p=oe[1].replace(/\\([\[\]])/g,"$1");if(oe[0].charAt(0)!=="!"){S.state.inLink=!0;var x={type:"link",raw:K,href:A,title:U,text:p,tokens:S.inlineTokens(p)};return S.state.inLink=!1,x}return{type:"image",raw:K,href:A,title:U,text:ge(p)}}function I(oe,se){var K=oe.match(/^(\s+)(?:```)/);if(K===null)return se;var S=K[1];return se.split(`
`).map(function(A){var U=A.match(/^\s+/);if(U===null)return A;var p=U[0];return p.length>=S.length?A.slice(S.length):A}).join(`
`)}var C=function(){function oe(K){this.options=K||i.defaults}var se=oe.prototype;return se.space=function(S){var A=this.rules.block.newline.exec(S);if(A&&A[0].length>0)return{type:"space",raw:A[0]}},se.code=function(S){var A=this.rules.block.code.exec(S);if(A){var U=A[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:A[0],codeBlockStyle:"indented",text:this.options.pedantic?U:le(U,`
`)}}},se.fences=function(S){var A=this.rules.block.fences.exec(S);if(A){var U=A[0],p=I(U,A[3]||"");return{type:"code",raw:U,lang:A[2]?A[2].trim().replace(this.rules.inline._escapes,"$1"):A[2],text:p}}},se.heading=function(S){var A=this.rules.block.heading.exec(S);if(A){var U=A[2].trim();if(/#$/.test(U)){var p=le(U,"#");(this.options.pedantic||!p||/ $/.test(p))&&(U=p.trim())}return{type:"heading",raw:A[0],depth:A[1].length,text:U,tokens:this.lexer.inline(U)}}},se.hr=function(S){var A=this.rules.block.hr.exec(S);if(A)return{type:"hr",raw:A[0]}},se.blockquote=function(S){var A=this.rules.block.blockquote.exec(S);if(A){var U=A[0].replace(/^ *>[ \t]?/gm,""),p=this.lexer.state.top;this.lexer.state.top=!0;var x=this.lexer.blockTokens(U);return this.lexer.state.top=p,{type:"blockquote",raw:A[0],tokens:x,text:U}}},se.list=function(S){var A=this.rules.block.list.exec(S);if(A){var U,p,x,_,B,z,X,V,H,ne,$,ke,_e=A[1].trim(),Be=_e.length>1,Se={type:"list",raw:"",ordered:Be,start:Be?+_e.slice(0,-1):"",loose:!1,items:[]};_e=Be?"\\d{1,9}\\"+_e.slice(-1):"\\"+_e,this.options.pedantic&&(_e=Be?_e:"[*+-]");for(var T=new RegExp("^( {0,3}"+_e+")((?:[	 ][^\\n]*)?(?:\\n|$))");S&&(ke=!1,!(!(A=T.exec(S))||this.rules.block.hr.test(S)));){if(U=A[0],S=S.substring(U.length),V=A[2].split(`
`,1)[0].replace(/^\t+/,function(Ze){return" ".repeat(3*Ze.length)}),H=S.split(`
`,1)[0],this.options.pedantic?(_=2,$=V.trimLeft()):(_=A[2].search(/[^ ]/),_=_>4?1:_,$=V.slice(_),_+=A[1].length),z=!1,!V&&/^ *$/.test(H)&&(U+=H+`
`,S=S.substring(H.length+1),ke=!0),!ke)for(var F=new RegExp("^ {0,"+Math.min(3,_-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),Y=new RegExp("^ {0,"+Math.min(3,_-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),re=new RegExp("^ {0,"+Math.min(3,_-1)+"}(?:```|~~~)"),xe=new RegExp("^ {0,"+Math.min(3,_-1)+"}#");S&&(ne=S.split(`
`,1)[0],H=ne,this.options.pedantic&&(H=H.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(re.test(H)||xe.test(H)||F.test(H)||Y.test(S)));){if(H.search(/[^ ]/)>=_||!H.trim())$+=`
`+H.slice(_);else{if(z||V.search(/[^ ]/)>=4||re.test(V)||xe.test(V)||Y.test(V))break;$+=`
`+H}!z&&!H.trim()&&(z=!0),U+=ne+`
`,S=S.substring(ne.length+1),V=H.slice(_)}Se.loose||(X?Se.loose=!0:/\n *\n *$/.test(U)&&(X=!0)),this.options.gfm&&(p=/^\[[ xX]\] /.exec($),p&&(x=p[0]!=="[ ] ",$=$.replace(/^\[[ xX]\] +/,""))),Se.items.push({type:"list_item",raw:U,task:!!p,checked:x,loose:!1,text:$}),Se.raw+=U}Se.items[Se.items.length-1].raw=U.trimRight(),Se.items[Se.items.length-1].text=$.trimRight(),Se.raw=Se.raw.trimRight();var Ae=Se.items.length;for(B=0;B<Ae;B++)if(this.lexer.state.top=!1,Se.items[B].tokens=this.lexer.blockTokens(Se.items[B].text,[]),!Se.loose){var Xe=Se.items[B].tokens.filter(function(Ze){return Ze.type==="space"}),Re=Xe.length>0&&Xe.some(function(Ze){return/\n.*\n/.test(Ze.raw)});Se.loose=Re}if(Se.loose)for(B=0;B<Ae;B++)Se.items[B].loose=!0;return Se}},se.html=function(S){var A=this.rules.block.html.exec(S);if(A){var U={type:"html",raw:A[0],pre:!this.options.sanitizer&&(A[1]==="pre"||A[1]==="script"||A[1]==="style"),text:A[0]};if(this.options.sanitize){var p=this.options.sanitizer?this.options.sanitizer(A[0]):ge(A[0]);U.type="paragraph",U.text=p,U.tokens=this.lexer.inline(p)}return U}},se.def=function(S){var A=this.rules.block.def.exec(S);if(A){var U=A[1].toLowerCase().replace(/\s+/g," "),p=A[2]?A[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",x=A[3]?A[3].substring(1,A[3].length-1).replace(this.rules.inline._escapes,"$1"):A[3];return{type:"def",tag:U,raw:A[0],href:p,title:x}}},se.table=function(S){var A=this.rules.block.table.exec(S);if(A){var U={type:"table",header:G(A[1]).map(function(X){return{text:X}}),align:A[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:A[3]&&A[3].trim()?A[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(U.header.length===U.align.length){U.raw=A[0];var p=U.align.length,x,_,B,z;for(x=0;x<p;x++)/^ *-+: *$/.test(U.align[x])?U.align[x]="right":/^ *:-+: *$/.test(U.align[x])?U.align[x]="center":/^ *:-+ *$/.test(U.align[x])?U.align[x]="left":U.align[x]=null;for(p=U.rows.length,x=0;x<p;x++)U.rows[x]=G(U.rows[x],U.header.length).map(function(X){return{text:X}});for(p=U.header.length,_=0;_<p;_++)U.header[_].tokens=this.lexer.inline(U.header[_].text);for(p=U.rows.length,_=0;_<p;_++)for(z=U.rows[_],B=0;B<z.length;B++)z[B].tokens=this.lexer.inline(z[B].text);return U}}},se.lheading=function(S){var A=this.rules.block.lheading.exec(S);if(A)return{type:"heading",raw:A[0],depth:A[2].charAt(0)==="="?1:2,text:A[1],tokens:this.lexer.inline(A[1])}},se.paragraph=function(S){var A=this.rules.block.paragraph.exec(S);if(A){var U=A[1].charAt(A[1].length-1)===`
`?A[1].slice(0,-1):A[1];return{type:"paragraph",raw:A[0],text:U,tokens:this.lexer.inline(U)}}},se.text=function(S){var A=this.rules.block.text.exec(S);if(A)return{type:"text",raw:A[0],text:A[0],tokens:this.lexer.inline(A[0])}},se.escape=function(S){var A=this.rules.inline.escape.exec(S);if(A)return{type:"escape",raw:A[0],text:ge(A[1])}},se.tag=function(S){var A=this.rules.inline.tag.exec(S);if(A)return!this.lexer.state.inLink&&/^<a /i.test(A[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(A[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(A[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(A[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:A[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(A[0]):ge(A[0]):A[0]}},se.link=function(S){var A=this.rules.inline.link.exec(S);if(A){var U=A[2].trim();if(!this.options.pedantic&&/^</.test(U)){if(!/>$/.test(U))return;var p=le(U.slice(0,-1),"\\");if((U.length-p.length)%2===0)return}else{var x=M(A[2],"()");if(x>-1){var _=A[0].indexOf("!")===0?5:4,B=_+A[1].length+x;A[2]=A[2].substring(0,x),A[0]=A[0].substring(0,B).trim(),A[3]=""}}var z=A[2],X="";if(this.options.pedantic){var V=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(z);V&&(z=V[1],X=V[3])}else X=A[3]?A[3].slice(1,-1):"";return z=z.trim(),/^</.test(z)&&(this.options.pedantic&&!/>$/.test(U)?z=z.slice(1):z=z.slice(1,-1)),j(A,{href:z&&z.replace(this.rules.inline._escapes,"$1"),title:X&&X.replace(this.rules.inline._escapes,"$1")},A[0],this.lexer)}},se.reflink=function(S,A){var U;if((U=this.rules.inline.reflink.exec(S))||(U=this.rules.inline.nolink.exec(S))){var p=(U[2]||U[1]).replace(/\s+/g," ");if(p=A[p.toLowerCase()],!p){var x=U[0].charAt(0);return{type:"text",raw:x,text:x}}return j(U,p,U[0],this.lexer)}},se.emStrong=function(S,A,U){U===void 0&&(U="");var p=this.rules.inline.emStrong.lDelim.exec(S);if(p&&!(p[3]&&U.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var x=p[1]||p[2]||"";if(!x||x&&(U===""||this.rules.inline.punctuation.exec(U))){var _=p[0].length-1,B,z,X=_,V=0,H=p[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(H.lastIndex=0,A=A.slice(-1*S.length+_);(p=H.exec(A))!=null;)if(B=p[1]||p[2]||p[3]||p[4]||p[5]||p[6],!!B){if(z=B.length,p[3]||p[4]){X+=z;continue}else if((p[5]||p[6])&&_%3&&!((_+z)%3)){V+=z;continue}if(X-=z,!(X>0)){z=Math.min(z,z+X+V);var ne=S.slice(0,_+p.index+(p[0].length-B.length)+z);if(Math.min(_,z)%2){var $=ne.slice(1,-1);return{type:"em",raw:ne,text:$,tokens:this.lexer.inlineTokens($)}}var ke=ne.slice(2,-2);return{type:"strong",raw:ne,text:ke,tokens:this.lexer.inlineTokens(ke)}}}}}},se.codespan=function(S){var A=this.rules.inline.code.exec(S);if(A){var U=A[2].replace(/\n/g," "),p=/[^ ]/.test(U),x=/^ /.test(U)&&/ $/.test(U);return p&&x&&(U=U.substring(1,U.length-1)),U=ge(U,!0),{type:"codespan",raw:A[0],text:U}}},se.br=function(S){var A=this.rules.inline.br.exec(S);if(A)return{type:"br",raw:A[0]}},se.del=function(S){var A=this.rules.inline.del.exec(S);if(A)return{type:"del",raw:A[0],text:A[2],tokens:this.lexer.inlineTokens(A[2])}},se.autolink=function(S,A){var U=this.rules.inline.autolink.exec(S);if(U){var p,x;return U[2]==="@"?(p=ge(this.options.mangle?A(U[1]):U[1]),x="mailto:"+p):(p=ge(U[1]),x=p),{type:"link",raw:U[0],text:p,href:x,tokens:[{type:"text",raw:p,text:p}]}}},se.url=function(S,A){var U;if(U=this.rules.inline.url.exec(S)){var p,x;if(U[2]==="@")p=ge(this.options.mangle?A(U[0]):U[0]),x="mailto:"+p;else{var _;do _=U[0],U[0]=this.rules.inline._backpedal.exec(U[0])[0];while(_!==U[0]);p=ge(U[0]),U[1]==="www."?x="http://"+U[0]:x=U[0]}return{type:"link",raw:U[0],text:p,href:x,tokens:[{type:"text",raw:p,text:p}]}}},se.inlineText=function(S,A){var U=this.rules.inline.text.exec(S);if(U){var p;return this.lexer.state.inRawBlock?p=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(U[0]):ge(U[0]):U[0]:p=ge(this.options.smartypants?A(U[0]):U[0]),{type:"text",raw:U[0],text:p}}},oe}(),v={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:it,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};v._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,v._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,v.def=ie(v.def).replace("label",v._label).replace("title",v._title).getRegex(),v.bullet=/(?:[*+-]|\d{1,9}[.)])/,v.listItemStart=ie(/^( *)(bull) */).replace("bull",v.bullet).getRegex(),v.list=ie(v.list).replace(/bull/g,v.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+v.def.source+")").getRegex(),v._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",v._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,v.html=ie(v.html,"i").replace("comment",v._comment).replace("tag",v._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),v.paragraph=ie(v._paragraph).replace("hr",v.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v._tag).getRegex(),v.blockquote=ie(v.blockquote).replace("paragraph",v.paragraph).getRegex(),v.normal=a({},v),v.gfm=a({},v.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),v.gfm.table=ie(v.gfm.table).replace("hr",v.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v._tag).getRegex(),v.gfm.paragraph=ie(v._paragraph).replace("hr",v.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",v.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v._tag).getRegex(),v.pedantic=a({},v.normal,{html:ie(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",v._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:it,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ie(v.normal._paragraph).replace("hr",v.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",v.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var R={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:it,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:it,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};R._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",R.punctuation=ie(R.punctuation).replace(/punctuation/g,R._punctuation).getRegex(),R.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,R.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,R._comment=ie(v._comment).replace("(?:-->|$)","-->").getRegex(),R.emStrong.lDelim=ie(R.emStrong.lDelim).replace(/punct/g,R._punctuation).getRegex(),R.emStrong.rDelimAst=ie(R.emStrong.rDelimAst,"g").replace(/punct/g,R._punctuation).getRegex(),R.emStrong.rDelimUnd=ie(R.emStrong.rDelimUnd,"g").replace(/punct/g,R._punctuation).getRegex(),R._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,R._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,R._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,R.autolink=ie(R.autolink).replace("scheme",R._scheme).replace("email",R._email).getRegex(),R._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,R.tag=ie(R.tag).replace("comment",R._comment).replace("attribute",R._attribute).getRegex(),R._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,R._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,R._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,R.link=ie(R.link).replace("label",R._label).replace("href",R._href).replace("title",R._title).getRegex(),R.reflink=ie(R.reflink).replace("label",R._label).replace("ref",v._label).getRegex(),R.nolink=ie(R.nolink).replace("ref",v._label).getRegex(),R.reflinkSearch=ie(R.reflinkSearch,"g").replace("reflink",R.reflink).replace("nolink",R.nolink).getRegex(),R.normal=a({},R),R.pedantic=a({},R.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ie(/^!?\[(label)\]\((.*?)\)/).replace("label",R._label).getRegex(),reflink:ie(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",R._label).getRegex()}),R.gfm=a({},R.normal,{escape:ie(R.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),R.gfm.url=ie(R.gfm.url,"i").replace("email",R.gfm._extended_email).getRegex(),R.breaks=a({},R.gfm,{br:ie(R.br).replace("{2,}","*").getRegex(),text:ie(R.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function be(oe){return oe.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function he(oe){var se="",K,S,A=oe.length;for(K=0;K<A;K++)S=oe.charCodeAt(K),Math.random()>.5&&(S="x"+S.toString(16)),se+="&#"+S+";";return se}var De=function(){function oe(K){this.tokens=[],this.tokens.links=Object.create(null),this.options=K||i.defaults,this.options.tokenizer=this.options.tokenizer||new C,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var S={block:v.normal,inline:R.normal};this.options.pedantic?(S.block=v.pedantic,S.inline=R.pedantic):this.options.gfm&&(S.block=v.gfm,this.options.breaks?S.inline=R.breaks:S.inline=R.gfm),this.tokenizer.rules=S}oe.lex=function(S,A){var U=new oe(A);return U.lex(S)},oe.lexInline=function(S,A){var U=new oe(A);return U.inlineTokens(S)};var se=oe.prototype;return se.lex=function(S){S=S.replace(/\r\n|\r/g,`
`),this.blockTokens(S,this.tokens);for(var A;A=this.inlineQueue.shift();)this.inlineTokens(A.src,A.tokens);return this.tokens},se.blockTokens=function(S,A){var U=this;A===void 0&&(A=[]),this.options.pedantic?S=S.replace(/\t/g,"    ").replace(/^ +$/gm,""):S=S.replace(/^( *)(\t+)/gm,function(X,V,H){return V+"    ".repeat(H.length)});for(var p,x,_,B;S;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(X){return(p=X.call({lexer:U},S,A))?(S=S.substring(p.raw.length),A.push(p),!0):!1}))){if(p=this.tokenizer.space(S)){S=S.substring(p.raw.length),p.raw.length===1&&A.length>0?A[A.length-1].raw+=`
`:A.push(p);continue}if(p=this.tokenizer.code(S)){S=S.substring(p.raw.length),x=A[A.length-1],x&&(x.type==="paragraph"||x.type==="text")?(x.raw+=`
`+p.raw,x.text+=`
`+p.text,this.inlineQueue[this.inlineQueue.length-1].src=x.text):A.push(p);continue}if(p=this.tokenizer.fences(S)){S=S.substring(p.raw.length),A.push(p);continue}if(p=this.tokenizer.heading(S)){S=S.substring(p.raw.length),A.push(p);continue}if(p=this.tokenizer.hr(S)){S=S.substring(p.raw.length),A.push(p);continue}if(p=this.tokenizer.blockquote(S)){S=S.substring(p.raw.length),A.push(p);continue}if(p=this.tokenizer.list(S)){S=S.substring(p.raw.length),A.push(p);continue}if(p=this.tokenizer.html(S)){S=S.substring(p.raw.length),A.push(p);continue}if(p=this.tokenizer.def(S)){S=S.substring(p.raw.length),x=A[A.length-1],x&&(x.type==="paragraph"||x.type==="text")?(x.raw+=`
`+p.raw,x.text+=`
`+p.raw,this.inlineQueue[this.inlineQueue.length-1].src=x.text):this.tokens.links[p.tag]||(this.tokens.links[p.tag]={href:p.href,title:p.title});continue}if(p=this.tokenizer.table(S)){S=S.substring(p.raw.length),A.push(p);continue}if(p=this.tokenizer.lheading(S)){S=S.substring(p.raw.length),A.push(p);continue}if(_=S,this.options.extensions&&this.options.extensions.startBlock&&function(){var X=1/0,V=S.slice(1),H=void 0;U.options.extensions.startBlock.forEach(function(ne){H=ne.call({lexer:this},V),typeof H=="number"&&H>=0&&(X=Math.min(X,H))}),X<1/0&&X>=0&&(_=S.substring(0,X+1))}(),this.state.top&&(p=this.tokenizer.paragraph(_))){x=A[A.length-1],B&&x.type==="paragraph"?(x.raw+=`
`+p.raw,x.text+=`
`+p.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=x.text):A.push(p),B=_.length!==S.length,S=S.substring(p.raw.length);continue}if(p=this.tokenizer.text(S)){S=S.substring(p.raw.length),x=A[A.length-1],x&&x.type==="text"?(x.raw+=`
`+p.raw,x.text+=`
`+p.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=x.text):A.push(p);continue}if(S){var z="Infinite loop on byte: "+S.charCodeAt(0);if(this.options.silent){console.error(z);break}else throw new Error(z)}}return this.state.top=!0,A},se.inline=function(S,A){return A===void 0&&(A=[]),this.inlineQueue.push({src:S,tokens:A}),A},se.inlineTokens=function(S,A){var U=this;A===void 0&&(A=[]);var p,x,_,B=S,z,X,V;if(this.tokens.links){var H=Object.keys(this.tokens.links);if(H.length>0)for(;(z=this.tokenizer.rules.inline.reflinkSearch.exec(B))!=null;)H.includes(z[0].slice(z[0].lastIndexOf("[")+1,-1))&&(B=B.slice(0,z.index)+"["+E("a",z[0].length-2)+"]"+B.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(z=this.tokenizer.rules.inline.blockSkip.exec(B))!=null;)B=B.slice(0,z.index)+"["+E("a",z[0].length-2)+"]"+B.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(z=this.tokenizer.rules.inline.escapedEmSt.exec(B))!=null;)B=B.slice(0,z.index+z[0].length-2)+"++"+B.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;S;)if(X||(V=""),X=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function($){return(p=$.call({lexer:U},S,A))?(S=S.substring(p.raw.length),A.push(p),!0):!1}))){if(p=this.tokenizer.escape(S)){S=S.substring(p.raw.length),A.push(p);continue}if(p=this.tokenizer.tag(S)){S=S.substring(p.raw.length),x=A[A.length-1],x&&p.type==="text"&&x.type==="text"?(x.raw+=p.raw,x.text+=p.text):A.push(p);continue}if(p=this.tokenizer.link(S)){S=S.substring(p.raw.length),A.push(p);continue}if(p=this.tokenizer.reflink(S,this.tokens.links)){S=S.substring(p.raw.length),x=A[A.length-1],x&&p.type==="text"&&x.type==="text"?(x.raw+=p.raw,x.text+=p.text):A.push(p);continue}if(p=this.tokenizer.emStrong(S,B,V)){S=S.substring(p.raw.length),A.push(p);continue}if(p=this.tokenizer.codespan(S)){S=S.substring(p.raw.length),A.push(p);continue}if(p=this.tokenizer.br(S)){S=S.substring(p.raw.length),A.push(p);continue}if(p=this.tokenizer.del(S)){S=S.substring(p.raw.length),A.push(p);continue}if(p=this.tokenizer.autolink(S,he)){S=S.substring(p.raw.length),A.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(S,he))){S=S.substring(p.raw.length),A.push(p);continue}if(_=S,this.options.extensions&&this.options.extensions.startInline&&function(){var $=1/0,ke=S.slice(1),_e=void 0;U.options.extensions.startInline.forEach(function(Be){_e=Be.call({lexer:this},ke),typeof _e=="number"&&_e>=0&&($=Math.min($,_e))}),$<1/0&&$>=0&&(_=S.substring(0,$+1))}(),p=this.tokenizer.inlineText(_,be)){S=S.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(V=p.raw.slice(-1)),X=!0,x=A[A.length-1],x&&x.type==="text"?(x.raw+=p.raw,x.text+=p.text):A.push(p);continue}if(S){var ne="Infinite loop on byte: "+S.charCodeAt(0);if(this.options.silent){console.error(ne);break}else throw new Error(ne)}}return A},t(oe,null,[{key:"rules",get:function(){return{block:v,inline:R}}}]),oe}(),He=function(){function oe(K){this.options=K||i.defaults}var se=oe.prototype;return se.code=function(S,A,U){var p=(A||"").match(/\S*/)[0];if(this.options.highlight){var x=this.options.highlight(S,p);x!=null&&x!==S&&(U=!0,S=x)}return S=S.replace(/\n$/,"")+`
`,p?'<pre><code class="'+this.options.langPrefix+ge(p)+'">'+(U?S:ge(S,!0))+`</code></pre>
`:"<pre><code>"+(U?S:ge(S,!0))+`</code></pre>
`},se.blockquote=function(S){return`<blockquote>
`+S+`</blockquote>
`},se.html=function(S){return S},se.heading=function(S,A,U,p){if(this.options.headerIds){var x=this.options.headerPrefix+p.slug(U);return"<h"+A+' id="'+x+'">'+S+"</h"+A+`>
`}return"<h"+A+">"+S+"</h"+A+`>
`},se.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},se.list=function(S,A,U){var p=A?"ol":"ul",x=A&&U!==1?' start="'+U+'"':"";return"<"+p+x+`>
`+S+"</"+p+`>
`},se.listitem=function(S){return"<li>"+S+`</li>
`},se.checkbox=function(S){return"<input "+(S?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},se.paragraph=function(S){return"<p>"+S+`</p>
`},se.table=function(S,A){return A&&(A="<tbody>"+A+"</tbody>"),`<table>
<thead>
`+S+`</thead>
`+A+`</table>
`},se.tablerow=function(S){return`<tr>
`+S+`</tr>
`},se.tablecell=function(S,A){var U=A.header?"th":"td",p=A.align?"<"+U+' align="'+A.align+'">':"<"+U+">";return p+S+("</"+U+`>
`)},se.strong=function(S){return"<strong>"+S+"</strong>"},se.em=function(S){return"<em>"+S+"</em>"},se.codespan=function(S){return"<code>"+S+"</code>"},se.br=function(){return this.options.xhtml?"<br/>":"<br>"},se.del=function(S){return"<del>"+S+"</del>"},se.link=function(S,A,U){if(S=we(this.options.sanitize,this.options.baseUrl,S),S===null)return U;var p='<a href="'+S+'"';return A&&(p+=' title="'+A+'"'),p+=">"+U+"</a>",p},se.image=function(S,A,U){if(S=we(this.options.sanitize,this.options.baseUrl,S),S===null)return U;var p='<img src="'+S+'" alt="'+U+'"';return A&&(p+=' title="'+A+'"'),p+=this.options.xhtml?"/>":">",p},se.text=function(S){return S},oe}(),Pe=function(){function oe(){}var se=oe.prototype;return se.strong=function(S){return S},se.em=function(S){return S},se.codespan=function(S){return S},se.del=function(S){return S},se.html=function(S){return S},se.text=function(S){return S},se.link=function(S,A,U){return""+U},se.image=function(S,A,U){return""+U},se.br=function(){return""},oe}(),Ue=function(){function oe(){this.seen={}}var se=oe.prototype;return se.serialize=function(S){return S.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},se.getNextSafeSlug=function(S,A){var U=S,p=0;if(this.seen.hasOwnProperty(U)){p=this.seen[S];do p++,U=S+"-"+p;while(this.seen.hasOwnProperty(U))}return A||(this.seen[S]=p,this.seen[U]=0),U},se.slug=function(S,A){A===void 0&&(A={});var U=this.serialize(S);return this.getNextSafeSlug(U,A.dryrun)},oe}(),$e=function(){function oe(K){this.options=K||i.defaults,this.options.renderer=this.options.renderer||new He,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Pe,this.slugger=new Ue}oe.parse=function(S,A){var U=new oe(A);return U.parse(S)},oe.parseInline=function(S,A){var U=new oe(A);return U.parseInline(S)};var se=oe.prototype;return se.parse=function(S,A){A===void 0&&(A=!0);var U="",p,x,_,B,z,X,V,H,ne,$,ke,_e,Be,Se,T,F,Y,re,xe,Ae=S.length;for(p=0;p<Ae;p++){if($=S[p],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[$.type]&&(xe=this.options.extensions.renderers[$.type].call({parser:this},$),xe!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes($.type))){U+=xe||"";continue}switch($.type){case"space":continue;case"hr":{U+=this.renderer.hr();continue}case"heading":{U+=this.renderer.heading(this.parseInline($.tokens),$.depth,te(this.parseInline($.tokens,this.textRenderer)),this.slugger);continue}case"code":{U+=this.renderer.code($.text,$.lang,$.escaped);continue}case"table":{for(H="",V="",B=$.header.length,x=0;x<B;x++)V+=this.renderer.tablecell(this.parseInline($.header[x].tokens),{header:!0,align:$.align[x]});for(H+=this.renderer.tablerow(V),ne="",B=$.rows.length,x=0;x<B;x++){for(X=$.rows[x],V="",z=X.length,_=0;_<z;_++)V+=this.renderer.tablecell(this.parseInline(X[_].tokens),{header:!1,align:$.align[_]});ne+=this.renderer.tablerow(V)}U+=this.renderer.table(H,ne);continue}case"blockquote":{ne=this.parse($.tokens),U+=this.renderer.blockquote(ne);continue}case"list":{for(ke=$.ordered,_e=$.start,Be=$.loose,B=$.items.length,ne="",x=0;x<B;x++)T=$.items[x],F=T.checked,Y=T.task,Se="",T.task&&(re=this.renderer.checkbox(F),Be?T.tokens.length>0&&T.tokens[0].type==="paragraph"?(T.tokens[0].text=re+" "+T.tokens[0].text,T.tokens[0].tokens&&T.tokens[0].tokens.length>0&&T.tokens[0].tokens[0].type==="text"&&(T.tokens[0].tokens[0].text=re+" "+T.tokens[0].tokens[0].text)):T.tokens.unshift({type:"text",text:re}):Se+=re),Se+=this.parse(T.tokens,Be),ne+=this.renderer.listitem(Se,Y,F);U+=this.renderer.list(ne,ke,_e);continue}case"html":{U+=this.renderer.html($.text);continue}case"paragraph":{U+=this.renderer.paragraph(this.parseInline($.tokens));continue}case"text":{for(ne=$.tokens?this.parseInline($.tokens):$.text;p+1<Ae&&S[p+1].type==="text";)$=S[++p],ne+=`
`+($.tokens?this.parseInline($.tokens):$.text);U+=A?this.renderer.paragraph(ne):ne;continue}default:{var Xe='Token with "'+$.type+'" type was not found.';if(this.options.silent){console.error(Xe);return}else throw new Error(Xe)}}}return U},se.parseInline=function(S,A){A=A||this.renderer;var U="",p,x,_,B=S.length;for(p=0;p<B;p++){if(x=S[p],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[x.type]&&(_=this.options.extensions.renderers[x.type].call({parser:this},x),_!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(x.type))){U+=_||"";continue}switch(x.type){case"escape":{U+=A.text(x.text);break}case"html":{U+=A.html(x.text);break}case"link":{U+=A.link(x.href,x.title,this.parseInline(x.tokens,A));break}case"image":{U+=A.image(x.href,x.title,x.text);break}case"strong":{U+=A.strong(this.parseInline(x.tokens,A));break}case"em":{U+=A.em(this.parseInline(x.tokens,A));break}case"codespan":{U+=A.codespan(x.text);break}case"br":{U+=A.br();break}case"del":{U+=A.del(this.parseInline(x.tokens,A));break}case"text":{U+=A.text(x.text);break}default:{var z='Token with "'+x.type+'" type was not found.';if(this.options.silent){console.error(z);return}else throw new Error(z)}}}return U},oe}(),rt=function(){function oe(K){this.options=K||i.defaults}var se=oe.prototype;return se.preprocess=function(S){return S},se.postprocess=function(S){return S},oe}();rt.passThroughHooks=new Set(["preprocess","postprocess"]);function ht(oe,se,K){return function(S){if(S.message+=`
Please report this to https://github.com/markedjs/marked.`,oe){var A="<p>An error occurred:</p><pre>"+ge(S.message+"",!0)+"</pre>";if(se)return Promise.resolve(A);if(K){K(null,A);return}return A}if(se)return Promise.reject(S);if(K){K(S);return}throw S}}function yt(oe,se){return function(K,S,A){typeof S=="function"&&(A=S,S=null);var U=a({},S);S=a({},Le.defaults,U);var p=ht(S.silent,S.async,A);if(typeof K>"u"||K===null)return p(new Error("marked(): input parameter is undefined or null"));if(typeof K!="string")return p(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(K)+", string expected"));if(k(S),S.hooks&&(S.hooks.options=S),A){var x=S.highlight,_;try{S.hooks&&(K=S.hooks.preprocess(K)),_=oe(K,S)}catch(H){return p(H)}var B=function(ne){var $;if(!ne)try{S.walkTokens&&Le.walkTokens(_,S.walkTokens),$=se(_,S),S.hooks&&($=S.hooks.postprocess($))}catch(ke){ne=ke}return S.highlight=x,ne?p(ne):A(null,$)};if(!x||x.length<3||(delete S.highlight,!_.length))return B();var z=0;Le.walkTokens(_,function(H){H.type==="code"&&(z++,setTimeout(function(){x(H.text,H.lang,function(ne,$){if(ne)return B(ne);$!=null&&$!==H.text&&(H.text=$,H.escaped=!0),z--,z===0&&B()})},0))}),z===0&&B();return}if(S.async)return Promise.resolve(S.hooks?S.hooks.preprocess(K):K).then(function(H){return oe(H,S)}).then(function(H){return S.walkTokens?Promise.all(Le.walkTokens(H,S.walkTokens)).then(function(){return H}):H}).then(function(H){return se(H,S)}).then(function(H){return S.hooks?S.hooks.postprocess(H):H}).catch(p);try{S.hooks&&(K=S.hooks.preprocess(K));var X=oe(K,S);S.walkTokens&&Le.walkTokens(X,S.walkTokens);var V=se(X,S);return S.hooks&&(V=S.hooks.postprocess(V)),V}catch(H){return p(H)}}}function Le(oe,se,K){return yt(De.lex,$e.parse)(oe,se,K)}Le.options=Le.setOptions=function(oe){return Le.defaults=a({},Le.defaults,oe),L(Le.defaults),Le},Le.getDefaults=D,Le.defaults=i.defaults,Le.use=function(){for(var oe=Le.defaults.extensions||{renderers:{},childTokens:{}},se=arguments.length,K=new Array(se),S=0;S<se;S++)K[S]=arguments[S];K.forEach(function(A){var U=a({},A);if(U.async=Le.defaults.async||U.async||!1,A.extensions&&(A.extensions.forEach(function(x){if(!x.name)throw new Error("extension name required");if(x.renderer){var _=oe.renderers[x.name];_?oe.renderers[x.name]=function(){for(var B=arguments.length,z=new Array(B),X=0;X<B;X++)z[X]=arguments[X];var V=x.renderer.apply(this,z);return V===!1&&(V=_.apply(this,z)),V}:oe.renderers[x.name]=x.renderer}if(x.tokenizer){if(!x.level||x.level!=="block"&&x.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");oe[x.level]?oe[x.level].unshift(x.tokenizer):oe[x.level]=[x.tokenizer],x.start&&(x.level==="block"?oe.startBlock?oe.startBlock.push(x.start):oe.startBlock=[x.start]:x.level==="inline"&&(oe.startInline?oe.startInline.push(x.start):oe.startInline=[x.start]))}x.childTokens&&(oe.childTokens[x.name]=x.childTokens)}),U.extensions=oe),A.renderer&&function(){var x=Le.defaults.renderer||new He,_=function(X){var V=x[X];x[X]=function(){for(var H=arguments.length,ne=new Array(H),$=0;$<H;$++)ne[$]=arguments[$];var ke=A.renderer[X].apply(x,ne);return ke===!1&&(ke=V.apply(x,ne)),ke}};for(var B in A.renderer)_(B);U.renderer=x}(),A.tokenizer&&function(){var x=Le.defaults.tokenizer||new C,_=function(X){var V=x[X];x[X]=function(){for(var H=arguments.length,ne=new Array(H),$=0;$<H;$++)ne[$]=arguments[$];var ke=A.tokenizer[X].apply(x,ne);return ke===!1&&(ke=V.apply(x,ne)),ke}};for(var B in A.tokenizer)_(B);U.tokenizer=x}(),A.hooks&&function(){var x=Le.defaults.hooks||new rt,_=function(X){var V=x[X];rt.passThroughHooks.has(X)?x[X]=function(H){if(Le.defaults.async)return Promise.resolve(A.hooks[X].call(x,H)).then(function($){return V.call(x,$)});var ne=A.hooks[X].call(x,H);return V.call(x,ne)}:x[X]=function(){for(var H=arguments.length,ne=new Array(H),$=0;$<H;$++)ne[$]=arguments[$];var ke=A.hooks[X].apply(x,ne);return ke===!1&&(ke=V.apply(x,ne)),ke}};for(var B in A.hooks)_(B);U.hooks=x}(),A.walkTokens){var p=Le.defaults.walkTokens;U.walkTokens=function(x){var _=[];return _.push(A.walkTokens.call(this,x)),p&&(_=_.concat(p.call(this,x))),_}}Le.setOptions(U)})},Le.walkTokens=function(oe,se){for(var K=[],S=function(){var x=U.value;switch(K=K.concat(se.call(Le,x)),x.type){case"table":{for(var _=h(x.header),B;!(B=_()).done;){var z=B.value;K=K.concat(Le.walkTokens(z.tokens,se))}for(var X=h(x.rows),V;!(V=X()).done;)for(var H=V.value,ne=h(H),$;!($=ne()).done;){var ke=$.value;K=K.concat(Le.walkTokens(ke.tokens,se))}break}case"list":{K=K.concat(Le.walkTokens(x.items,se));break}default:Le.defaults.extensions&&Le.defaults.extensions.childTokens&&Le.defaults.extensions.childTokens[x.type]?Le.defaults.extensions.childTokens[x.type].forEach(function(_e){K=K.concat(Le.walkTokens(x[_e],se))}):x.tokens&&(K=K.concat(Le.walkTokens(x.tokens,se)))}},A=h(oe),U;!(U=A()).done;)S();return K},Le.parseInline=yt(De.lexInline,$e.parseInline),Le.Parser=$e,Le.parser=$e.parse,Le.Renderer=He,Le.TextRenderer=Pe,Le.Lexer=De,Le.lexer=De.lex,Le.Tokenizer=C,Le.Slugger=Ue,Le.Hooks=rt,Le.parse=Le;var xt=Le.options,At=Le.setOptions,Dt=Le.use,Ut=Le.walkTokens,Ye=Le.parseInline,_t=Le,qt=$e.parse,en=De.lex;i.Hooks=rt,i.Lexer=De,i.Parser=$e,i.Renderer=He,i.Slugger=Ue,i.TextRenderer=Pe,i.Tokenizer=C,i.getDefaults=D,i.lexer=en,i.marked=Le,i.options=xt,i.parse=_t,i.parseInline=Ye,i.parser=qt,i.setOptions=At,i.use=Dt,i.walkTokens=Ut}(lc)),lc}var uc,qp;function sx(){if(qp)return uc;qp=1;var i=ci();qy(),Vy(),Gy(),Em(),Tm(),Ky(),Xy(),Jy(),Zy(),Qy(),Sm();var e=ax(),t=ox().marked,a=/Mac/.test(navigator.platform),s=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),c={toggleBold:te,toggleItalic:ee,drawLink:E,toggleHeadingSmaller:we,toggleHeadingBigger:Me,drawImage:j,toggleBlockquote:de,toggleOrderedList:M,toggleUnorderedList:le,toggleCodeBlock:ve,togglePreview:Pe,toggleStrikethrough:ie,toggleHeading1:ot,toggleHeading2:Ee,toggleHeading3:Ve,toggleHeading4:Je,toggleHeading5:it,toggleHeading6:G,cleanBlock:k,drawTable:R,drawHorizontalRule:be,undo:he,redo:De,toggleSideBySide:He,toggleFullScreen:Z},h={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},g=function(p){for(var x in c)if(c[x]===p)return x;return null},b=function(){var p=!1;return function(x){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(x)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(x.substr(0,4)))&&(p=!0)}(navigator.userAgent||navigator.vendor||window.opera),p};function D(p){for(var x;(x=s.exec(p))!==null;){var _=x[0];if(_.indexOf("target=")===-1){var B=_.replace(/>$/,' target="_blank">');p=p.replace(_,B)}}return p}function L(p){for(var x=new DOMParser,_=x.parseFromString(p,"text/html"),B=_.getElementsByTagName("li"),z=0;z<B.length;z++)for(var X=B[z],V=0;V<X.children.length;V++){var H=X.children[V];H instanceof HTMLInputElement&&H.type==="checkbox"&&(X.style.marginLeft="-1.5em",X.style.listStyleType="none")}return _.documentElement.innerHTML}function N(p){return a?p=p.replace("Ctrl","Cmd"):p=p.replace("Cmd","Ctrl"),p}function W(p,x,_,B){var z=fe(p,!1,x,_,"button",B);z.classList.add("easymde-dropdown"),z.onclick=function(){z.focus()};var X=document.createElement("div");X.className="easymde-dropdown-content";for(var V=0;V<p.children.length;V++){var H=p.children[V],ne;typeof H=="string"&&H in _t?ne=fe(_t[H],!0,x,_,"button",B):ne=fe(H,!0,x,_,"button",B),ne.addEventListener("click",function($){$.stopPropagation()},!1),X.appendChild(ne)}return z.appendChild(X),z}function fe(p,x,_,B,z,X){p=p||{};var V=document.createElement(z);if(p.attributes)for(var H in p.attributes)Object.prototype.hasOwnProperty.call(p.attributes,H)&&V.setAttribute(H,p.attributes[H]);var ne=X.options.toolbarButtonClassPrefix?X.options.toolbarButtonClassPrefix+"-":"";V.className=ne+p.name,V.setAttribute("type",z),_=_??!0,p.text&&(V.innerText=p.text),p.name&&p.name in B&&(c[p.name]=p.action),p.title&&_&&(V.title=ue(p.title,p.action,B),a&&(V.title=V.title.replace("Ctrl","⌘"),V.title=V.title.replace("Alt","⌥"))),p.title&&V.setAttribute("aria-label",p.title),p.noDisable&&V.classList.add("no-disable"),p.noMobile&&V.classList.add("no-mobile");var $=[];typeof p.className<"u"&&($=p.className.split(" "));for(var ke=[],_e=0;_e<$.length;_e++){var Be=$[_e];Be.match(/^fa([srlb]|(-[\w-]*)|$)/)?ke.push(Be):V.classList.add(Be)}if(V.tabIndex=-1,ke.length>0){for(var Se=document.createElement("i"),T=0;T<ke.length;T++){var F=ke[T];Se.classList.add(F)}V.appendChild(Se)}return typeof p.icon<"u"&&(V.innerHTML=p.icon),p.action&&x&&(typeof p.action=="function"?V.onclick=function(Y){Y.preventDefault(),p.action(X)}:typeof p.action=="string"&&(V.onclick=function(Y){Y.preventDefault(),window.open(p.action,"_blank")})),V}function Q(){var p=document.createElement("i");return p.className="separator",p.innerHTML="|",p}function ue(p,x,_){var B,z=p;return x&&(B=g(x),_[B]&&(z+=" ("+N(_[B])+")")),z}function ce(p,x){x=x||p.getCursor("start");var _=p.getTokenAt(x);if(!_.type)return{};for(var B=_.type.split(" "),z={},X,V,H=0;H<B.length;H++)X=B[H],X==="strong"?z.bold=!0:X==="variable-2"?(V=p.getLine(x.line),/^\s*\d+\.\s/.test(V)?z["ordered-list"]=!0:z["unordered-list"]=!0):X==="atom"?z.quote=!0:X==="em"?z.italic=!0:X==="quote"?z.quote=!0:X==="strikethrough"?z.strikethrough=!0:X==="comment"?z.code=!0:X==="link"&&!z.image?z.link=!0:X==="image"?z.image=!0:X.match(/^header(-[1-6])?$/)&&(z[X.replace("header","heading")]=!0);return z}var ge="";function Z(p){var x=p.codemirror;x.setOption("fullScreen",!x.getOption("fullScreen")),x.getOption("fullScreen")?(ge=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=ge;var _=x.getWrapperElement(),B=_.nextSibling;if(B.classList.contains("editor-preview-active-side"))if(p.options.sideBySideFullscreen===!1){var z=_.parentNode;x.getOption("fullScreen")?z.classList.remove("sided--no-fullscreen"):z.classList.add("sided--no-fullscreen")}else He(p);if(p.options.onToggleFullScreen&&p.options.onToggleFullScreen(x.getOption("fullScreen")||!1),typeof p.options.maxHeight<"u"&&(x.getOption("fullScreen")?(x.getScrollerElement().style.removeProperty("height"),B.style.removeProperty("height")):(x.getScrollerElement().style.height=p.options.maxHeight,p.setPreviewMaxHeight())),p.toolbar_div.classList.toggle("fullscreen"),p.toolbarElements&&p.toolbarElements.fullscreen){var X=p.toolbarElements.fullscreen;X.classList.toggle("active")}}function te(p){yt(p,"bold",p.options.blockStyles.bold)}function ee(p){yt(p,"italic",p.options.blockStyles.italic)}function ie(p){yt(p,"strikethrough","~~")}function ve(p){var x=p.options.blockStyles.code;function _(tn){if(typeof tn!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof tn+": "+tn;return tn.styles&&tn.styles[2]&&tn.styles[2].indexOf("formatting-code-block")!==-1}function B(tn){return tn.state.base.base||tn.state.base}function z(tn,Tn,Pn,q,We){Pn=Pn||tn.getLineHandle(Tn),q=q||tn.getTokenAt({line:Tn,ch:1}),We=We||!!Pn.text&&tn.getTokenAt({line:Tn,ch:Pn.text.length-1});var Ie=q.type?q.type.split(" "):[];return We&&B(We).indentedCode?"indented":Ie.indexOf("comment")===-1?!1:B(q).fencedChars||B(We).fencedChars||_(Pn)?"fenced":"single"}function X(tn,Tn,Pn,q){var We=Tn.line+1,Ie=Pn.line+1,dt=Tn.line!==Pn.line,bt=q+`
`,ut=`
`+q;dt&&Ie++,dt&&Pn.ch===0&&(ut=q+`
`,Ie--),Ue(tn,!1,[bt,ut]),tn.setSelection({line:We,ch:0},{line:Ie,ch:0})}var V=p.codemirror,H=V.getCursor("start"),ne=V.getCursor("end"),$=V.getTokenAt({line:H.line,ch:H.ch||1}),ke=V.getLineHandle(H.line),_e=z(V,H.line,ke,$),Be,Se,T;if(_e==="single"){var F=ke.text.slice(0,H.ch).replace("`",""),Y=ke.text.slice(H.ch).replace("`","");V.replaceRange(F+Y,{line:H.line,ch:0},{line:H.line,ch:99999999999999}),H.ch--,H!==ne&&ne.ch--,V.setSelection(H,ne),V.focus()}else if(_e==="fenced")if(H.line!==ne.line||H.ch!==ne.ch){for(Be=H.line;Be>=0&&(ke=V.getLineHandle(Be),!_(ke));Be--);var re=V.getTokenAt({line:Be,ch:1}),xe=B(re).fencedChars,Ae,Xe,Re,Ze;_(V.getLineHandle(H.line))?(Ae="",Xe=H.line):_(V.getLineHandle(H.line-1))?(Ae="",Xe=H.line-1):(Ae=xe+`
`,Xe=H.line),_(V.getLineHandle(ne.line))?(Re="",Ze=ne.line,ne.ch===0&&(Ze+=1)):ne.ch!==0&&_(V.getLineHandle(ne.line+1))?(Re="",Ze=ne.line+1):(Re=xe+`
`,Ze=ne.line+1),ne.ch===0&&(Ze-=1),V.operation(function(){V.replaceRange(Re,{line:Ze,ch:0},{line:Ze+(Re?0:1),ch:0}),V.replaceRange(Ae,{line:Xe,ch:0},{line:Xe+(Ae?0:1),ch:0})}),V.setSelection({line:Xe+(Ae?1:0),ch:0},{line:Ze+(Ae?1:-1),ch:0}),V.focus()}else{var Ge=H.line;if(_(V.getLineHandle(H.line))&&(z(V,H.line+1)==="fenced"?(Be=H.line,Ge=H.line+1):(Se=H.line,Ge=H.line-1)),Be===void 0)for(Be=Ge;Be>=0&&(ke=V.getLineHandle(Be),!_(ke));Be--);if(Se===void 0)for(T=V.lineCount(),Se=Ge;Se<T&&(ke=V.getLineHandle(Se),!_(ke));Se++);V.operation(function(){V.replaceRange("",{line:Be,ch:0},{line:Be+1,ch:0}),V.replaceRange("",{line:Se-1,ch:0},{line:Se,ch:0})}),V.focus()}else if(_e==="indented"){if(H.line!==ne.line||H.ch!==ne.ch)Be=H.line,Se=ne.line,ne.ch===0&&Se--;else{for(Be=H.line;Be>=0;Be--)if(ke=V.getLineHandle(Be),!ke.text.match(/^\s*$/)&&z(V,Be,ke)!=="indented"){Be+=1;break}for(T=V.lineCount(),Se=H.line;Se<T;Se++)if(ke=V.getLineHandle(Se),!ke.text.match(/^\s*$/)&&z(V,Se,ke)!=="indented"){Se-=1;break}}var tt=V.getLineHandle(Se+1),St=tt&&V.getTokenAt({line:Se+1,ch:tt.text.length-1}),bn=St&&B(St).indentedCode;bn&&V.replaceRange(`
`,{line:Se+1,ch:0});for(var Pt=Be;Pt<=Se;Pt++)V.indentLine(Pt,"subtract");V.focus()}else{var Jn=H.line===ne.line&&H.ch===ne.ch&&H.ch===0,ri=H.line!==ne.line;Jn||ri?X(V,H,ne,x):Ue(V,!1,["`","`"])}}function de(p){rt(p.codemirror,"quote")}function we(p){$e(p.codemirror,"smaller")}function Me(p){$e(p.codemirror,"bigger")}function ot(p){$e(p.codemirror,void 0,1)}function Ee(p){$e(p.codemirror,void 0,2)}function Ve(p){$e(p.codemirror,void 0,3)}function Je(p){$e(p.codemirror,void 0,4)}function it(p){$e(p.codemirror,void 0,5)}function G(p){$e(p.codemirror,void 0,6)}function le(p){var x=p.codemirror,_="*";["-","+","*"].includes(p.options.unorderedListStyle)&&(_=p.options.unorderedListStyle),rt(x,"unordered-list",_)}function M(p){rt(p.codemirror,"ordered-list")}function k(p){Le(p.codemirror)}function E(p){var x=p.options,_="https://";if(x.promptURLs){var B=prompt(x.promptTexts.link,_);if(!B)return!1;_=I(B)}ht(p,"link",x.insertTexts.link,_)}function j(p){var x=p.options,_="https://";if(x.promptURLs){var B=prompt(x.promptTexts.image,_);if(!B)return!1;_=I(B)}ht(p,"image",x.insertTexts.image,_)}function I(p){return encodeURI(p).replace(/([\\()])/g,"\\$1")}function C(p){p.openBrowseFileWindow()}function v(p,x){var _=p.codemirror,B=ce(_),z=p.options,X=x.substr(x.lastIndexOf("/")+1),V=X.substring(X.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(V))Ue(_,B.image,z.insertTexts.uploadedImage,x);else{var H=z.insertTexts.link;H[0]="["+X,Ue(_,B.link,H,x)}p.updateStatusBar("upload-image",p.options.imageTexts.sbOnUploaded.replace("#image_name#",X)),setTimeout(function(){p.updateStatusBar("upload-image",p.options.imageTexts.sbInit)},1e3)}function R(p){var x=p.codemirror,_=ce(x),B=p.options;Ue(x,_.table,B.insertTexts.table)}function be(p){var x=p.codemirror,_=ce(x),B=p.options;Ue(x,_.image,B.insertTexts.horizontalRule)}function he(p){var x=p.codemirror;x.undo(),x.focus()}function De(p){var x=p.codemirror;x.redo(),x.focus()}function He(p){var x=p.codemirror,_=x.getWrapperElement(),B=_.nextSibling,z=p.toolbarElements&&p.toolbarElements["side-by-side"],X=!1,V=_.parentNode;B.classList.contains("editor-preview-active-side")?(p.options.sideBySideFullscreen===!1&&V.classList.remove("sided--no-fullscreen"),B.classList.remove("editor-preview-active-side"),z&&z.classList.remove("active"),_.classList.remove("CodeMirror-sided")):(setTimeout(function(){x.getOption("fullScreen")||(p.options.sideBySideFullscreen===!1?V.classList.add("sided--no-fullscreen"):Z(p)),B.classList.add("editor-preview-active-side")},1),z&&z.classList.add("active"),_.classList.add("CodeMirror-sided"),X=!0);var H=_.lastChild;if(H.classList.contains("editor-preview-active")){H.classList.remove("editor-preview-active");var ne=p.toolbarElements.preview,$=p.toolbar_div;ne.classList.remove("active"),$.classList.remove("disabled-for-preview")}var ke=function(){var Be=p.options.previewRender(p.value(),B);Be!=null&&(B.innerHTML=Be)};if(x.sideBySideRenderingFunction||(x.sideBySideRenderingFunction=ke),X){var _e=p.options.previewRender(p.value(),B);_e!=null&&(B.innerHTML=_e),x.on("update",x.sideBySideRenderingFunction)}else x.off("update",x.sideBySideRenderingFunction);x.refresh()}function Pe(p){var x=p.codemirror,_=x.getWrapperElement(),B=p.toolbar_div,z=p.options.toolbar?p.toolbarElements.preview:!1,X=_.lastChild,V=x.getWrapperElement().nextSibling;if(V.classList.contains("editor-preview-active-side")&&He(p),!X||!X.classList.contains("editor-preview-full")){if(X=document.createElement("div"),X.className="editor-preview-full",p.options.previewClass)if(Array.isArray(p.options.previewClass))for(var H=0;H<p.options.previewClass.length;H++)X.classList.add(p.options.previewClass[H]);else typeof p.options.previewClass=="string"&&X.classList.add(p.options.previewClass);_.appendChild(X)}X.classList.contains("editor-preview-active")?(X.classList.remove("editor-preview-active"),z&&(z.classList.remove("active"),B.classList.remove("disabled-for-preview"))):(setTimeout(function(){X.classList.add("editor-preview-active")},1),z&&(z.classList.add("active"),B.classList.add("disabled-for-preview")));var ne=p.options.previewRender(p.value(),X);ne!==null&&(X.innerHTML=ne)}function Ue(p,x,_,B){if(!p.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var z,X=_[0],V=_[1],H={},ne={};Object.assign(H,p.getCursor("start")),Object.assign(ne,p.getCursor("end")),B&&(X=X.replace("#url#",B),V=V.replace("#url#",B)),x?(z=p.getLine(H.line),X=z.slice(0,H.ch),V=z.slice(H.ch),p.replaceRange(X+V,{line:H.line,ch:0})):(z=p.getSelection(),p.replaceSelection(X+z+V),H.ch+=X.length,H!==ne&&(ne.ch+=X.length)),p.setSelection(H,ne),p.focus()}}function $e(p,x,_){if(!p.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var B=p.getCursor("start"),z=p.getCursor("end"),X=B.line;X<=z.line;X++)(function(V){var H=p.getLine(V),ne=H.search(/[^#]/);x!==void 0?ne<=0?x=="bigger"?H="###### "+H:H="# "+H:ne==6&&x=="smaller"?H=H.substr(7):ne==1&&x=="bigger"?H=H.substr(2):x=="bigger"?H=H.substr(1):H="#"+H:ne<=0?H="#".repeat(_)+" "+H:ne==_?H=H.substr(ne+1):H="#".repeat(_)+" "+H.substr(ne+1),p.replaceRange(H,{line:V,ch:0},{line:V,ch:99999999999999})})(X);p.focus()}}function rt(p,x,_){if(!p.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var B=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,z=/^\s*/,X=ce(p),V=p.getCursor("start"),H=p.getCursor("end"),ne={quote:/^(\s*)>\s+/,"unordered-list":B,"ordered-list":B},$=function(T,F){var Y={quote:">","unordered-list":_,"ordered-list":"%%i."};return Y[T].replace("%%i",F)},ke=function(T,F){var Y={quote:">","unordered-list":"\\"+_,"ordered-list":"\\d+."},re=new RegExp(Y[T]);return F&&re.test(F)},_e=function(T,F,Y){var re=B.exec(F),xe=$(T,Be);return re!==null?(ke(T,re[2])&&(xe=""),F=re[1]+xe+re[3]+F.replace(z,"").replace(ne[T],"$1")):Y==!1&&(F=xe+" "+F),F},Be=1,Se=V.line;Se<=H.line;Se++)(function(T){var F=p.getLine(T);X[x]?F=F.replace(ne[x],"$1"):(x=="unordered-list"&&(F=_e("ordered-list",F,!0)),F=_e(x,F,!1),Be+=1),p.replaceRange(F,{line:T,ch:0},{line:T,ch:99999999999999})})(Se);p.focus()}}function ht(p,x,_,B){if(!(!p.codemirror||p.isPreviewActive())){var z=p.codemirror,X=ce(z),V=X[x];if(!V){Ue(z,V,_,B);return}var H=z.getCursor("start"),ne=z.getCursor("end"),$=z.getLine(H.line),ke=$.slice(0,H.ch),_e=$.slice(H.ch);x=="link"?ke=ke.replace(/(.*)[^!]\[/,"$1"):x=="image"&&(ke=ke.replace(/(.*)!\[$/,"$1")),_e=_e.replace(/]\(.*?\)/,""),z.replaceRange(ke+_e,{line:H.line,ch:0},{line:H.line,ch:99999999999999}),H.ch-=_[0].length,H!==ne&&(ne.ch-=_[0].length),z.setSelection(H,ne),z.focus()}}function yt(p,x,_,B){if(!(!p.codemirror||p.isPreviewActive())){B=typeof B>"u"?_:B;var z=p.codemirror,X=ce(z),V,H=_,ne=B,$=z.getCursor("start"),ke=z.getCursor("end");X[x]?(V=z.getLine($.line),H=V.slice(0,$.ch),ne=V.slice($.ch),x=="bold"?(H=H.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),ne=ne.replace(/(\*\*|__)/,"")):x=="italic"?(H=H.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),ne=ne.replace(/(\*|_)/,"")):x=="strikethrough"&&(H=H.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),ne=ne.replace(/(\*\*|~~)/,"")),z.replaceRange(H+ne,{line:$.line,ch:0},{line:$.line,ch:99999999999999}),x=="bold"||x=="strikethrough"?($.ch-=2,$!==ke&&(ke.ch-=2)):x=="italic"&&($.ch-=1,$!==ke&&(ke.ch-=1))):(V=z.getSelection(),x=="bold"?(V=V.split("**").join(""),V=V.split("__").join("")):x=="italic"?(V=V.split("*").join(""),V=V.split("_").join("")):x=="strikethrough"&&(V=V.split("~~").join("")),z.replaceSelection(H+V+ne),$.ch+=_.length,ke.ch=$.ch+V.length),z.setSelection($,ke),z.focus()}}function Le(p){if(!p.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var x=p.getCursor("start"),_=p.getCursor("end"),B,z=x.line;z<=_.line;z++)B=p.getLine(z),B=B.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),p.replaceRange(B,{line:z,ch:0},{line:z,ch:99999999999999})}function xt(p,x){if(Math.abs(p)<1024)return""+p+x[0];var _=0;do p/=1024,++_;while(Math.abs(p)>=1024&&_<x.length);return""+p.toFixed(1)+x[_]}function At(p,x){for(var _ in x)Object.prototype.hasOwnProperty.call(x,_)&&(x[_]instanceof Array?p[_]=x[_].concat(p[_]instanceof Array?p[_]:[]):x[_]!==null&&typeof x[_]=="object"&&x[_].constructor===Object?p[_]=At(p[_]||{},x[_]):p[_]=x[_]);return p}function Dt(p){for(var x=1;x<arguments.length;x++)p=At(p,arguments[x]);return p}function Ut(p){var x=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,_=p.match(x),B=0;if(_===null)return B;for(var z=0;z<_.length;z++)_[z].charCodeAt(0)>=19968?B+=_[z].length:B+=1;return B}var Ye={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},_t={bold:{name:"bold",action:te,className:Ye.bold,title:"Bold",default:!0},italic:{name:"italic",action:ee,className:Ye.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:ie,className:Ye.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:we,className:Ye.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:we,className:Ye["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:Me,className:Ye["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:ot,className:Ye["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:Ee,className:Ye["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:Ve,className:Ye["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:ve,className:Ye.code,title:"Code"},quote:{name:"quote",action:de,className:Ye.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:le,className:Ye["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:M,className:Ye["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:k,className:Ye["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:E,className:Ye.link,title:"Create Link",default:!0},image:{name:"image",action:j,className:Ye.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:C,className:Ye["upload-image"],title:"Import an image"},table:{name:"table",action:R,className:Ye.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:be,className:Ye["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:Pe,className:Ye.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:He,className:Ye["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:Z,className:Ye.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:Ye.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:he,className:Ye.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:De,className:Ye.redo,noDisable:!0,title:"Redo"}},qt={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},en={link:"URL for the link:",image:"URL of the image:"},oe={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},se={bold:"**",code:"```",italic:"*"},K={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},S={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function A(p){p=p||{},p.parent=this;var x=!0;if(p.autoDownloadFontAwesome===!1&&(x=!1),p.autoDownloadFontAwesome!==!0)for(var _=document.styleSheets,B=0;B<_.length;B++)_[B].href&&_[B].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(x=!1);if(x){var z=document.createElement("link");z.rel="stylesheet",z.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(z)}if(p.element)this.element=p.element;else if(p.element===null){console.log("EasyMDE: Error. No element was found.");return}if(p.toolbar===void 0){p.toolbar=[];for(var X in _t)Object.prototype.hasOwnProperty.call(_t,X)&&(X.indexOf("separator-")!=-1&&p.toolbar.push("|"),(_t[X].default===!0||p.showIcons&&p.showIcons.constructor===Array&&p.showIcons.indexOf(X)!=-1)&&p.toolbar.push(X))}if(Object.prototype.hasOwnProperty.call(p,"previewClass")||(p.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(p,"status")||(p.status=["autosave","lines","words","cursor"],p.uploadImage&&p.status.unshift("upload-image")),p.previewRender||(p.previewRender=function(H){return this.parent.markdown(H)}),p.parsingConfig=Dt({highlightFormatting:!0},p.parsingConfig||{}),p.insertTexts=Dt({},qt,p.insertTexts||{}),p.promptTexts=Dt({},en,p.promptTexts||{}),p.blockStyles=Dt({},se,p.blockStyles||{}),p.autosave!=null&&(p.autosave.timeFormat=Dt({},oe,p.autosave.timeFormat||{})),p.iconClassMap=Dt({},Ye,p.iconClassMap||{}),p.shortcuts=Dt({},h,p.shortcuts||{}),p.maxHeight=p.maxHeight||void 0,p.direction=p.direction||"ltr",typeof p.maxHeight<"u"?p.minHeight=p.maxHeight:p.minHeight=p.minHeight||"300px",p.errorCallback=p.errorCallback||function(H){alert(H)},p.uploadImage=p.uploadImage||!1,p.imageMaxSize=p.imageMaxSize||2097152,p.imageAccept=p.imageAccept||"image/png, image/jpeg, image/gif, image/avif",p.imageTexts=Dt({},K,p.imageTexts||{}),p.errorMessages=Dt({},S,p.errorMessages||{}),p.imagePathAbsolute=p.imagePathAbsolute||!1,p.imageCSRFName=p.imageCSRFName||"csrfmiddlewaretoken",p.imageCSRFHeader=p.imageCSRFHeader||!1,p.imageInputName=p.imageInputName||"image",p.autosave!=null&&p.autosave.unique_id!=null&&p.autosave.unique_id!=""&&(p.autosave.uniqueId=p.autosave.unique_id),p.overlayMode&&p.overlayMode.combine===void 0&&(p.overlayMode.combine=!0),this.options=p,this.render(),p.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(p.initialValue),p.uploadImage){var V=this;this.codemirror.on("dragenter",function(H,ne){V.updateStatusBar("upload-image",V.options.imageTexts.sbOnDragEnter),ne.stopPropagation(),ne.preventDefault()}),this.codemirror.on("dragend",function(H,ne){V.updateStatusBar("upload-image",V.options.imageTexts.sbInit),ne.stopPropagation(),ne.preventDefault()}),this.codemirror.on("dragleave",function(H,ne){V.updateStatusBar("upload-image",V.options.imageTexts.sbInit),ne.stopPropagation(),ne.preventDefault()}),this.codemirror.on("dragover",function(H,ne){V.updateStatusBar("upload-image",V.options.imageTexts.sbOnDragEnter),ne.stopPropagation(),ne.preventDefault()}),this.codemirror.on("drop",function(H,ne){ne.stopPropagation(),ne.preventDefault(),p.imageUploadFunction?V.uploadImagesUsingCustomFunction(p.imageUploadFunction,ne.dataTransfer.files):V.uploadImages(ne.dataTransfer.files)}),this.codemirror.on("paste",function(H,ne){p.imageUploadFunction?V.uploadImagesUsingCustomFunction(p.imageUploadFunction,ne.clipboardData.files):V.uploadImages(ne.clipboardData.files)})}}A.prototype.uploadImages=function(p,x,_){if(p.length!==0){for(var B=[],z=0;z<p.length;z++)B.push(p[z].name),this.uploadImage(p[z],x,_);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",B.join(", ")))}},A.prototype.uploadImagesUsingCustomFunction=function(p,x){if(x.length!==0){for(var _=[],B=0;B<x.length;B++)_.push(x[B].name),this.uploadImageUsingCustomFunction(p,x[B]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",_.join(", ")))}},A.prototype.updateStatusBar=function(p,x){if(this.gui.statusbar){var _=this.gui.statusbar.getElementsByClassName(p);_.length===1?this.gui.statusbar.getElementsByClassName(p)[0].textContent=x:_.length===0?console.log("EasyMDE: status bar item "+p+" was not found."):console.log("EasyMDE: Several status bar items named "+p+" was found.")}},A.prototype.markdown=function(p){if(t){var x;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?x=this.options.renderingConfig.markedOptions:x={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?x.breaks=!1:x.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var _=this.options.renderingConfig.hljs||window.hljs;_&&(x.highlight=function(z,X){return X&&_.getLanguage(X)?_.highlight(X,z).value:_.highlightAuto(z).value})}t.use(x);var B=t.parse(p);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(B=this.options.renderingConfig.sanitizerFunction.call(this,B)),B=D(B),B=L(B),B}},A.prototype.render=function(p){if(p||(p=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===p)return;this.element=p;var x=this.options,_=this,B={};for(var z in x.shortcuts)x.shortcuts[z]!==null&&c[z]!==null&&function(Y){B[N(x.shortcuts[Y])]=function(){var re=c[Y];typeof re=="function"?re(_):typeof re=="string"&&window.open(re,"_blank")}}(z);B.Enter="newlineAndIndentContinueMarkdownList",B.Tab="tabAndIndentMarkdownList",B["Shift-Tab"]="shiftTabAndUnindentMarkdownList",B.Esc=function(Y){Y.getOption("fullScreen")&&Z(_)},this.documentOnKeyDown=function(Y){Y=Y||window.event,Y.keyCode==27&&_.codemirror.getOption("fullScreen")&&Z(_)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var X,V;x.overlayMode?(i.defineMode("overlay-mode",function(Y){return i.overlayMode(i.getMode(Y,x.spellChecker!==!1?"spell-checker":"gfm"),x.overlayMode.mode,x.overlayMode.combine)}),X="overlay-mode",V=x.parsingConfig,V.gitHubSpice=!1):(X=x.parsingConfig,X.name="gfm",X.gitHubSpice=!1),x.spellChecker!==!1&&(X="spell-checker",V=x.parsingConfig,V.name="gfm",V.gitHubSpice=!1,typeof x.spellChecker=="function"?x.spellChecker({codeMirrorInstance:i}):e({codeMirrorInstance:i}));function H(Y,re,xe){return{addNew:!1}}if(this.codemirror=i.fromTextArea(p,{mode:X,backdrop:V,theme:x.theme!=null?x.theme:"easymde",tabSize:x.tabSize!=null?x.tabSize:2,indentUnit:x.tabSize!=null?x.tabSize:2,indentWithTabs:x.indentWithTabs!==!1,lineNumbers:x.lineNumbers===!0,autofocus:x.autofocus===!0,extraKeys:B,direction:x.direction,lineWrapping:x.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:x.placeholder||p.getAttribute("placeholder")||"",styleSelectedText:x.styleSelectedText!=null?x.styleSelectedText:!b(),scrollbarStyle:x.scrollbarStyle!=null?x.scrollbarStyle:"native",configureMouse:H,inputStyle:x.inputStyle!=null?x.inputStyle:b()?"contenteditable":"textarea",spellcheck:x.nativeSpellcheck!=null?x.nativeSpellcheck:!0,autoRefresh:x.autoRefresh!=null?x.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=x.minHeight,typeof x.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=x.maxHeight),x.forceSync===!0){var ne=this.codemirror;ne.on("change",function(){ne.save()})}this.gui={};var $=document.createElement("div");$.classList.add("EasyMDEContainer"),$.setAttribute("role","application");var ke=this.codemirror.getWrapperElement();ke.parentNode.insertBefore($,ke),$.appendChild(ke),x.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),x.status!==!1&&(this.gui.statusbar=this.createStatusbar()),x.autosave!=null&&x.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(_._autosave_timeout),_._autosave_timeout=setTimeout(function(){_.autosave()},_.options.autosave.submit_delay||_.options.autosave.delay||1e3)}));function _e(Y,re){var xe,Ae=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return Y<Ae?xe=re+"px":xe=re/Y*100+"%",xe}var Be=this;function Se(Y,re){var xe=new URL(re.url,document.baseURI).href;Y.setAttribute("data-img-src",xe),Y.setAttribute("style","--bg-image:url("+xe+");--width:"+re.naturalWidth+"px;--height:"+_e(re.naturalWidth,re.naturalHeight)),Be.codemirror.setSize()}function T(){x.previewImagesInEditor&&$.querySelectorAll(".cm-image-marker").forEach(function(Y){var re=Y.parentElement;if(re.innerText.match(/^!\[.*?\]\(.*\)/g)&&!re.hasAttribute("data-img-src")){var xe=re.innerText.match(/!\[.*?\]\((.*?)\)/);if(window.EMDEimagesCache||(window.EMDEimagesCache={}),xe&&xe.length>=2){var Ae=xe[1];if(x.imagesPreviewHandler){var Xe=x.imagesPreviewHandler(xe[1]);typeof Xe=="string"&&(Ae=Xe)}if(window.EMDEimagesCache[Ae])Se(re,window.EMDEimagesCache[Ae]);else{window.EMDEimagesCache[Ae]={};var Re=document.createElement("img");Re.onload=function(){window.EMDEimagesCache[Ae]={naturalWidth:Re.naturalWidth,naturalHeight:Re.naturalHeight,url:Ae},Se(re,window.EMDEimagesCache[Ae])},Re.src=Ae}}}})}this.codemirror.on("update",function(){T()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(x.autofocus===!0||p.autofocus)&&this.codemirror.focus();var F=this.codemirror;setTimeout((function(){F.refresh()}).bind(F),0)},A.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function U(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}return A.prototype.autosave=function(){if(U()){var p=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(p.element.form!=null&&p.element.form!=null&&p.element.form.addEventListener("submit",function(){clearTimeout(p.autosaveTimeoutId),p.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+p.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var x=p.value();x!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,x):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var _=document.getElementById("autosaved");if(_!=null&&_!=null&&_!=""){var B=new Date,z=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(B),X=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;_.innerHTML=X+z}}else console.log("EasyMDE: localStorage not available, cannot autosave")},A.prototype.clearAutosavedValue=function(){if(U()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},A.prototype.openBrowseFileWindow=function(p,x){var _=this,B=this.gui.toolbar.getElementsByClassName("imageInput")[0];B.click();function z(X){_.options.imageUploadFunction?_.uploadImagesUsingCustomFunction(_.options.imageUploadFunction,X.target.files):_.uploadImages(X.target.files,p,x),B.removeEventListener("change",z)}B.addEventListener("change",z)},A.prototype.uploadImage=function(p,x,_){var B=this;x=x||function($){v(B,$)};function z(ne){B.updateStatusBar("upload-image",ne),setTimeout(function(){B.updateStatusBar("upload-image",B.options.imageTexts.sbInit)},1e4),_&&typeof _=="function"&&_(ne),B.options.errorCallback(ne)}function X(ne){var $=B.options.imageTexts.sizeUnits.split(",");return ne.replace("#image_name#",p.name).replace("#image_size#",xt(p.size,$)).replace("#image_max_size#",xt(B.options.imageMaxSize,$))}if(p.size>this.options.imageMaxSize){z(X(this.options.errorMessages.fileTooLarge));return}var V=new FormData;V.append("image",p),B.options.imageCSRFToken&&!B.options.imageCSRFHeader&&V.append(B.options.imageCSRFName,B.options.imageCSRFToken);var H=new XMLHttpRequest;H.upload.onprogress=function(ne){if(ne.lengthComputable){var $=""+Math.round(ne.loaded*100/ne.total);B.updateStatusBar("upload-image",B.options.imageTexts.sbProgress.replace("#file_name#",p.name).replace("#progress#",$))}},H.open("POST",this.options.imageUploadEndpoint),B.options.imageCSRFToken&&B.options.imageCSRFHeader&&H.setRequestHeader(B.options.imageCSRFName,B.options.imageCSRFToken),H.onload=function(){try{var ne=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),z(X(B.options.errorMessages.importError));return}this.status===200&&ne&&!ne.error&&ne.data&&ne.data.filePath?x((B.options.imagePathAbsolute?"":window.location.origin+"/")+ne.data.filePath):ne.error&&ne.error in B.options.errorMessages?z(X(B.options.errorMessages[ne.error])):ne.error?z(X(ne.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),z(X(B.options.errorMessages.importError)))},H.onerror=function(ne){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+ne.target.status+" ("+ne.target.statusText+")"),z(B.options.errorMessages.importError)},H.send(V)},A.prototype.uploadImageUsingCustomFunction=function(p,x){var _=this;function B(V){v(_,V)}function z(V){var H=X(V);_.updateStatusBar("upload-image",H),setTimeout(function(){_.updateStatusBar("upload-image",_.options.imageTexts.sbInit)},1e4),_.options.errorCallback(H)}function X(V){var H=_.options.imageTexts.sizeUnits.split(",");return V.replace("#image_name#",x.name).replace("#image_size#",xt(x.size,H)).replace("#image_max_size#",xt(_.options.imageMaxSize,H))}p.apply(this,[x,B,z])},A.prototype.setPreviewMaxHeight=function(){var p=this.codemirror,x=p.getWrapperElement(),_=x.nextSibling,B=parseInt(window.getComputedStyle(x).paddingTop),z=parseInt(window.getComputedStyle(x).borderTopWidth),X=parseInt(this.options.maxHeight),V=X+B*2+z*2,H=V.toString()+"px";_.style.height=H},A.prototype.createSideBySide=function(){var p=this.codemirror,x=p.getWrapperElement(),_=x.nextSibling;if(!_||!_.classList.contains("editor-preview-side")){if(_=document.createElement("div"),_.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var B=0;B<this.options.previewClass.length;B++)_.classList.add(this.options.previewClass[B]);else typeof this.options.previewClass=="string"&&_.classList.add(this.options.previewClass);x.parentNode.insertBefore(_,x.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return _;var z=!1,X=!1;return p.on("scroll",function(V){if(z){z=!1;return}X=!0;var H=V.getScrollInfo().height-V.getScrollInfo().clientHeight,ne=parseFloat(V.getScrollInfo().top)/H,$=(_.scrollHeight-_.clientHeight)*ne;_.scrollTop=$}),_.onscroll=function(){if(X){X=!1;return}z=!0;var V=_.scrollHeight-_.clientHeight,H=parseFloat(_.scrollTop)/V,ne=(p.getScrollInfo().height-p.getScrollInfo().clientHeight)*H;p.scrollTo(0,ne)},_},A.prototype.createToolbar=function(p){if(p=p||this.options.toolbar,!(!p||p.length===0)){var x;for(x=0;x<p.length;x++)_t[p[x]]!=null&&(p[x]=_t[p[x]]);var _=document.createElement("div");_.className="editor-toolbar",_.setAttribute("role","toolbar");var B=this,z={};for(B.toolbar=p,x=0;x<p.length;x++)if(!(p[x].name=="guide"&&B.options.toolbarGuideIcon===!1)&&!(B.options.hideIcons&&B.options.hideIcons.indexOf(p[x].name)!=-1)&&!((p[x].name=="fullscreen"||p[x].name=="side-by-side")&&b())){if(p[x]==="|"){for(var X=!1,V=x+1;V<p.length;V++)p[V]!=="|"&&(!B.options.hideIcons||B.options.hideIcons.indexOf(p[V].name)==-1)&&(X=!0);if(!X)continue}(function($){var ke;if($==="|"?ke=Q():$.children?ke=W($,B.options.toolbarTips,B.options.shortcuts,B):ke=fe($,!0,B.options.toolbarTips,B.options.shortcuts,"button",B),z[$.name||$]=ke,_.appendChild(ke),$.name==="upload-image"){var _e=document.createElement("input");_e.className="imageInput",_e.type="file",_e.multiple=!0,_e.name=B.options.imageInputName,_e.accept=B.options.imageAccept,_e.style.display="none",_e.style.opacity=0,_.appendChild(_e)}})(p[x])}B.toolbar_div=_,B.toolbarElements=z;var H=this.codemirror;H.on("cursorActivity",function(){var $=ce(H);for(var ke in z)(function(_e){var Be=z[_e];$[_e]?Be.classList.add("active"):_e!="fullscreen"&&_e!="side-by-side"&&Be.classList.remove("active")})(ke)});var ne=H.getWrapperElement();return ne.parentNode.insertBefore(_,ne),_}},A.prototype.createStatusbar=function(p){p=p||this.options.status;var x=this.options,_=this.codemirror;if(!(!p||p.length===0)){var B=[],z,X,V,H;for(z=0;z<p.length;z++)if(X=void 0,V=void 0,H=void 0,typeof p[z]=="object")B.push({className:p[z].className,defaultValue:p[z].defaultValue,onUpdate:p[z].onUpdate,onActivity:p[z].onActivity});else{var ne=p[z];ne==="words"?(H=function(Se){Se.innerHTML=Ut(_.getValue())},X=function(Se){Se.innerHTML=Ut(_.getValue())}):ne==="lines"?(H=function(Se){Se.innerHTML=_.lineCount()},X=function(Se){Se.innerHTML=_.lineCount()}):ne==="cursor"?(H=function(Se){Se.innerHTML="1:1"},V=function(Se){var T=_.getCursor(),F=T.line+1,Y=T.ch+1;Se.innerHTML=F+":"+Y}):ne==="autosave"?H=function(Se){x.autosave!=null&&x.autosave.enabled===!0&&Se.setAttribute("id","autosaved")}:ne==="upload-image"&&(H=function(Se){Se.innerHTML=x.imageTexts.sbInit}),B.push({className:ne,defaultValue:H,onUpdate:X,onActivity:V})}var $=document.createElement("div");for($.className="editor-statusbar",z=0;z<B.length;z++){var ke=B[z],_e=document.createElement("span");_e.className=ke.className,typeof ke.defaultValue=="function"&&ke.defaultValue(_e),typeof ke.onUpdate=="function"&&this.codemirror.on("update",function(Se,T){return function(){T.onUpdate(Se)}}(_e,ke)),typeof ke.onActivity=="function"&&this.codemirror.on("cursorActivity",function(Se,T){return function(){T.onActivity(Se)}}(_e,ke)),$.appendChild(_e)}var Be=this.codemirror.getWrapperElement();return Be.parentNode.insertBefore($,Be.nextSibling),$}},A.prototype.value=function(p){var x=this.codemirror;if(p===void 0)return x.getValue();if(x.getDoc().setValue(p),this.isPreviewActive()){var _=x.getWrapperElement(),B=_.lastChild,z=this.options.previewRender(p,B);z!==null&&(B.innerHTML=z)}return this},A.toggleBold=te,A.toggleItalic=ee,A.toggleStrikethrough=ie,A.toggleBlockquote=de,A.toggleHeadingSmaller=we,A.toggleHeadingBigger=Me,A.toggleHeading1=ot,A.toggleHeading2=Ee,A.toggleHeading3=Ve,A.toggleHeading4=Je,A.toggleHeading5=it,A.toggleHeading6=G,A.toggleCodeBlock=ve,A.toggleUnorderedList=le,A.toggleOrderedList=M,A.cleanBlock=k,A.drawLink=E,A.drawImage=j,A.drawUploadedImage=C,A.drawTable=R,A.drawHorizontalRule=be,A.undo=he,A.redo=De,A.togglePreview=Pe,A.toggleSideBySide=He,A.toggleFullScreen=Z,A.prototype.toggleBold=function(){te(this)},A.prototype.toggleItalic=function(){ee(this)},A.prototype.toggleStrikethrough=function(){ie(this)},A.prototype.toggleBlockquote=function(){de(this)},A.prototype.toggleHeadingSmaller=function(){we(this)},A.prototype.toggleHeadingBigger=function(){Me(this)},A.prototype.toggleHeading1=function(){ot(this)},A.prototype.toggleHeading2=function(){Ee(this)},A.prototype.toggleHeading3=function(){Ve(this)},A.prototype.toggleHeading4=function(){Je(this)},A.prototype.toggleHeading5=function(){it(this)},A.prototype.toggleHeading6=function(){G(this)},A.prototype.toggleCodeBlock=function(){ve(this)},A.prototype.toggleUnorderedList=function(){le(this)},A.prototype.toggleOrderedList=function(){M(this)},A.prototype.cleanBlock=function(){k(this)},A.prototype.drawLink=function(){E(this)},A.prototype.drawImage=function(){j(this)},A.prototype.drawUploadedImage=function(){C(this)},A.prototype.drawTable=function(){R(this)},A.prototype.drawHorizontalRule=function(){be(this)},A.prototype.undo=function(){he(this)},A.prototype.redo=function(){De(this)},A.prototype.togglePreview=function(){Pe(this)},A.prototype.toggleSideBySide=function(){He(this)},A.prototype.toggleFullScreen=function(){Z(this)},A.prototype.isPreviewActive=function(){var p=this.codemirror,x=p.getWrapperElement(),_=x.lastChild;return _.classList.contains("editor-preview-active")},A.prototype.isSideBySideActive=function(){var p=this.codemirror,x=p.getWrapperElement(),_=x.nextSibling;return _.classList.contains("editor-preview-active-side")},A.prototype.isFullscreenActive=function(){var p=this.codemirror;return p.getOption("fullScreen")},A.prototype.getState=function(){var p=this.codemirror;return ce(p)},A.prototype.toTextArea=function(){var p=this.codemirror,x=p.getWrapperElement(),_=x.parentNode;_&&(this.gui.toolbar&&_.removeChild(this.gui.toolbar),this.gui.statusbar&&_.removeChild(this.gui.statusbar),this.gui.sideBySide&&_.removeChild(this.gui.sideBySide)),_.parentNode.insertBefore(x,_),_.remove(),p.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},uc=A,uc}var lx=sx();const ux=Th(lx);/*!
 * Viewer.js v1.11.7
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-11-24T04:32:19.116Z
 */function cx(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Vp(i,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,Lm(a.key),a)}}function hx(i,e,t){return e&&Vp(i.prototype,e),t&&Vp(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function fx(i,e,t){return(e=Lm(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Gp(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,a)}return t}function Lh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gp(Object(t),!0).forEach(function(a){fx(i,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Gp(Object(t)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(t,a))})}return i}function dx(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var a=t.call(i,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function Lm(i){var e=dx(i,"string");return typeof e=="symbol"?e:e+""}function Xc(i){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(i)}var $p={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},px='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Hl=typeof window<"u"&&typeof window.document<"u",or=Hl?window:{},Ia=Hl&&or.document.documentElement?"ontouchstart"in or.document.documentElement:!1,Mh=Hl?"PointerEvent"in or:!1,wt="viewer",cl="move",Mm="switch",zo="zoom",Xs="".concat(wt,"-active"),gx="".concat(wt,"-close"),hl="".concat(wt,"-fade"),Jc="".concat(wt,"-fixed"),mx="".concat(wt,"-fullscreen"),Kp="".concat(wt,"-fullscreen-exit"),Yr="".concat(wt,"-hide"),vx="".concat(wt,"-hide-md-down"),bx="".concat(wt,"-hide-sm-down"),yx="".concat(wt,"-hide-xs-down"),fi="".concat(wt,"-in"),Yo="".concat(wt,"-invisible"),Pa="".concat(wt,"-loading"),xx="".concat(wt,"-move"),Xp="".concat(wt,"-open"),Ea="".concat(wt,"-show"),sn="".concat(wt,"-transition"),qa="click",Zc="dblclick",Jp="dragstart",Zp="focusin",Qp="keydown",mi="load",Kr="error",wx=Ia?"touchend touchcancel":"mouseup",Dx=Ia?"touchmove":"mousemove",Cx=Ia?"touchstart":"mousedown",eg=Mh?"pointerdown":Cx,tg=Mh?"pointermove":Dx,ng=Mh?"pointerup pointercancel":wx,ig="resize",Ai="transitionend",rg="wheel",ag="ready",og="show",sg="shown",lg="hide",ug="hidden",cg="view",Qo="viewed",hg="move",fg="moved",dg="rotate",pg="rotated",gg="scale",mg="scaled",vg="zoom",bg="zoomed",yg="play",xg="stop",kl="".concat(wt,"Action"),Fh=/\s\s*/,Js=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function es(i){return typeof i=="string"}var kx=Number.isNaN||or.isNaN;function rn(i){return typeof i=="number"&&!kx(i)}function _a(i){return typeof i>"u"}function Va(i){return Xc(i)==="object"&&i!==null}var Ax=Object.prototype.hasOwnProperty;function Ra(i){if(!Va(i))return!1;try{var e=i.constructor,t=e.prototype;return e&&t&&Ax.call(t,"isPrototypeOf")}catch{return!1}}function Yt(i){return typeof i=="function"}function Gt(i,e){if(i&&Yt(e))if(Array.isArray(i)||rn(i.length)){var t=i.length,a;for(a=0;a<t&&e.call(i,i[a],a,i)!==!1;a+=1);}else Va(i)&&Object.keys(i).forEach(function(s){e.call(i,i[s],s,i)});return i}var li=Object.assign||function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];return Va(e)&&a.length>0&&a.forEach(function(c){Va(c)&&Object.keys(c).forEach(function(h){e[h]=c[h]})}),e},Sx=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Ei(i,e){var t=i.style;Gt(e,function(a,s){Sx.test(s)&&rn(a)&&(a+="px"),t[s]=a})}function Ex(i){return es(i)?i.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):i}function La(i,e){return!i||!e?!1:i.classList?i.classList.contains(e):i.className.indexOf(e)>-1}function ct(i,e){if(!(!i||!e)){if(rn(i.length)){Gt(i,function(a){ct(a,e)});return}if(i.classList){i.classList.add(e);return}var t=i.className.trim();t?t.indexOf(e)<0&&(i.className="".concat(t," ").concat(e)):i.className=e}}function Ot(i,e){if(!(!i||!e)){if(rn(i.length)){Gt(i,function(t){Ot(t,e)});return}if(i.classList){i.classList.remove(e);return}i.className.indexOf(e)>=0&&(i.className=i.className.replace(e,""))}}function ts(i,e,t){if(e){if(rn(i.length)){Gt(i,function(a){ts(a,e,t)});return}t?ct(i,e):Ot(i,e)}}var Tx=/([a-z\d])([A-Z])/g;function _h(i){return i.replace(Tx,"$1-$2").toLowerCase()}function Oa(i,e){return Va(i[e])?i[e]:i.dataset?i.dataset[e]:i.getAttribute("data-".concat(_h(e)))}function Qc(i,e,t){Va(t)?i[e]=t:i.dataset?i.dataset[e]=t:i.setAttribute("data-".concat(_h(e)),t)}var Fm=function(){var i=!1;if(Hl){var e=!1,t=function(){},a=Object.defineProperty({},"once",{get:function(){return i=!0,e},set:function(c){e=c}});or.addEventListener("test",t,a),or.removeEventListener("test",t,a)}return i}();function jt(i,e,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=t;e.trim().split(Fh).forEach(function(c){if(!Fm){var h=i.listeners;h&&h[c]&&h[c][t]&&(s=h[c][t],delete h[c][t],Object.keys(h[c]).length===0&&delete h[c],Object.keys(h).length===0&&delete i.listeners)}i.removeEventListener(c,s,a)})}function ft(i,e,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=t;e.trim().split(Fh).forEach(function(c){if(a.once&&!Fm){var h=i.listeners,g=h===void 0?{}:h;s=function(){delete g[c][t],i.removeEventListener(c,s,a);for(var D=arguments.length,L=new Array(D),N=0;N<D;N++)L[N]=arguments[N];t.apply(i,L)},g[c]||(g[c]={}),g[c][t]&&i.removeEventListener(c,g[c][t],a),g[c][t]=s,i.listeners=g}i.addEventListener(c,s,a)})}function hn(i,e,t,a){var s;return Yt(Event)&&Yt(CustomEvent)?s=new CustomEvent(e,Lh({bubbles:!0,cancelable:!0,detail:t},a)):(s=document.createEvent("CustomEvent"),s.initCustomEvent(e,!0,!0,t)),i.dispatchEvent(s)}function Lx(i){var e=i.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function fl(i){var e=i.rotate,t=i.scaleX,a=i.scaleY,s=i.translateX,c=i.translateY,h=[];rn(s)&&s!==0&&h.push("translateX(".concat(s,"px)")),rn(c)&&c!==0&&h.push("translateY(".concat(c,"px)")),rn(e)&&e!==0&&h.push("rotate(".concat(e,"deg)")),rn(t)&&t!==1&&h.push("scaleX(".concat(t,")")),rn(a)&&a!==1&&h.push("scaleY(".concat(a,")"));var g=h.length?h.join(" "):"none";return{WebkitTransform:g,msTransform:g,transform:g}}function Mx(i){return es(i)?decodeURIComponent(i.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var cc=or.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(or.navigator.userAgent);function _m(i,e,t){var a=document.createElement("img");if(i.naturalWidth&&!cc)return t(i.naturalWidth,i.naturalHeight),a;var s=document.body||document.documentElement;return a.onload=function(){t(a.width,a.height),cc||s.removeChild(a)},Gt(e.inheritedAttributes,function(c){var h=i.getAttribute(c);h!==null&&a.setAttribute(c,h)}),a.src=i.src,cc||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",s.appendChild(a)),a}function Zs(i){switch(i){case 2:return yx;case 3:return bx;case 4:return vx;default:return""}}function Fx(i){var e=Lh({},i),t=[];return Gt(i,function(a,s){delete e[s],Gt(e,function(c){var h=Math.abs(a.startX-c.startX),g=Math.abs(a.startY-c.startY),b=Math.abs(a.endX-c.endX),D=Math.abs(a.endY-c.endY),L=Math.sqrt(h*h+g*g),N=Math.sqrt(b*b+D*D),W=(N-L)/L;t.push(W)})}),t.sort(function(a,s){return Math.abs(a)<Math.abs(s)}),t[0]}function Qs(i,e){var t=i.pageX,a=i.pageY,s={endX:t,endY:a};return e?s:Lh({timeStamp:Date.now(),startX:t,startY:a},s)}function _x(i){var e=0,t=0,a=0;return Gt(i,function(s){var c=s.startX,h=s.startY;e+=c,t+=h,a+=1}),e/=a,t/=a,{pageX:e,pageY:t}}var Rx={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,t=e.body||e.documentElement;this.body=t,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=t.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(t).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,t=this.parent,a;e.inline&&(a={width:Math.max(t.offsetWidth,e.minWidth),height:Math.max(t.offsetHeight,e.minHeight)},this.parentData=a),(this.fulled||!a)&&(a=this.containerData),this.viewerData=li({},a)},renderViewer:function(){this.options.inline&&!this.fulled&&Ei(this.viewer,this.viewerData)},initList:function(){var e=this,t=this.element,a=this.options,s=this.list,c=[];s.innerHTML="",Gt(this.images,function(h,g){var b=h.src,D=h.alt||Mx(b),L=e.getImageURL(h);if(b||L){var N=document.createElement("li"),W=document.createElement("img");Gt(a.inheritedAttributes,function(fe){var Q=h.getAttribute(fe);Q!==null&&W.setAttribute(fe,Q)}),a.navbar&&(W.src=b||L),W.alt=D,W.setAttribute("data-original-url",L||b),N.setAttribute("data-index",g),N.setAttribute("data-viewer-action","view"),N.setAttribute("role","button"),a.keyboard&&N.setAttribute("tabindex",0),N.appendChild(W),s.appendChild(N),c.push(N)}}),this.items=c,Gt(c,function(h){var g=h.firstElementChild,b,D;Qc(g,"filled",!0),a.loading&&ct(h,Pa),ft(g,mi,b=function(N){jt(g,Kr,D),a.loading&&Ot(h,Pa),e.loadImage(N)},{once:!0}),ft(g,Kr,D=function(){jt(g,mi,b),a.loading&&Ot(h,Pa)},{once:!0})}),a.transition&&ft(t,Qo,function(){ct(s,sn)},{once:!0})},renderList:function(){var e=this.index,t=this.items[e];if(t){var a=t.nextElementSibling,s=parseInt(window.getComputedStyle(a||t).marginLeft,10),c=t.offsetWidth,h=c+s;Ei(this.list,li({width:h*this.length-s},fl({translateX:(this.viewerData.width-c)/2-h*e})))}},resetList:function(){var e=this.list;e.innerHTML="",Ot(e,sn),Ei(e,fl({translateX:0}))},initImage:function(e){var t=this,a=this.options,s=this.image,c=this.viewerData,h=this.footer.offsetHeight,g=c.width,b=Math.max(c.height-h,h),D=this.imageData||{},L;this.imageInitializing={abort:function(){L.onload=null}},L=_m(s,a,function(N,W){var fe=N/W,Q=Math.max(0,Math.min(1,a.initialCoverage)),ue=g,ce=b;t.imageInitializing=!1,b*fe>g?ce=g/fe:ue=b*fe,Q=rn(Q)?Q:.9,ue=Math.min(ue*Q,N),ce=Math.min(ce*Q,W);var ge=(g-ue)/2,Z=(b-ce)/2,te={left:ge,top:Z,x:ge,y:Z,width:ue,height:ce,oldRatio:1,ratio:ue/N,aspectRatio:fe,naturalWidth:N,naturalHeight:W},ee=li({},te);a.rotatable&&(te.rotate=D.rotate||0,ee.rotate=0),a.scalable&&(te.scaleX=D.scaleX||1,te.scaleY=D.scaleY||1,ee.scaleX=1,ee.scaleY=1),t.imageData=te,t.initialImageData=ee,e&&e()})},renderImage:function(e){var t=this,a=this.image,s=this.imageData;if(Ei(a,li({width:s.width,height:s.height,marginLeft:s.x,marginTop:s.y},fl(s))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&La(a,sn)){var c=function(){t.imageRendering=!1,e()};this.imageRendering={abort:function(){jt(a,Ai,c)}},ft(a,Ai,c,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},Ox={bind:function(){var e=this.options,t=this.viewer,a=this.canvas,s=this.element.ownerDocument;ft(t,qa,this.onClick=this.click.bind(this)),ft(t,Jp,this.onDragStart=this.dragstart.bind(this)),ft(a,eg,this.onPointerDown=this.pointerdown.bind(this)),ft(s,tg,this.onPointerMove=this.pointermove.bind(this)),ft(s,ng,this.onPointerUp=this.pointerup.bind(this)),ft(s,Qp,this.onKeyDown=this.keydown.bind(this)),ft(window,ig,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&ft(t,rg,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&ft(a,Zc,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,t=this.viewer,a=this.canvas,s=this.element.ownerDocument;jt(t,qa,this.onClick),jt(t,Jp,this.onDragStart),jt(a,eg,this.onPointerDown),jt(s,tg,this.onPointerMove),jt(s,ng,this.onPointerUp),jt(s,Qp,this.onKeyDown),jt(window,ig,this.onResize),e.zoomable&&e.zoomOnWheel&&jt(t,rg,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&jt(a,Zc,this.onDblclick)}},Nx={click:function(e){var t=this.options,a=this.imageData,s=e.target,c=Oa(s,kl);switch(!c&&s.localName==="img"&&s.parentElement.localName==="li"&&(s=s.parentElement,c=Oa(s,kl)),Ia&&e.isTrusted&&s===this.canvas&&clearTimeout(this.clickCanvasTimeout),c){case"mix":this.played?this.stop():t.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(Oa(s,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(t.loop);break;case"play":this.play(t.fullscreen);break;case"next":this.next(t.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-a.scaleX||-1);break;case"flip-vertical":this.scaleY(-a.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Ia&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var t=this.element,a=this.options,s=this.image,c=this.index,h=this.viewerData;Ot(s,Yo),a.loading&&Ot(this.canvas,Pa),s.style.cssText="height:0;"+"margin-left:".concat(h.width/2,"px;")+"margin-top:".concat(h.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){ts(s,xx,a.movable),ts(s,sn,a.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,Yt(a.viewed)&&ft(t,Qo,a.viewed,{once:!0}),hn(t,Qo,{originalImage:e.images[c],index:c,image:s},{cancelable:!1})})})},loadImage:function(e){var t=e.target,a=t.parentNode,s=a.offsetWidth||30,c=a.offsetHeight||50,h=!!Oa(t,"filled");_m(t,this.options,function(g,b){var D=g/b,L=s,N=c;c*D>s?h?L=c*D:N=s/D:h?N=s/D:L=c*D,Ei(t,li({width:L,height:N},fl({translateX:(s-L)/2,translateY:(c-N)/2})))})},keydown:function(e){var t=this.options;if(t.keyboard){var a=e.keyCode||e.which||e.charCode;switch(a){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(a){case 27:this.played?this.stop():t.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(t.loop);break;case 38:e.preventDefault(),this.zoom(t.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(t.loop);break;case 40:e.preventDefault(),this.zoom(-t.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var t=this.options,a=this.pointers,s=e.buttons,c=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(rn(s)&&s!==1||rn(c)&&c!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?Gt(e.changedTouches,function(g){a[g.identifier]=Qs(g)}):a[e.pointerId||0]=Qs(e);var h=t.movable?cl:!1;t.zoomOnTouch&&t.zoomable&&Object.keys(a).length>1?h=zo:t.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(h=Mm),t.transition&&(h===cl||h===zo)&&Ot(this.image,sn),this.action=h}},pointermove:function(e){var t=this.pointers,a=this.action;!this.viewed||!a||(e.preventDefault(),e.changedTouches?Gt(e.changedTouches,function(s){li(t[s.identifier]||{},Qs(s,!0))}):li(t[e.pointerId||0]||{},Qs(e,!0)),this.change(e))},pointerup:function(e){var t=this,a=this.options,s=this.action,c=this.pointers,h;e.changedTouches?Gt(e.changedTouches,function(g){h=c[g.identifier],delete c[g.identifier]}):(h=c[e.pointerId||0],delete c[e.pointerId||0]),s&&(e.preventDefault(),a.transition&&(s===cl||s===zo)&&ct(this.image,sn),this.action=!1,Ia&&s!==zo&&h&&Date.now()-h.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),a.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){hn(t.image,Zc,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){t.imageClicked=!1},500)):(this.imageClicked=!1,a.backdrop&&a.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){hn(t.canvas,qa,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}Gt(this.player.getElementsByTagName("img"),function(t){ft(t,mi,e.loadImage.bind(e),{once:!0}),hn(t,mi)})}},wheel:function(e){var t=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50);var a=Number(this.options.zoomRatio)||.1,s=1;e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*a,!0,null,e)}}},Ix={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.element,a=this.options;if(a.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(Yt(a.show)&&ft(t,og,a.show,{once:!0}),hn(t,og)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var s=this.viewer;if(Ot(s,Yr),s.setAttribute("role","dialog"),s.setAttribute("aria-labelledby",this.title.id),s.setAttribute("aria-modal",!0),s.removeAttribute("aria-hidden"),a.transition&&!e){var c=this.shown.bind(this);this.transitioning={abort:function(){jt(s,Ai,c),Ot(s,fi)}},ct(s,sn),s.initialOffsetWidth=s.offsetWidth,ft(s,Ai,c,{once:!0}),ct(s,fi)}else ct(s,fi),this.shown();return this},hide:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=this.element,s=this.options;if(s.inline||this.hiding||!(this.isShown||this.showing))return this;if(Yt(s.hide)&&ft(a,lg,s.hide,{once:!0}),hn(a,lg)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var c=this.viewer,h=this.image,g=function(){Ot(c,fi),e.hidden()};if(s.transition&&!t){var b=function(N){N&&N.target===c&&(jt(c,Ai,b),e.hidden())},D=function(){La(c,sn)?(ft(c,Ai,b),Ot(c,fi)):g()};this.transitioning={abort:function(){e.viewed&&La(h,sn)?jt(h,Ai,D):La(c,sn)&&jt(c,Ai,b)}},this.viewed&&La(h,sn)?(ft(h,Ai,D,{once:!0}),this.zoomTo(0,!1,null,null,!0)):D()}else g();return this},view:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(t=Number(t)||0,this.hiding||this.played||t<0||t>=this.length||this.viewed&&t===this.index)return this;if(!this.isShown)return this.index=t,this.show();this.viewing&&this.viewing.abort();var a=this.element,s=this.options,c=this.title,h=this.canvas,g=this.items[t],b=g.querySelector("img"),D=Oa(b,"originalUrl"),L=b.getAttribute("alt"),N=document.createElement("img");if(Gt(s.inheritedAttributes,function(ce){var ge=b.getAttribute(ce);ge!==null&&N.setAttribute(ce,ge)}),N.src=D,N.alt=L,Yt(s.view)&&ft(a,cg,s.view,{once:!0}),hn(a,cg,{originalImage:this.images[t],index:t,image:N})===!1||!this.isShown||this.hiding||this.played)return this;var W=this.items[this.index];W&&(Ot(W,Xs),W.removeAttribute("aria-selected")),ct(g,Xs),g.setAttribute("aria-selected",!0),s.focus&&g.focus(),this.image=N,this.viewed=!1,this.index=t,this.imageData={},ct(N,Yo),s.loading&&ct(h,Pa),h.innerHTML="",h.appendChild(N),this.renderList(),c.innerHTML="";var fe=function(){var ge=e.imageData,Z=Array.isArray(s.title)?s.title[1]:s.title;c.innerHTML=Ex(Yt(Z)?Z.call(e,N,ge):"".concat(L," (").concat(ge.naturalWidth," × ").concat(ge.naturalHeight,")"))},Q,ue;return ft(a,Qo,fe,{once:!0}),this.viewing={abort:function(){jt(a,Qo,fe),N.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(N.src="",jt(N,mi,Q),e.timeout&&clearTimeout(e.timeout))}},N.complete?this.load():(ft(N,mi,Q=function(){jt(N,Kr,ue),e.load()},{once:!0}),ft(N,Kr,ue=function(){jt(N,mi,Q),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),Ot(N,Yo),s.loading&&Ot(e.canvas,Pa)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Ot(N,Yo),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.index-1;return t<0&&(t=e?this.length-1:0),this.view(t),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.length-1,a=this.index+1;return a>t&&(a=e?0:t),this.view(a),this},move:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=this.imageData;return this.moveTo(_a(e)?e:a.x+Number(e),_a(t)?t:a.y+Number(t)),this},moveTo:function(e){var t=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=this.element,h=this.options,g=this.imageData;if(e=Number(e),a=Number(a),this.viewed&&!this.played&&h.movable){var b=g.x,D=g.y,L=!1;if(rn(e)?L=!0:e=b,rn(a)?L=!0:a=D,L){if(Yt(h.move)&&ft(c,hg,h.move,{once:!0}),hn(c,hg,{x:e,y:a,oldX:b,oldY:D,originalEvent:s})===!1)return this;g.x=e,g.y=a,g.left=e,g.top=a,this.moving=!0,this.renderImage(function(){t.moving=!1,Yt(h.moved)&&ft(c,fg,h.moved,{once:!0}),hn(c,fg,{x:e,y:a,oldX:b,oldY:D,originalEvent:s},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var t=this,a=this.element,s=this.options,c=this.imageData;if(e=Number(e),rn(e)&&this.viewed&&!this.played&&s.rotatable){var h=c.rotate;if(Yt(s.rotate)&&ft(a,dg,s.rotate,{once:!0}),hn(a,dg,{degree:e,oldDegree:h})===!1)return this;c.rotate=e,this.rotating=!0,this.renderImage(function(){t.rotating=!1,Yt(s.rotated)&&ft(a,pg,s.rotated,{once:!0}),hn(a,pg,{degree:e,oldDegree:h},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var t=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,s=this.element,c=this.options,h=this.imageData;if(e=Number(e),a=Number(a),this.viewed&&!this.played&&c.scalable){var g=h.scaleX,b=h.scaleY,D=!1;if(rn(e)?D=!0:e=g,rn(a)?D=!0:a=b,D){if(Yt(c.scale)&&ft(s,gg,c.scale,{once:!0}),hn(s,gg,{scaleX:e,scaleY:a,oldScaleX:g,oldScaleY:b})===!1)return this;h.scaleX=e,h.scaleY=a,this.scaling=!0,this.renderImage(function(){t.scaling=!1,Yt(c.scaled)&&ft(s,mg,c.scaled,{once:!0}),hn(s,mg,{scaleX:e,scaleY:a,oldScaleX:g,oldScaleY:b},{cancelable:!1})})}}return this},zoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,c=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(c.width*e/c.naturalWidth,t,a,s),this},zoomTo:function(e){var t=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,g=this.element,b=this.options,D=this.pointers,L=this.imageData,N=L.x,W=L.y,fe=L.width,Q=L.height,ue=L.naturalWidth,ce=L.naturalHeight;if(e=Math.max(0,e),rn(e)&&this.viewed&&!this.played&&(h||b.zoomable)){if(!h){var ge=Math.max(.01,b.minZoomRatio),Z=Math.min(100,b.maxZoomRatio);e=Math.min(Math.max(e,ge),Z)}if(c)switch(c.type){case"wheel":b.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var te=ue*e,ee=ce*e,ie=te-fe,ve=ee-Q,de=L.ratio;if(Yt(b.zoom)&&ft(g,vg,b.zoom,{once:!0}),hn(g,vg,{ratio:e,oldRatio:de,originalEvent:c})===!1)return this;if(this.zooming=!0,c){var we=Lx(this.viewer),Me=D&&Object.keys(D).length>0?_x(D):{pageX:c.pageX,pageY:c.pageY};L.x-=ie*((Me.pageX-we.left-N)/fe),L.y-=ve*((Me.pageY-we.top-W)/Q)}else Ra(s)&&rn(s.x)&&rn(s.y)?(L.x-=ie*((s.x-N)/fe),L.y-=ve*((s.y-W)/Q)):(L.x-=ie/2,L.y-=ve/2);L.left=L.x,L.top=L.y,L.width=te,L.height=ee,L.oldRatio=de,L.ratio=e,this.renderImage(function(){t.zooming=!1,Yt(b.zoomed)&&ft(g,bg,b.zoomed,{once:!0}),hn(g,bg,{ratio:e,oldRatio:de,originalEvent:c},{cancelable:!1})}),a&&this.tooltip()}return this},play:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var a=this.element,s=this.options;if(Yt(s.play)&&ft(a,yg,s.play,{once:!0}),hn(a,yg)===!1)return this;var c=this.player,h=this.loadImage.bind(this),g=[],b=0,D=0;if(this.played=!0,this.onLoadWhenPlay=h,t&&this.requestFullscreen(t),ct(c,Ea),Gt(this.items,function(W,fe){var Q=W.querySelector("img"),ue=document.createElement("img");ue.src=Oa(Q,"originalUrl"),ue.alt=Q.getAttribute("alt"),ue.referrerPolicy=Q.referrerPolicy,b+=1,ct(ue,hl),ts(ue,sn,s.transition),La(W,Xs)&&(ct(ue,fi),D=fe),g.push(ue),ft(ue,mi,h,{once:!0}),c.appendChild(ue)}),rn(s.interval)&&s.interval>0){var L=function(){clearTimeout(e.playing.timeout),Ot(g[D],fi),D-=1,D=D>=0?D:b-1,ct(g[D],fi),e.playing.timeout=setTimeout(L,s.interval)},N=function(){clearTimeout(e.playing.timeout),Ot(g[D],fi),D+=1,D=D<b?D:0,ct(g[D],fi),e.playing.timeout=setTimeout(N,s.interval)};b>1&&(this.playing={prev:L,next:N,timeout:setTimeout(N,s.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var t=this.element,a=this.options;if(Yt(a.stop)&&ft(t,xg,a.stop,{once:!0}),hn(t,xg)===!1)return this;var s=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,Gt(s.getElementsByTagName("img"),function(c){jt(c,mi,e.onLoadWhenPlay)}),Ot(s,Ea),s.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,t=this.options,a=this.viewer,s=this.image,c=this.list;return!this.isShown||this.played||this.fulled||!t.inline?this:(this.fulled=!0,this.open(),ct(this.button,Kp),t.transition&&(Ot(c,sn),this.viewed&&Ot(s,sn)),ct(a,Jc),a.setAttribute("role","dialog"),a.setAttribute("aria-labelledby",this.title.id),a.setAttribute("aria-modal",!0),a.removeAttribute("style"),Ei(a,{zIndex:t.zIndex}),t.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=li({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){ct(s,sn),ct(c,sn)},0)})}),this)},exit:function(){var e=this,t=this.options,a=this.viewer,s=this.image,c=this.list;return!this.isShown||this.played||!this.fulled||!t.inline?this:(this.fulled=!1,this.close(),Ot(this.button,Kp),t.transition&&(Ot(c,sn),this.viewed&&Ot(s,sn)),t.focus&&this.clearEnforceFocus(),a.removeAttribute("role"),a.removeAttribute("aria-labelledby"),a.removeAttribute("aria-modal"),Ot(a,Jc),Ei(a,{zIndex:t.zIndexInline}),this.viewerData=li({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){ct(s,sn),ct(c,sn)},0)})}),this)},tooltip:function(){var e=this,t=this.options,a=this.tooltipBox,s=this.imageData;return!this.viewed||this.played||!t.tooltip?this:(a.textContent="".concat(Math.round(s.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):t.transition?(this.fading&&hn(a,Ai),ct(a,Ea),ct(a,hl),ct(a,sn),a.removeAttribute("aria-hidden"),a.initialOffsetWidth=a.offsetWidth,ct(a,fi)):(ct(a,Ea),a.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){t.transition?(ft(a,Ai,function(){Ot(a,Ea),Ot(a,hl),Ot(a,sn),a.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),Ot(a,fi),e.fading=!0):(Ot(a,Ea),a.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=li({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,t=this.element,a=this.options,s=this.isImg;if(s&&!t.parentNode)return this.destroy();var c=[];if(Gt(s?[t]:t.querySelectorAll("img"),function(D){Yt(a.filter)?a.filter.call(e,D)&&c.push(D):e.getImageURL(D)&&c.push(D)}),!c.length)return this;if(this.images=c,this.length=c.length,this.ready){var h=[];if(Gt(this.items,function(D,L){var N=D.querySelector("img"),W=c[L];W&&N?(W.src!==N.src||W.alt!==N.alt)&&h.push(L):h.push(L)}),Ei(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var g=h.indexOf(this.index);if(g>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-g,this.length-1),0));else{var b=this.items[this.index];ct(b,Xs),b.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,t=this.options;return e[wt]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),t.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):t.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),t.inline||jt(e,qa,this.onStart),e[wt]=void 0,this):this}},Px={getImageURL:function(e){var t=this.options.url;return es(t)?t=e.getAttribute(t):Yt(t)?t=t.call(this,e):t="",t},enforceFocus:function(){var e=this;this.clearEnforceFocus(),ft(document,Zp,this.onFocusin=function(t){var a=e.viewer,s=t.target;if(!(s===document||s===a||a.contains(s))){for(;s;){if(s.getAttribute("tabindex")!==null||s.getAttribute("aria-modal")==="true")return;s=s.parentElement}a.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(jt(document,Zp,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;ct(e,Xp),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;Ot(e,Xp),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,t=this.options,a=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,t.focus&&(a.focus(),this.enforceFocus()),Yt(t.shown)&&ft(e,sg,t.shown,{once:!0}),hn(e,sg)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,t=this.options,a=this.viewer;t.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),ct(a,Yr),a.removeAttribute("role"),a.removeAttribute("aria-labelledby"),a.removeAttribute("aria-modal"),a.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(Yt(t.hidden)&&ft(e,ug,t.hidden,{once:!0}),hn(e,ug,null,{cancelable:!1}))},requestFullscreen:function(e){var t=this.element.ownerDocument;if(this.fulled&&!(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)){var a=t.documentElement;a.requestFullscreen?Ra(e)?a.requestFullscreen(e):a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var t=this.options,a=this.pointers,s=a[Object.keys(a)[0]];if(s){var c=s.endX-s.startX,h=s.endY-s.startY;switch(this.action){case cl:(c!==0||h!==0)&&(this.pointerMoved=!0,this.move(c,h,e));break;case zo:this.zoom(Fx(a),!1,null,e);break;case Mm:{this.action="switched";var g=Math.abs(c);g>1&&g>Math.abs(h)&&(this.pointers={},c>1?this.prev(t.loop):c<-1&&this.next(t.loop));break}}Gt(a,function(b){b.startX=b.endX,b.startY=b.endY})}},isSwitchable:function(){var e=this.imageData,t=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=t.width&&e.height<=t.height}},Bx=or.Viewer,Hx=function(i){return function(){return i+=1,i}}(-1),Rh=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(cx(this,i),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=li({},$p,Ra(t)&&t),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=Hx(),this.init()}return hx(i,[{key:"init",value:function(){var t=this,a=this.element,s=this.options;if(!a[wt]){a[wt]=this,s.focus&&!s.keyboard&&(s.focus=!1);var c=a.localName==="img",h=[];if(Gt(c?[a]:a.querySelectorAll("img"),function(D){Yt(s.filter)?s.filter.call(t,D)&&h.push(D):t.getImageURL(D)&&h.push(D)}),this.isImg=c,this.length=h.length,this.images=h,this.initBody(),_a(document.createElement(wt).style.transition)&&(s.transition=!1),s.inline){var g=0,b=function(){if(g+=1,g===t.length){var L;t.initializing=!1,t.delaying={abort:function(){clearTimeout(L)}},L=setTimeout(function(){t.delaying=!1,t.build()},0)}};this.initializing={abort:function(){Gt(h,function(L){L.complete||(jt(L,mi,b),jt(L,Kr,b))})}},Gt(h,function(D){if(D.complete)b();else{var L,N;ft(D,mi,L=function(){jt(D,Kr,N),b()},{once:!0}),ft(D,Kr,N=function(){jt(D,mi,L),b()},{once:!0})}})}else ft(a,qa,this.onStart=function(D){var L=D.target;L.localName==="img"&&(!Yt(s.filter)||s.filter.call(t,L))&&t.view(t.images.indexOf(L))})}}},{key:"build",value:function(){if(!this.ready){var t=this.element,a=this.options,s=t.parentNode,c=document.createElement("div");c.innerHTML=px;var h=c.querySelector(".".concat(wt,"-container")),g=h.querySelector(".".concat(wt,"-title")),b=h.querySelector(".".concat(wt,"-toolbar")),D=h.querySelector(".".concat(wt,"-navbar")),L=h.querySelector(".".concat(wt,"-button")),N=h.querySelector(".".concat(wt,"-canvas"));if(this.parent=s,this.viewer=h,this.title=g,this.toolbar=b,this.navbar=D,this.button=L,this.canvas=N,this.footer=h.querySelector(".".concat(wt,"-footer")),this.tooltipBox=h.querySelector(".".concat(wt,"-tooltip")),this.player=h.querySelector(".".concat(wt,"-player")),this.list=h.querySelector(".".concat(wt,"-list")),h.id="".concat(wt).concat(this.id),g.id="".concat(wt,"Title").concat(this.id),ct(g,a.title?Zs(Array.isArray(a.title)?a.title[0]:a.title):Yr),ct(D,a.navbar?Zs(a.navbar):Yr),ts(L,Yr,!a.button),a.keyboard&&L.setAttribute("tabindex",0),a.backdrop&&(ct(h,"".concat(wt,"-backdrop")),!a.inline&&a.backdrop!=="static"&&Qc(N,kl,"hide")),es(a.className)&&a.className&&a.className.split(Fh).forEach(function(te){ct(h,te)}),a.toolbar){var W=document.createElement("ul"),fe=Ra(a.toolbar),Q=Js.slice(0,3),ue=Js.slice(7,9),ce=Js.slice(9);fe||ct(b,Zs(a.toolbar)),Gt(fe?a.toolbar:Js,function(te,ee){var ie=fe&&Ra(te),ve=fe?_h(ee):te,de=ie&&!_a(te.show)?te.show:te;if(!(!de||!a.zoomable&&Q.indexOf(ve)!==-1||!a.rotatable&&ue.indexOf(ve)!==-1||!a.scalable&&ce.indexOf(ve)!==-1)){var we=ie&&!_a(te.size)?te.size:te,Me=ie&&!_a(te.click)?te.click:te,ot=document.createElement("li");a.keyboard&&ot.setAttribute("tabindex",0),ot.setAttribute("role","button"),ct(ot,"".concat(wt,"-").concat(ve)),Yt(Me)||Qc(ot,kl,ve),rn(de)&&ct(ot,Zs(de)),["small","large"].indexOf(we)!==-1?ct(ot,"".concat(wt,"-").concat(we)):ve==="play"&&ct(ot,"".concat(wt,"-large")),Yt(Me)&&ft(ot,qa,Me),W.appendChild(ot)}}),b.appendChild(W)}else ct(b,Yr);if(!a.rotatable){var ge=b.querySelectorAll('li[class*="rotate"]');ct(ge,Yo),Gt(ge,function(te){b.appendChild(te)})}if(a.inline)ct(L,mx),Ei(h,{zIndex:a.zIndexInline}),window.getComputedStyle(s).position==="static"&&Ei(s,{position:"relative"}),s.insertBefore(h,t.nextSibling);else{ct(L,gx),ct(h,Jc),ct(h,hl),ct(h,Yr),Ei(h,{zIndex:a.zIndex});var Z=a.container;es(Z)&&(Z=t.ownerDocument.querySelector(Z)),Z||(Z=this.body),Z.appendChild(h)}if(a.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,Yt(a.ready)&&ft(t,ag,a.ready,{once:!0}),hn(t,ag)===!1){this.ready=!1;return}this.ready&&a.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=Bx,i}},{key:"setDefaults",value:function(t){li($p,Ra(t)&&t)}}])}();li(Rh.prototype,Rx,Ox,Nx,Ix,Px);var hc={exports:{}};/*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr */var wg;function Wx(){return wg||(wg=1,function(i,e){(function(t,a){i.exports=a()})(self,()=>(()=>{var t={d:(le,M)=>{for(var k in M)t.o(M,k)&&!t.o(le,k)&&Object.defineProperty(le,k,{enumerable:!0,get:M[k]})},o:(le,M)=>Object.prototype.hasOwnProperty.call(le,M),r:le=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(le,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(le,"__esModule",{value:!0})}},a={};t.d(a,{default:()=>it});var s={};function c(le,M,k,E,j={}){M instanceof HTMLCollection||M instanceof NodeList?M=Array.from(M):Array.isArray(M)||(M=[M]),Array.isArray(k)||(k=[k]);for(const I of M)for(const C of k)I[le](C,E,{capture:!1,...j});return Array.prototype.slice.call(arguments,1)}t.r(s),t.d(s,{adjustableInputNumbers:()=>W,createElementFromString:()=>b,createFromTemplate:()=>D,eventPath:()=>L,off:()=>g,on:()=>h,resolveElement:()=>N});const h=c.bind(null,"addEventListener"),g=c.bind(null,"removeEventListener");function b(le){const M=document.createElement("div");return M.innerHTML=le.trim(),M.firstElementChild}function D(le){const M=(E,j)=>{const I=E.getAttribute(j);return E.removeAttribute(j),I},k=(E,j={})=>{const I=M(E,":obj"),C=M(E,":ref"),v=I?j[I]={}:j;C&&(j[C]=E);for(const R of Array.from(E.children)){const be=M(R,":arr"),he=k(R,be?{}:v);be&&(v[be]||(v[be]=[])).push(Object.keys(he).length?he:R)}return j};return k(b(le))}function L(le){let M=le.path||le.composedPath&&le.composedPath();if(M)return M;let k=le.target.parentElement;for(M=[le.target,k];k=k.parentElement;)M.push(k);return M.push(document,window),M}function N(le){return le instanceof Element?le:typeof le=="string"?le.split(/>>/g).reduce((M,k,E,j)=>(M=M.querySelector(k),E<j.length-1?M.shadowRoot:M),document):null}function W(le,M=k=>k){function k(E){const j=[.001,.01,.1][Number(E.shiftKey||2*E.ctrlKey)]*(E.deltaY<0?1:-1);let I=0,C=le.selectionStart;le.value=le.value.replace(/[\d.]+/g,(v,R)=>R<=C&&R+v.length>=C?(C=R,M(Number(v),j,I)):(I++,v)),le.focus(),le.setSelectionRange(C,C),E.preventDefault(),le.dispatchEvent(new Event("input"))}h(le,"focus",()=>h(window,"wheel",k,{passive:!1})),h(le,"blur",()=>g(window,"wheel",k))}const{min:fe,max:Q,floor:ue,round:ce}=Math;function ge(le,M,k){M/=100,k/=100;const E=ue(le=le/360*6),j=le-E,I=k*(1-M),C=k*(1-j*M),v=k*(1-(1-j)*M),R=E%6;return[255*[k,C,I,I,v,k][R],255*[v,k,k,C,I,I][R],255*[I,I,v,k,k,C][R]]}function Z(le,M,k){const E=(2-(M/=100))*(k/=100)/2;return E!==0&&(M=E===1?0:E<.5?M*k/(2*E):M*k/(2-2*E)),[le,100*M,100*E]}function te(le,M,k){const E=fe(le/=255,M/=255,k/=255),j=Q(le,M,k),I=j-E;let C,v;if(I===0)C=v=0;else{v=I/j;const R=((j-le)/6+I/2)/I,be=((j-M)/6+I/2)/I,he=((j-k)/6+I/2)/I;le===j?C=he-be:M===j?C=1/3+R-he:k===j&&(C=2/3+be-R),C<0?C+=1:C>1&&(C-=1)}return[360*C,100*v,100*j]}function ee(le,M,k,E){return M/=100,k/=100,[...te(255*(1-fe(1,(le/=100)*(1-(E/=100))+E)),255*(1-fe(1,M*(1-E)+E)),255*(1-fe(1,k*(1-E)+E)))]}function ie(le,M,k){M/=100;const E=2*(M*=(k/=100)<.5?k:1-k)/(k+M)*100,j=100*(k+M);return[le,isNaN(E)?0:E,j]}function ve(le){return te(...le.match(/.{2}/g).map(M=>parseInt(M,16)))}function de(le){le=le.match(/^[a-zA-Z]+$/)?function(j){if(j.toLowerCase()==="black")return"#000";const I=document.createElement("canvas").getContext("2d");return I.fillStyle=j,I.fillStyle==="#000"?null:I.fillStyle}(le):le;const M={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},k=j=>j.map(I=>/^(|\d+)\.\d+|\d+$/.test(I)?Number(I):void 0);let E;e:for(const j in M)if(E=M[j].exec(le))switch(j){case"cmyk":{const[,I,C,v,R]=k(E);if(I>100||C>100||v>100||R>100)break e;return{values:ee(I,C,v,R),type:j}}case"rgba":{let[,I,,C,,v,,,R]=k(E);if(I=E[2]==="%"?I/100*255:I,C=E[4]==="%"?C/100*255:C,v=E[6]==="%"?v/100*255:v,R=E[9]==="%"?R/100:R,I>255||C>255||v>255||R<0||R>1)break e;return{values:[...te(I,C,v),R],a:R,type:j}}case"hexa":{let[,I]=E;I.length!==4&&I.length!==3||(I=I.split("").map(R=>R+R).join(""));const C=I.substring(0,6);let v=I.substring(6);return v=v?parseInt(v,16)/255:void 0,{values:[...ve(C),v],a:v,type:j}}case"hsla":{let[,I,C,v,,R]=k(E);if(R=E[6]==="%"?R/100:R,I>360||C>100||v>100||R<0||R>1)break e;return{values:[...ie(I,C,v),R],a:R,type:j}}case"hsva":{let[,I,C,v,,R]=k(E);if(R=E[6]==="%"?R/100:R,I>360||C>100||v>100||R<0||R>1)break e;return{values:[I,C,v,R],a:R,type:j}}}return{values:null,type:null}}function we(le=0,M=0,k=0,E=1){const j=(C,v)=>(R=-1)=>v(~R?C.map(be=>Number(be.toFixed(R))):C),I={h:le,s:M,v:k,a:E,toHSVA(){const C=[I.h,I.s,I.v,I.a];return C.toString=j(C,v=>`hsva(${v[0]}, ${v[1]}%, ${v[2]}%, ${I.a})`),C},toHSLA(){const C=[...Z(I.h,I.s,I.v),I.a];return C.toString=j(C,v=>`hsla(${v[0]}, ${v[1]}%, ${v[2]}%, ${I.a})`),C},toRGBA(){const C=[...ge(I.h,I.s,I.v),I.a];return C.toString=j(C,v=>`rgba(${v[0]}, ${v[1]}, ${v[2]}, ${I.a})`),C},toCMYK(){const C=function(v,R,be){const he=ge(v,R,be),De=he[0]/255,He=he[1]/255,Pe=he[2]/255,Ue=fe(1-De,1-He,1-Pe);return[100*(Ue===1?0:(1-De-Ue)/(1-Ue)),100*(Ue===1?0:(1-He-Ue)/(1-Ue)),100*(Ue===1?0:(1-Pe-Ue)/(1-Ue)),100*Ue]}(I.h,I.s,I.v);return C.toString=j(C,v=>`cmyk(${v[0]}%, ${v[1]}%, ${v[2]}%, ${v[3]}%)`),C},toHEXA(){const C=function(R,be,he){return ge(R,be,he).map(De=>ce(De).toString(16).padStart(2,"0"))}(I.h,I.s,I.v),v=I.a>=1?"":Number((255*I.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return v&&C.push(v),C.toString=()=>`#${C.join("").toUpperCase()}`,C},clone:()=>we(I.h,I.s,I.v,I.a)};return I}const Me=le=>Math.max(Math.min(le,1),0);function ot(le){const M={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},le),_keyboard(I){const{options:C}=M,{type:v,key:R}=I;if(document.activeElement===C.wrapper){const{lock:be}=M.options,he=R==="ArrowUp",De=R==="ArrowRight",He=R==="ArrowDown",Pe=R==="ArrowLeft";if(v==="keydown"&&(he||De||He||Pe)){let Ue=0,$e=0;be==="v"?Ue=he||De?1:-1:be==="h"?Ue=he||De?-1:1:($e=he?-1:He?1:0,Ue=Pe?-1:De?1:0),M.update(Me(M.cache.x+.01*Ue),Me(M.cache.y+.01*$e)),I.preventDefault()}else R.startsWith("Arrow")&&(M.options.onstop(),I.preventDefault())}},_tapstart(I){h(document,["mouseup","touchend","touchcancel"],M._tapstop),h(document,["mousemove","touchmove"],M._tapmove),I.cancelable&&I.preventDefault(),M._tapmove(I)},_tapmove(I){const{options:C,cache:v}=M,{lock:R,element:be,wrapper:he}=C,De=he.getBoundingClientRect();let He=0,Pe=0;if(I){const rt=I&&I.touches&&I.touches[0];He=I?(rt||I).clientX:0,Pe=I?(rt||I).clientY:0,He<De.left?He=De.left:He>De.left+De.width&&(He=De.left+De.width),Pe<De.top?Pe=De.top:Pe>De.top+De.height&&(Pe=De.top+De.height),He-=De.left,Pe-=De.top}else v&&(He=v.x*De.width,Pe=v.y*De.height);R!=="h"&&(be.style.left=`calc(${He/De.width*100}% - ${be.offsetWidth/2}px)`),R!=="v"&&(be.style.top=`calc(${Pe/De.height*100}% - ${be.offsetHeight/2}px)`),M.cache={x:He/De.width,y:Pe/De.height};const Ue=Me(He/De.width),$e=Me(Pe/De.height);switch(R){case"v":return C.onchange(Ue);case"h":return C.onchange($e);default:return C.onchange(Ue,$e)}},_tapstop(){M.options.onstop(),g(document,["mouseup","touchend","touchcancel"],M._tapstop),g(document,["mousemove","touchmove"],M._tapmove)},trigger(){M._tapmove()},update(I=0,C=0){const{left:v,top:R,width:be,height:he}=M.options.wrapper.getBoundingClientRect();M.options.lock==="h"&&(C=I),M._tapmove({clientX:v+be*I,clientY:R+he*C})},destroy(){const{options:I,_tapstart:C,_keyboard:v}=M;g(document,["keydown","keyup"],v),g([I.wrapper,I.element],"mousedown",C),g([I.wrapper,I.element],"touchstart",C,{passive:!1})}},{options:k,_tapstart:E,_keyboard:j}=M;return h([k.wrapper,k.element],"mousedown",E),h([k.wrapper,k.element],"touchstart",E,{passive:!1}),h(document,["keydown","keyup"],j),M}function Ee(le={}){le=Object.assign({onchange:()=>0,className:"",elements:[]},le);const M=h(le.elements,"click",k=>{le.elements.forEach(E=>E.classList[k.target===E?"add":"remove"](le.className)),le.onchange(k),k.stopPropagation()});return{destroy:()=>g(...M)}}const Ve={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},Je=(le,M,k)=>{const E=typeof le!="object"||le instanceof HTMLElement?{reference:le,popper:M,...k}:le;return{update(j=E){const{reference:I,popper:C}=Object.assign(E,j);if(!C||!I)throw new Error("Popper- or reference-element missing.");return((v,R,be)=>{const{container:he,arrow:De,margin:He,padding:Pe,position:Ue,variantFlipOrder:$e,positionFlipOrder:rt}={container:document.documentElement.getBoundingClientRect(),...Ve,...be},{left:ht,top:yt}=R.style;R.style.left="0",R.style.top="0";const Le=v.getBoundingClientRect(),xt=R.getBoundingClientRect(),At={t:Le.top-xt.height-He,b:Le.bottom+He,r:Le.right+He,l:Le.left-xt.width-He},Dt={vs:Le.left,vm:Le.left+Le.width/2-xt.width/2,ve:Le.left+Le.width-xt.width,hs:Le.top,hm:Le.bottom-Le.height/2-xt.height/2,he:Le.bottom-xt.height},[Ut,Ye="middle"]=Ue.split("-"),_t=rt[Ut],qt=$e[Ye],{top:en,left:oe,bottom:se,right:K}=he;for(const S of _t){const A=S==="t"||S==="b";let U=At[S];const[p,x]=A?["top","left"]:["left","top"],[_,B]=A?[xt.height,xt.width]:[xt.width,xt.height],[z,X]=A?[se,K]:[K,se],[V,H]=A?[en,oe]:[oe,en];if(!(U<V||U+_+Pe>z))for(const ne of qt){let $=Dt[(A?"v":"h")+ne];if(!($<H||$+B+Pe>X)){if($-=xt[x],U-=xt[p],R.style[x]=`${$}px`,R.style[p]=`${U}px`,De){const ke=A?Le.width/2:Le.height/2,_e=B/2,Be=ke>_e,Se=$+{s:Be?_e:ke,m:_e,e:Be?_e:B-ke}[ne],T=U+{t:_,b:0,r:0,l:_}[S];De.style[x]=`${Se}px`,De.style[p]=`${T}px`}return S+ne}}}return R.style.left=ht,R.style.top=yt,null})(I,C,E)}}},G=class G{constructor(M){Yn(this,"_initializingActive",!0);Yn(this,"_recalc",!0);Yn(this,"_nanopop",null);Yn(this,"_root",null);Yn(this,"_color",we());Yn(this,"_lastColor",we());Yn(this,"_swatchColors",[]);Yn(this,"_setupAnimationFrame",null);Yn(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]});this.options=M=Object.assign({...G.DEFAULT_OPTIONS},M);const{swatches:k,components:E,theme:j,sliders:I,lockOpacity:C,padding:v}=M;["nano","monolith"].includes(j)&&!I&&(M.sliders="h"),E.interaction||(E.interaction={});const{preview:R,opacity:be,hue:he,palette:De}=E;E.opacity=!C&&be,E.palette=De||R||be||he,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),k&&k.length&&k.forEach($e=>this.addSwatch($e));const{button:He,app:Pe}=this._root;this._nanopop=Je(He,Pe,{margin:v}),He.setAttribute("role","button"),He.setAttribute("aria-label",this._t("btn:toggle"));const Ue=this;this._setupAnimationFrame=requestAnimationFrame(function $e(){if(!Pe.offsetWidth)return requestAnimationFrame($e);Ue.setColor(M.default),Ue._rePositioningPicker(),M.defaultRepresentation&&(Ue._representation=M.defaultRepresentation,Ue.setColorRepresentation(Ue._representation)),M.showAlways&&Ue.show(),Ue._initializingActive=!1,Ue._emit("init")})}_preBuild(){const{options:M}=this;for(const k of["el","container"])M[k]=N(M[k]);this._root=(k=>{const{components:E,useAsButton:j,inline:I,appClass:C,theme:v,lockOpacity:R}=k.options,be=Pe=>Pe?"":'style="display:none" hidden',he=Pe=>k._t(Pe),De=D(`
      <div :ref="root" class="pickr">

        ${j?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${C||""}" data-theme="${v}" ${I?'style="position: unset"':""} aria-label="${he("ui:dialog")}" role="window">
          <div class="pcr-selection" ${be(E.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${be(E.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${he("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${he("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${be(E.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${he("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${be(E.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${he("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${E.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${be(Object.keys(E.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${be(E.interaction.input)} aria-label="${he("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${R?"HEX":"HEXA"}" type="button" ${be(E.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${R?"RGB":"RGBA"}" type="button" ${be(E.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${R?"HSL":"HSLA"}" type="button" ${be(E.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${R?"HSV":"HSVA"}" type="button" ${be(E.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${be(E.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${he("btn:save")}" type="button" ${be(E.interaction.save)} aria-label="${he("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${he("btn:cancel")}" type="button" ${be(E.interaction.cancel)} aria-label="${he("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${he("btn:clear")}" type="button" ${be(E.interaction.clear)} aria-label="${he("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),He=De.interaction;return He.options.find(Pe=>!Pe.hidden&&!Pe.classList.add("active")),He.type=()=>He.options.find(Pe=>Pe.classList.contains("active")),De})(this),M.useAsButton&&(this._root.button=M.el),M.container.appendChild(this._root.root)}_finalBuild(){const M=this.options,k=this._root;if(M.container.removeChild(k.root),M.inline){const E=M.el.parentElement;M.el.nextSibling?E.insertBefore(k.app,M.el.nextSibling):E.appendChild(k.app)}else M.container.appendChild(k.app);M.useAsButton?M.inline&&M.el.remove():M.el.parentNode.replaceChild(k.root,M.el),M.disabled&&this.disable(),M.comparison||(k.button.style.transition="none",M.useAsButton||(k.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const M=this,k=this.options.components,E=(M.options.sliders||"v").repeat(2),[j,I]=E.match(/^[vh]+$/g)?E:[],C=()=>this._color||(this._color=this._lastColor.clone()),v={palette:ot({element:M._root.palette.picker,wrapper:M._root.palette.palette,onstop:()=>M._emit("changestop","slider",M),onchange(R,be){if(!k.palette)return;const he=C(),{_root:De,options:He}=M,{lastColor:Pe,currentColor:Ue}=De.preview;M._recalc&&(he.s=100*R,he.v=100-100*be,he.v<0&&(he.v=0),M._updateOutput("slider"));const $e=he.toRGBA().toString(0);this.element.style.background=$e,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${he.a}), transparent),
                        linear-gradient(to left, hsla(${he.h}, 100%, 50%, ${he.a}), rgba(255, 255, 255, ${he.a}))
                    `,He.comparison?He.useAsButton||M._lastColor||Pe.style.setProperty("--pcr-color",$e):(De.button.style.setProperty("--pcr-color",$e),De.button.classList.remove("clear"));const rt=he.toHEXA().toString();for(const{el:ht,color:yt}of M._swatchColors)ht.classList[rt===yt.toHEXA().toString()?"add":"remove"]("pcr-active");Ue.style.setProperty("--pcr-color",$e)}}),hue:ot({lock:I==="v"?"h":"v",element:M._root.hue.picker,wrapper:M._root.hue.slider,onstop:()=>M._emit("changestop","slider",M),onchange(R){if(!k.hue||!k.palette)return;const be=C();M._recalc&&(be.h=360*R),this.element.style.backgroundColor=`hsl(${be.h}, 100%, 50%)`,v.palette.trigger()}}),opacity:ot({lock:j==="v"?"h":"v",element:M._root.opacity.picker,wrapper:M._root.opacity.slider,onstop:()=>M._emit("changestop","slider",M),onchange(R){if(!k.opacity||!k.palette)return;const be=C();M._recalc&&(be.a=Math.round(100*R)/100),this.element.style.background=`rgba(0, 0, 0, ${be.a})`,v.palette.trigger()}}),selectable:Ee({elements:M._root.interaction.options,className:"active",onchange(R){M._representation=R.target.getAttribute("data-type").toUpperCase(),M._recalc&&M._updateOutput("swatch")}})};this._components=v}_bindEvents(){const{_root:M,options:k}=this,E=[h(M.interaction.clear,"click",()=>this._clearColor()),h([M.interaction.cancel,M.preview.lastColor],"click",()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")}),h(M.interaction.save,"click",()=>{!this.applyColor()&&!k.showAlways&&this.hide()}),h(M.interaction.result,["keyup","input"],j=>{this.setColor(j.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),j.stopImmediatePropagation()}),h(M.interaction.result,["focus","blur"],j=>{this._recalc=j.type==="blur",this._recalc&&this._updateOutput(null)}),h([M.palette.palette,M.palette.picker,M.hue.slider,M.hue.picker,M.opacity.slider,M.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!k.showAlways){const j=k.closeWithKey;E.push(h(M.button,"click",()=>this.isOpen()?this.hide():this.show()),h(document,"keyup",I=>this.isOpen()&&(I.key===j||I.code===j)&&this.hide()),h(document,["touchstart","mousedown"],I=>{this.isOpen()&&!L(I).some(C=>C===M.app||C===M.button)&&this.hide()},{capture:!0}))}if(k.adjustableNumbers){const j={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};W(M.interaction.result,(I,C,v)=>{const R=j[this.getColorRepresentation().toLowerCase()];if(R){const be=R[v],he=I+(be>=100?1e3*C:C);return he<=0?0:Number((he<be?he:be).toPrecision(3))}return I})}if(k.autoReposition&&!k.inline){let j=null;const I=this;E.push(h(window,["scroll","resize"],()=>{I.isOpen()&&(k.closeOnScroll&&I.hide(),j===null?(j=setTimeout(()=>j=null,100),requestAnimationFrame(function C(){I._rePositioningPicker(),j!==null&&requestAnimationFrame(C)})):(clearTimeout(j),j=setTimeout(()=>j=null,100)))},{capture:!0}))}this._eventBindings=E}_rePositioningPicker(){const{options:M}=this;if(!M.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:M.position})){const k=this._root.app,E=k.getBoundingClientRect();k.style.top=(window.innerHeight-E.height)/2+"px",k.style.left=(window.innerWidth-E.width)/2+"px"}}_updateOutput(M){const{_root:k,_color:E,options:j}=this;if(k.interaction.type()){const I=`to${k.interaction.type().getAttribute("data-type")}`;k.interaction.result.value=typeof E[I]=="function"?E[I]().toString(j.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",E,M,this)}_clearColor(M=!1){const{_root:k,options:E}=this;E.useAsButton||k.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),k.button.classList.add("clear"),E.showAlways||this.hide(),this._lastColor=null,this._initializingActive||M||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(M){const{values:k,type:E,a:j}=de(M),{lockOpacity:I}=this.options,C=j!==void 0&&j!==1;return k&&k.length===3&&(k[3]=void 0),{values:!k||I&&C?null:k,type:E}}_t(M){return this.options.i18n[M]||G.I18N_DEFAULTS[M]}_emit(M,...k){this._eventListener[M].forEach(E=>E(...k,this))}on(M,k){return this._eventListener[M].push(k),this}off(M,k){const E=this._eventListener[M]||[],j=E.indexOf(k);return~j&&E.splice(j,1),this}addSwatch(M){const{values:k}=this._parseLocalColor(M);if(k){const{_swatchColors:E,_root:j}=this,I=we(...k),C=b(`<button type="button" style="--pcr-color: ${I.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return j.swatches.appendChild(C),E.push({el:C,color:I}),this._eventBindings.push(h(C,"click",()=>{this.setHSVA(...I.toHSVA(),!0),this._emit("swatchselect",I),this._emit("change",I,"swatch",this)})),!0}return!1}removeSwatch(M){const k=this._swatchColors[M];if(k){const{el:E}=k;return this._root.swatches.removeChild(E),this._swatchColors.splice(M,1),!0}return!1}applyColor(M=!1){const{preview:k,button:E}=this._root,j=this._color.toRGBA().toString(0);return k.lastColor.style.setProperty("--pcr-color",j),this.options.useAsButton||E.style.setProperty("--pcr-color",j),E.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||M||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(M=>g(...M)),Object.keys(this._components).forEach(M=>this._components[M].destroy())}destroyAndRemove(){this.destroy();const{root:M,app:k}=this._root;M.parentElement&&M.parentElement.removeChild(M),k.parentElement.removeChild(k),Object.keys(this).forEach(E=>this[E]=null)}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(M=360,k=0,E=0,j=1,I=!1){const C=this._recalc;if(this._recalc=!1,M<0||M>360||k<0||k>100||E<0||E>100||j<0||j>1)return!1;this._color=we(M,k,E,j);const{hue:v,opacity:R,palette:be}=this._components;return v.update(M/360),R.update(j),be.update(k/100,1-E/100),I||this.applyColor(),C&&this._updateOutput(),this._recalc=C,!0}setColor(M,k=!1){if(M===null)return this._clearColor(k),!0;const{values:E,type:j}=this._parseLocalColor(M);if(E){const I=j.toUpperCase(),{options:C}=this._root.interaction,v=C.find(R=>R.getAttribute("data-type")===I);if(v&&!v.hidden)for(const R of C)R.classList[R===v?"add":"remove"]("active");return!!this.setHSVA(...E,k)&&this.setColorRepresentation(I)}return!1}setColorRepresentation(M){return M=M.toUpperCase(),!!this._root.interaction.options.find(k=>k.getAttribute("data-type").startsWith(M)&&!k.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}};Yn(G,"utils",s),Yn(G,"version","1.9.1"),Yn(G,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),Yn(G,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),Yn(G,"create",M=>new G(M));let it=G;return a=a.default})())}(hc)),hc.exports}var zx=Wx();const Ux=Th(zx);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Rm;function je(){return Rm.apply(null,arguments)}function Yx(i){Rm=i}function Mi(i){return i instanceof Array||Object.prototype.toString.call(i)==="[object Array]"}function Xr(i){return i!=null&&Object.prototype.toString.call(i)==="[object Object]"}function Mt(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Oh(i){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(i).length===0;var e;for(e in i)if(Mt(i,e))return!1;return!0}function ei(i){return i===void 0}function sr(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function cs(i){return i instanceof Date||Object.prototype.toString.call(i)==="[object Date]"}function Om(i,e){var t=[],a,s=i.length;for(a=0;a<s;++a)t.push(e(i[a],a));return t}function Cr(i,e){for(var t in e)Mt(e,t)&&(i[t]=e[t]);return Mt(e,"toString")&&(i.toString=e.toString),Mt(e,"valueOf")&&(i.valueOf=e.valueOf),i}function Yi(i,e,t,a){return iv(i,e,t,a,!0).utc()}function jx(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function vt(i){return i._pf==null&&(i._pf=jx()),i._pf}var eh;Array.prototype.some?eh=Array.prototype.some:eh=function(i){var e=Object(this),t=e.length>>>0,a;for(a=0;a<t;a++)if(a in e&&i.call(this,e[a],a,e))return!0;return!1};function Nh(i){var e=null,t=!1,a=i._d&&!isNaN(i._d.getTime());if(a&&(e=vt(i),t=eh.call(e.parsedDateParts,function(s){return s!=null}),a=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t),i._strict&&(a=a&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(i))i._isValid=a;else return a;return i._isValid}function Wl(i){var e=Yi(NaN);return i!=null?Cr(vt(e),i):vt(e).userInvalidated=!0,e}var Dg=je.momentProperties=[],fc=!1;function Ih(i,e){var t,a,s,c=Dg.length;if(ei(e._isAMomentObject)||(i._isAMomentObject=e._isAMomentObject),ei(e._i)||(i._i=e._i),ei(e._f)||(i._f=e._f),ei(e._l)||(i._l=e._l),ei(e._strict)||(i._strict=e._strict),ei(e._tzm)||(i._tzm=e._tzm),ei(e._isUTC)||(i._isUTC=e._isUTC),ei(e._offset)||(i._offset=e._offset),ei(e._pf)||(i._pf=vt(e)),ei(e._locale)||(i._locale=e._locale),c>0)for(t=0;t<c;t++)a=Dg[t],s=e[a],ei(s)||(i[a]=s);return i}function hs(i){Ih(this,i),this._d=new Date(i._d!=null?i._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),fc===!1&&(fc=!0,je.updateOffset(this),fc=!1)}function Fi(i){return i instanceof hs||i!=null&&i._isAMomentObject!=null}function Nm(i){je.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+i)}function bi(i,e){var t=!0;return Cr(function(){if(je.deprecationHandler!=null&&je.deprecationHandler(null,i),t){var a=[],s,c,h,g=arguments.length;for(c=0;c<g;c++){if(s="",typeof arguments[c]=="object"){s+=`
[`+c+"] ";for(h in arguments[0])Mt(arguments[0],h)&&(s+=h+": "+arguments[0][h]+", ");s=s.slice(0,-2)}else s=arguments[c];a.push(s)}Nm(i+`
Arguments: `+Array.prototype.slice.call(a).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var Cg={};function Im(i,e){je.deprecationHandler!=null&&je.deprecationHandler(i,e),Cg[i]||(Nm(e),Cg[i]=!0)}je.suppressDeprecationWarnings=!1;je.deprecationHandler=null;function ji(i){return typeof Function<"u"&&i instanceof Function||Object.prototype.toString.call(i)==="[object Function]"}function qx(i){var e,t;for(t in i)Mt(i,t)&&(e=i[t],ji(e)?this[t]=e:this["_"+t]=e);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function th(i,e){var t=Cr({},i),a;for(a in e)Mt(e,a)&&(Xr(i[a])&&Xr(e[a])?(t[a]={},Cr(t[a],i[a]),Cr(t[a],e[a])):e[a]!=null?t[a]=e[a]:delete t[a]);for(a in i)Mt(i,a)&&!Mt(e,a)&&Xr(i[a])&&(t[a]=Cr({},t[a]));return t}function Ph(i){i!=null&&this.set(i)}var nh;Object.keys?nh=Object.keys:nh=function(i){var e,t=[];for(e in i)Mt(i,e)&&t.push(e);return t};var Vx={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Gx(i,e,t){var a=this._calendar[i]||this._calendar.sameElse;return ji(a)?a.call(e,t):a}function Ui(i,e,t){var a=""+Math.abs(i),s=e-a.length,c=i>=0;return(c?t?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+a}var Bh=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,el=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,dc={},Ba={};function at(i,e,t,a){var s=a;typeof a=="string"&&(s=function(){return this[a]()}),i&&(Ba[i]=s),e&&(Ba[e[0]]=function(){return Ui(s.apply(this,arguments),e[1],e[2])}),t&&(Ba[t]=function(){return this.localeData().ordinal(s.apply(this,arguments),i)})}function $x(i){return i.match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"")}function Kx(i){var e=i.match(Bh),t,a;for(t=0,a=e.length;t<a;t++)Ba[e[t]]?e[t]=Ba[e[t]]:e[t]=$x(e[t]);return function(s){var c="",h;for(h=0;h<a;h++)c+=ji(e[h])?e[h].call(s,i):e[h];return c}}function dl(i,e){return i.isValid()?(e=Pm(e,i.localeData()),dc[e]=dc[e]||Kx(e),dc[e](i)):i.localeData().invalidDate()}function Pm(i,e){var t=5;function a(s){return e.longDateFormat(s)||s}for(el.lastIndex=0;t>=0&&el.test(i);)i=i.replace(el,a),el.lastIndex=0,t-=1;return i}var Xx={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Jx(i){var e=this._longDateFormat[i],t=this._longDateFormat[i.toUpperCase()];return e||!t?e:(this._longDateFormat[i]=t.match(Bh).map(function(a){return a==="MMMM"||a==="MM"||a==="DD"||a==="dddd"?a.slice(1):a}).join(""),this._longDateFormat[i])}var Zx="Invalid date";function Qx(){return this._invalidDate}var ew="%d",tw=/\d{1,2}/;function nw(i){return this._ordinal.replace("%d",i)}var iw={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function rw(i,e,t,a){var s=this._relativeTime[t];return ji(s)?s(i,e,t,a):s.replace(/%d/i,i)}function aw(i,e){var t=this._relativeTime[i>0?"future":"past"];return ji(t)?t(e):t.replace(/%s/i,e)}var kg={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function yi(i){return typeof i=="string"?kg[i]||kg[i.toLowerCase()]:void 0}function Hh(i){var e={},t,a;for(a in i)Mt(i,a)&&(t=yi(a),t&&(e[t]=i[a]));return e}var ow={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function sw(i){var e=[],t;for(t in i)Mt(i,t)&&e.push({unit:t,priority:ow[t]});return e.sort(function(a,s){return a.priority-s.priority}),e}var Bm=/\d/,hi=/\d\d/,Hm=/\d{3}/,Wh=/\d{4}/,zl=/[+-]?\d{6}/,Xt=/\d\d?/,Wm=/\d\d\d\d?/,zm=/\d\d\d\d\d\d?/,Ul=/\d{1,3}/,zh=/\d{1,4}/,Yl=/[+-]?\d{1,6}/,$a=/\d+/,jl=/[+-]?\d+/,lw=/Z|[+-]\d\d:?\d\d/gi,ql=/Z|[+-]\d\d(?::?\d\d)?/gi,uw=/[+-]?\d+(\.\d{1,3})?/,fs=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ka=/^[1-9]\d?/,Uh=/^([1-9]\d|\d)/,Al;Al={};function Ke(i,e,t){Al[i]=ji(e)?e:function(a,s){return a&&t?t:e}}function cw(i,e){return Mt(Al,i)?Al[i](e._strict,e._locale):new RegExp(hw(i))}function hw(i){return rr(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,a,s,c){return t||a||s||c}))}function rr(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function pi(i){return i<0?Math.ceil(i)||0:Math.floor(i)}function Et(i){var e=+i,t=0;return e!==0&&isFinite(e)&&(t=pi(e)),t}var ih={};function zt(i,e){var t,a=e,s;for(typeof i=="string"&&(i=[i]),sr(e)&&(a=function(c,h){h[e]=Et(c)}),s=i.length,t=0;t<s;t++)ih[i[t]]=a}function ds(i,e){zt(i,function(t,a,s,c){s._w=s._w||{},e(t,s._w,s,c)})}function fw(i,e,t){e!=null&&Mt(ih,i)&&ih[i](e,t._a,t,i)}function Vl(i){return i%4===0&&i%100!==0||i%400===0}var In=0,tr=1,Wi=2,An=3,Ti=4,nr=5,Vr=6,dw=7,pw=8;at("Y",0,0,function(){var i=this.year();return i<=9999?Ui(i,4):"+"+i});at(0,["YY",2],0,function(){return this.year()%100});at(0,["YYYY",4],0,"year");at(0,["YYYYY",5],0,"year");at(0,["YYYYYY",6,!0],0,"year");Ke("Y",jl);Ke("YY",Xt,hi);Ke("YYYY",zh,Wh);Ke("YYYYY",Yl,zl);Ke("YYYYYY",Yl,zl);zt(["YYYYY","YYYYYY"],In);zt("YYYY",function(i,e){e[In]=i.length===2?je.parseTwoDigitYear(i):Et(i)});zt("YY",function(i,e){e[In]=je.parseTwoDigitYear(i)});zt("Y",function(i,e){e[In]=parseInt(i,10)});function jo(i){return Vl(i)?366:365}je.parseTwoDigitYear=function(i){return Et(i)+(Et(i)>68?1900:2e3)};var Um=Xa("FullYear",!0);function gw(){return Vl(this.year())}function Xa(i,e){return function(t){return t!=null?(Ym(this,i,t),je.updateOffset(this,e),this):ns(this,i)}}function ns(i,e){if(!i.isValid())return NaN;var t=i._d,a=i._isUTC;switch(e){case"Milliseconds":return a?t.getUTCMilliseconds():t.getMilliseconds();case"Seconds":return a?t.getUTCSeconds():t.getSeconds();case"Minutes":return a?t.getUTCMinutes():t.getMinutes();case"Hours":return a?t.getUTCHours():t.getHours();case"Date":return a?t.getUTCDate():t.getDate();case"Day":return a?t.getUTCDay():t.getDay();case"Month":return a?t.getUTCMonth():t.getMonth();case"FullYear":return a?t.getUTCFullYear():t.getFullYear();default:return NaN}}function Ym(i,e,t){var a,s,c,h,g;if(!(!i.isValid()||isNaN(t))){switch(a=i._d,s=i._isUTC,e){case"Milliseconds":return void(s?a.setUTCMilliseconds(t):a.setMilliseconds(t));case"Seconds":return void(s?a.setUTCSeconds(t):a.setSeconds(t));case"Minutes":return void(s?a.setUTCMinutes(t):a.setMinutes(t));case"Hours":return void(s?a.setUTCHours(t):a.setHours(t));case"Date":return void(s?a.setUTCDate(t):a.setDate(t));case"FullYear":break;default:return}c=t,h=i.month(),g=i.date(),g=g===29&&h===1&&!Vl(c)?28:g,s?a.setUTCFullYear(c,h,g):a.setFullYear(c,h,g)}}function mw(i){return i=yi(i),ji(this[i])?this[i]():this}function vw(i,e){if(typeof i=="object"){i=Hh(i);var t=sw(i),a,s=t.length;for(a=0;a<s;a++)this[t[a].unit](i[t[a].unit])}else if(i=yi(i),ji(this[i]))return this[i](e);return this}function bw(i,e){return(i%e+e)%e}var fn;Array.prototype.indexOf?fn=Array.prototype.indexOf:fn=function(i){var e;for(e=0;e<this.length;++e)if(this[e]===i)return e;return-1};function Yh(i,e){if(isNaN(i)||isNaN(e))return NaN;var t=bw(e,12);return i+=(e-t)/12,t===1?Vl(i)?29:28:31-t%7%2}at("M",["MM",2],"Mo",function(){return this.month()+1});at("MMM",0,0,function(i){return this.localeData().monthsShort(this,i)});at("MMMM",0,0,function(i){return this.localeData().months(this,i)});Ke("M",Xt,Ka);Ke("MM",Xt,hi);Ke("MMM",function(i,e){return e.monthsShortRegex(i)});Ke("MMMM",function(i,e){return e.monthsRegex(i)});zt(["M","MM"],function(i,e){e[tr]=Et(i)-1});zt(["MMM","MMMM"],function(i,e,t,a){var s=t._locale.monthsParse(i,a,t._strict);s!=null?e[tr]=s:vt(t).invalidMonth=i});var yw="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),jm="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),qm=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,xw=fs,ww=fs;function Dw(i,e){return i?Mi(this._months)?this._months[i.month()]:this._months[(this._months.isFormat||qm).test(e)?"format":"standalone"][i.month()]:Mi(this._months)?this._months:this._months.standalone}function Cw(i,e){return i?Mi(this._monthsShort)?this._monthsShort[i.month()]:this._monthsShort[qm.test(e)?"format":"standalone"][i.month()]:Mi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function kw(i,e,t){var a,s,c,h=i.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)c=Yi([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(c,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(c,"").toLocaleLowerCase();return t?e==="MMM"?(s=fn.call(this._shortMonthsParse,h),s!==-1?s:null):(s=fn.call(this._longMonthsParse,h),s!==-1?s:null):e==="MMM"?(s=fn.call(this._shortMonthsParse,h),s!==-1?s:(s=fn.call(this._longMonthsParse,h),s!==-1?s:null)):(s=fn.call(this._longMonthsParse,h),s!==-1?s:(s=fn.call(this._shortMonthsParse,h),s!==-1?s:null))}function Aw(i,e,t){var a,s,c;if(this._monthsParseExact)return kw.call(this,i,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(s=Yi([2e3,a]),t&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!t&&!this._monthsParse[a]&&(c="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[a]=new RegExp(c.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[a].test(i))return a;if(t&&e==="MMM"&&this._shortMonthsParse[a].test(i))return a;if(!t&&this._monthsParse[a].test(i))return a}}function Vm(i,e){if(!i.isValid())return i;if(typeof e=="string"){if(/^\d+$/.test(e))e=Et(e);else if(e=i.localeData().monthsParse(e),!sr(e))return i}var t=e,a=i.date();return a=a<29?a:Math.min(a,Yh(i.year(),t)),i._isUTC?i._d.setUTCMonth(t,a):i._d.setMonth(t,a),i}function Gm(i){return i!=null?(Vm(this,i),je.updateOffset(this,!0),this):ns(this,"Month")}function Sw(){return Yh(this.year(),this.month())}function Ew(i){return this._monthsParseExact?(Mt(this,"_monthsRegex")||$m.call(this),i?this._monthsShortStrictRegex:this._monthsShortRegex):(Mt(this,"_monthsShortRegex")||(this._monthsShortRegex=xw),this._monthsShortStrictRegex&&i?this._monthsShortStrictRegex:this._monthsShortRegex)}function Tw(i){return this._monthsParseExact?(Mt(this,"_monthsRegex")||$m.call(this),i?this._monthsStrictRegex:this._monthsRegex):(Mt(this,"_monthsRegex")||(this._monthsRegex=ww),this._monthsStrictRegex&&i?this._monthsStrictRegex:this._monthsRegex)}function $m(){function i(b,D){return D.length-b.length}var e=[],t=[],a=[],s,c,h,g;for(s=0;s<12;s++)c=Yi([2e3,s]),h=rr(this.monthsShort(c,"")),g=rr(this.months(c,"")),e.push(h),t.push(g),a.push(g),a.push(h);e.sort(i),t.sort(i),a.sort(i),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Lw(i,e,t,a,s,c,h){var g;return i<100&&i>=0?(g=new Date(i+400,e,t,a,s,c,h),isFinite(g.getFullYear())&&g.setFullYear(i)):g=new Date(i,e,t,a,s,c,h),g}function is(i){var e,t;return i<100&&i>=0?(t=Array.prototype.slice.call(arguments),t[0]=i+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(i)):e=new Date(Date.UTC.apply(null,arguments)),e}function Sl(i,e,t){var a=7+e-t,s=(7+is(i,0,a).getUTCDay()-e)%7;return-s+a-1}function Km(i,e,t,a,s){var c=(7+t-a)%7,h=Sl(i,a,s),g=1+7*(e-1)+c+h,b,D;return g<=0?(b=i-1,D=jo(b)+g):g>jo(i)?(b=i+1,D=g-jo(i)):(b=i,D=g),{year:b,dayOfYear:D}}function rs(i,e,t){var a=Sl(i.year(),e,t),s=Math.floor((i.dayOfYear()-a-1)/7)+1,c,h;return s<1?(h=i.year()-1,c=s+ar(h,e,t)):s>ar(i.year(),e,t)?(c=s-ar(i.year(),e,t),h=i.year()+1):(h=i.year(),c=s),{week:c,year:h}}function ar(i,e,t){var a=Sl(i,e,t),s=Sl(i+1,e,t);return(jo(i)-a+s)/7}at("w",["ww",2],"wo","week");at("W",["WW",2],"Wo","isoWeek");Ke("w",Xt,Ka);Ke("ww",Xt,hi);Ke("W",Xt,Ka);Ke("WW",Xt,hi);ds(["w","ww","W","WW"],function(i,e,t,a){e[a.substr(0,1)]=Et(i)});function Mw(i){return rs(i,this._week.dow,this._week.doy).week}var Fw={dow:0,doy:6};function _w(){return this._week.dow}function Rw(){return this._week.doy}function Ow(i){var e=this.localeData().week(this);return i==null?e:this.add((i-e)*7,"d")}function Nw(i){var e=rs(this,1,4).week;return i==null?e:this.add((i-e)*7,"d")}at("d",0,"do","day");at("dd",0,0,function(i){return this.localeData().weekdaysMin(this,i)});at("ddd",0,0,function(i){return this.localeData().weekdaysShort(this,i)});at("dddd",0,0,function(i){return this.localeData().weekdays(this,i)});at("e",0,0,"weekday");at("E",0,0,"isoWeekday");Ke("d",Xt);Ke("e",Xt);Ke("E",Xt);Ke("dd",function(i,e){return e.weekdaysMinRegex(i)});Ke("ddd",function(i,e){return e.weekdaysShortRegex(i)});Ke("dddd",function(i,e){return e.weekdaysRegex(i)});ds(["dd","ddd","dddd"],function(i,e,t,a){var s=t._locale.weekdaysParse(i,a,t._strict);s!=null?e.d=s:vt(t).invalidWeekday=i});ds(["d","e","E"],function(i,e,t,a){e[a]=Et(i)});function Iw(i,e){return typeof i!="string"?i:isNaN(i)?(i=e.weekdaysParse(i),typeof i=="number"?i:null):parseInt(i,10)}function Pw(i,e){return typeof i=="string"?e.weekdaysParse(i)%7||7:isNaN(i)?null:i}function jh(i,e){return i.slice(e,7).concat(i.slice(0,e))}var Bw="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xm="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Hw="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ww=fs,zw=fs,Uw=fs;function Yw(i,e){var t=Mi(this._weekdays)?this._weekdays:this._weekdays[i&&i!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return i===!0?jh(t,this._week.dow):i?t[i.day()]:t}function jw(i){return i===!0?jh(this._weekdaysShort,this._week.dow):i?this._weekdaysShort[i.day()]:this._weekdaysShort}function qw(i){return i===!0?jh(this._weekdaysMin,this._week.dow):i?this._weekdaysMin[i.day()]:this._weekdaysMin}function Vw(i,e,t){var a,s,c,h=i.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)c=Yi([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(c,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(c,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(c,"").toLocaleLowerCase();return t?e==="dddd"?(s=fn.call(this._weekdaysParse,h),s!==-1?s:null):e==="ddd"?(s=fn.call(this._shortWeekdaysParse,h),s!==-1?s:null):(s=fn.call(this._minWeekdaysParse,h),s!==-1?s:null):e==="dddd"?(s=fn.call(this._weekdaysParse,h),s!==-1||(s=fn.call(this._shortWeekdaysParse,h),s!==-1)?s:(s=fn.call(this._minWeekdaysParse,h),s!==-1?s:null)):e==="ddd"?(s=fn.call(this._shortWeekdaysParse,h),s!==-1||(s=fn.call(this._weekdaysParse,h),s!==-1)?s:(s=fn.call(this._minWeekdaysParse,h),s!==-1?s:null)):(s=fn.call(this._minWeekdaysParse,h),s!==-1||(s=fn.call(this._weekdaysParse,h),s!==-1)?s:(s=fn.call(this._shortWeekdaysParse,h),s!==-1?s:null))}function Gw(i,e,t){var a,s,c;if(this._weekdaysParseExact)return Vw.call(this,i,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(s=Yi([2e3,1]).day(a),t&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(c="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[a]=new RegExp(c.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[a].test(i))return a;if(t&&e==="ddd"&&this._shortWeekdaysParse[a].test(i))return a;if(t&&e==="dd"&&this._minWeekdaysParse[a].test(i))return a;if(!t&&this._weekdaysParse[a].test(i))return a}}function $w(i){if(!this.isValid())return i!=null?this:NaN;var e=ns(this,"Day");return i!=null?(i=Iw(i,this.localeData()),this.add(i-e,"d")):e}function Kw(i){if(!this.isValid())return i!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return i==null?e:this.add(i-e,"d")}function Xw(i){if(!this.isValid())return i!=null?this:NaN;if(i!=null){var e=Pw(i,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Jw(i){return this._weekdaysParseExact?(Mt(this,"_weekdaysRegex")||qh.call(this),i?this._weekdaysStrictRegex:this._weekdaysRegex):(Mt(this,"_weekdaysRegex")||(this._weekdaysRegex=Ww),this._weekdaysStrictRegex&&i?this._weekdaysStrictRegex:this._weekdaysRegex)}function Zw(i){return this._weekdaysParseExact?(Mt(this,"_weekdaysRegex")||qh.call(this),i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Mt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=zw),this._weekdaysShortStrictRegex&&i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qw(i){return this._weekdaysParseExact?(Mt(this,"_weekdaysRegex")||qh.call(this),i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Mt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Uw),this._weekdaysMinStrictRegex&&i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qh(){function i(L,N){return N.length-L.length}var e=[],t=[],a=[],s=[],c,h,g,b,D;for(c=0;c<7;c++)h=Yi([2e3,1]).day(c),g=rr(this.weekdaysMin(h,"")),b=rr(this.weekdaysShort(h,"")),D=rr(this.weekdays(h,"")),e.push(g),t.push(b),a.push(D),s.push(g),s.push(b),s.push(D);e.sort(i),t.sort(i),a.sort(i),s.sort(i),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Vh(){return this.hours()%12||12}function eD(){return this.hours()||24}at("H",["HH",2],0,"hour");at("h",["hh",2],0,Vh);at("k",["kk",2],0,eD);at("hmm",0,0,function(){return""+Vh.apply(this)+Ui(this.minutes(),2)});at("hmmss",0,0,function(){return""+Vh.apply(this)+Ui(this.minutes(),2)+Ui(this.seconds(),2)});at("Hmm",0,0,function(){return""+this.hours()+Ui(this.minutes(),2)});at("Hmmss",0,0,function(){return""+this.hours()+Ui(this.minutes(),2)+Ui(this.seconds(),2)});function Jm(i,e){at(i,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}Jm("a",!0);Jm("A",!1);function Zm(i,e){return e._meridiemParse}Ke("a",Zm);Ke("A",Zm);Ke("H",Xt,Uh);Ke("h",Xt,Ka);Ke("k",Xt,Ka);Ke("HH",Xt,hi);Ke("hh",Xt,hi);Ke("kk",Xt,hi);Ke("hmm",Wm);Ke("hmmss",zm);Ke("Hmm",Wm);Ke("Hmmss",zm);zt(["H","HH"],An);zt(["k","kk"],function(i,e,t){var a=Et(i);e[An]=a===24?0:a});zt(["a","A"],function(i,e,t){t._isPm=t._locale.isPM(i),t._meridiem=i});zt(["h","hh"],function(i,e,t){e[An]=Et(i),vt(t).bigHour=!0});zt("hmm",function(i,e,t){var a=i.length-2;e[An]=Et(i.substr(0,a)),e[Ti]=Et(i.substr(a)),vt(t).bigHour=!0});zt("hmmss",function(i,e,t){var a=i.length-4,s=i.length-2;e[An]=Et(i.substr(0,a)),e[Ti]=Et(i.substr(a,2)),e[nr]=Et(i.substr(s)),vt(t).bigHour=!0});zt("Hmm",function(i,e,t){var a=i.length-2;e[An]=Et(i.substr(0,a)),e[Ti]=Et(i.substr(a))});zt("Hmmss",function(i,e,t){var a=i.length-4,s=i.length-2;e[An]=Et(i.substr(0,a)),e[Ti]=Et(i.substr(a,2)),e[nr]=Et(i.substr(s))});function tD(i){return(i+"").toLowerCase().charAt(0)==="p"}var nD=/[ap]\.?m?\.?/i,iD=Xa("Hours",!0);function rD(i,e,t){return i>11?t?"pm":"PM":t?"am":"AM"}var Qm={calendar:Vx,longDateFormat:Xx,invalidDate:Zx,ordinal:ew,dayOfMonthOrdinalParse:tw,relativeTime:iw,months:yw,monthsShort:jm,week:Fw,weekdays:Bw,weekdaysMin:Hw,weekdaysShort:Xm,meridiemParse:nD},Qt={},Fo={},as;function aD(i,e){var t,a=Math.min(i.length,e.length);for(t=0;t<a;t+=1)if(i[t]!==e[t])return t;return a}function Ag(i){return i&&i.toLowerCase().replace("_","-")}function oD(i){for(var e=0,t,a,s,c;e<i.length;){for(c=Ag(i[e]).split("-"),t=c.length,a=Ag(i[e+1]),a=a?a.split("-"):null;t>0;){if(s=Gl(c.slice(0,t).join("-")),s)return s;if(a&&a.length>=t&&aD(c,a)>=t-1)break;t--}e++}return as}function sD(i){return!!(i&&i.match("^[^/\\\\]*$"))}function Gl(i){var e=null,t;if(Qt[i]===void 0&&typeof Cl<"u"&&Cl&&Cl.exports&&sD(i))try{e=as._abbr,t=require,t("./locale/"+i),Ar(e)}catch{Qt[i]=null}return Qt[i]}function Ar(i,e){var t;return i&&(ei(e)?t=lr(i):t=Gh(i,e),t?as=t:typeof console<"u"&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),as._abbr}function Gh(i,e){if(e!==null){var t,a=Qm;if(e.abbr=i,Qt[i]!=null)Im("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=Qt[i]._config;else if(e.parentLocale!=null)if(Qt[e.parentLocale]!=null)a=Qt[e.parentLocale]._config;else if(t=Gl(e.parentLocale),t!=null)a=t._config;else return Fo[e.parentLocale]||(Fo[e.parentLocale]=[]),Fo[e.parentLocale].push({name:i,config:e}),null;return Qt[i]=new Ph(th(a,e)),Fo[i]&&Fo[i].forEach(function(s){Gh(s.name,s.config)}),Ar(i),Qt[i]}else return delete Qt[i],null}function lD(i,e){if(e!=null){var t,a,s=Qm;Qt[i]!=null&&Qt[i].parentLocale!=null?Qt[i].set(th(Qt[i]._config,e)):(a=Gl(i),a!=null&&(s=a._config),e=th(s,e),a==null&&(e.abbr=i),t=new Ph(e),t.parentLocale=Qt[i],Qt[i]=t),Ar(i)}else Qt[i]!=null&&(Qt[i].parentLocale!=null?(Qt[i]=Qt[i].parentLocale,i===Ar()&&Ar(i)):Qt[i]!=null&&delete Qt[i]);return Qt[i]}function lr(i){var e;if(i&&i._locale&&i._locale._abbr&&(i=i._locale._abbr),!i)return as;if(!Mi(i)){if(e=Gl(i),e)return e;i=[i]}return oD(i)}function uD(){return nh(Qt)}function $h(i){var e,t=i._a;return t&&vt(i).overflow===-2&&(e=t[tr]<0||t[tr]>11?tr:t[Wi]<1||t[Wi]>Yh(t[In],t[tr])?Wi:t[An]<0||t[An]>24||t[An]===24&&(t[Ti]!==0||t[nr]!==0||t[Vr]!==0)?An:t[Ti]<0||t[Ti]>59?Ti:t[nr]<0||t[nr]>59?nr:t[Vr]<0||t[Vr]>999?Vr:-1,vt(i)._overflowDayOfYear&&(e<In||e>Wi)&&(e=Wi),vt(i)._overflowWeeks&&e===-1&&(e=dw),vt(i)._overflowWeekday&&e===-1&&(e=pw),vt(i).overflow=e),i}var cD=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hD=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fD=/Z|[+-]\d\d(?::?\d\d)?/,tl=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],dD=/^\/?Date\((-?\d+)/i,pD=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gD={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ev(i){var e,t,a=i._i,s=cD.exec(a)||hD.exec(a),c,h,g,b,D=tl.length,L=pc.length;if(s){for(vt(i).iso=!0,e=0,t=D;e<t;e++)if(tl[e][1].exec(s[1])){h=tl[e][0],c=tl[e][2]!==!1;break}if(h==null){i._isValid=!1;return}if(s[3]){for(e=0,t=L;e<t;e++)if(pc[e][1].exec(s[3])){g=(s[2]||" ")+pc[e][0];break}if(g==null){i._isValid=!1;return}}if(!c&&g!=null){i._isValid=!1;return}if(s[4])if(fD.exec(s[4]))b="Z";else{i._isValid=!1;return}i._f=h+(g||"")+(b||""),Xh(i)}else i._isValid=!1}function mD(i,e,t,a,s,c){var h=[vD(i),jm.indexOf(e),parseInt(t,10),parseInt(a,10),parseInt(s,10)];return c&&h.push(parseInt(c,10)),h}function vD(i){var e=parseInt(i,10);return e<=49?2e3+e:e<=999?1900+e:e}function bD(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function yD(i,e,t){if(i){var a=Xm.indexOf(i),s=new Date(e[0],e[1],e[2]).getDay();if(a!==s)return vt(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function xD(i,e,t){if(i)return gD[i];if(e)return 0;var a=parseInt(t,10),s=a%100,c=(a-s)/100;return c*60+s}function tv(i){var e=pD.exec(bD(i._i)),t;if(e){if(t=mD(e[4],e[3],e[2],e[5],e[6],e[7]),!yD(e[1],t,i))return;i._a=t,i._tzm=xD(e[8],e[9],e[10]),i._d=is.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),vt(i).rfc2822=!0}else i._isValid=!1}function wD(i){var e=dD.exec(i._i);if(e!==null){i._d=new Date(+e[1]);return}if(ev(i),i._isValid===!1)delete i._isValid;else return;if(tv(i),i._isValid===!1)delete i._isValid;else return;i._strict?i._isValid=!1:je.createFromInputFallback(i)}je.createFromInputFallback=bi("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function Ma(i,e,t){return i??e??t}function DD(i){var e=new Date(je.now());return i._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Kh(i){var e,t,a=[],s,c,h;if(!i._d){for(s=DD(i),i._w&&i._a[Wi]==null&&i._a[tr]==null&&CD(i),i._dayOfYear!=null&&(h=Ma(i._a[In],s[In]),(i._dayOfYear>jo(h)||i._dayOfYear===0)&&(vt(i)._overflowDayOfYear=!0),t=is(h,0,i._dayOfYear),i._a[tr]=t.getUTCMonth(),i._a[Wi]=t.getUTCDate()),e=0;e<3&&i._a[e]==null;++e)i._a[e]=a[e]=s[e];for(;e<7;e++)i._a[e]=a[e]=i._a[e]==null?e===2?1:0:i._a[e];i._a[An]===24&&i._a[Ti]===0&&i._a[nr]===0&&i._a[Vr]===0&&(i._nextDay=!0,i._a[An]=0),i._d=(i._useUTC?is:Lw).apply(null,a),c=i._useUTC?i._d.getUTCDay():i._d.getDay(),i._tzm!=null&&i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),i._nextDay&&(i._a[An]=24),i._w&&typeof i._w.d<"u"&&i._w.d!==c&&(vt(i).weekdayMismatch=!0)}}function CD(i){var e,t,a,s,c,h,g,b,D;e=i._w,e.GG!=null||e.W!=null||e.E!=null?(c=1,h=4,t=Ma(e.GG,i._a[In],rs(Kt(),1,4).year),a=Ma(e.W,1),s=Ma(e.E,1),(s<1||s>7)&&(b=!0)):(c=i._locale._week.dow,h=i._locale._week.doy,D=rs(Kt(),c,h),t=Ma(e.gg,i._a[In],D.year),a=Ma(e.w,D.week),e.d!=null?(s=e.d,(s<0||s>6)&&(b=!0)):e.e!=null?(s=e.e+c,(e.e<0||e.e>6)&&(b=!0)):s=c),a<1||a>ar(t,c,h)?vt(i)._overflowWeeks=!0:b!=null?vt(i)._overflowWeekday=!0:(g=Km(t,a,s,c,h),i._a[In]=g.year,i._dayOfYear=g.dayOfYear)}je.ISO_8601=function(){};je.RFC_2822=function(){};function Xh(i){if(i._f===je.ISO_8601){ev(i);return}if(i._f===je.RFC_2822){tv(i);return}i._a=[],vt(i).empty=!0;var e=""+i._i,t,a,s,c,h,g=e.length,b=0,D,L;for(s=Pm(i._f,i._locale).match(Bh)||[],L=s.length,t=0;t<L;t++)c=s[t],a=(e.match(cw(c,i))||[])[0],a&&(h=e.substr(0,e.indexOf(a)),h.length>0&&vt(i).unusedInput.push(h),e=e.slice(e.indexOf(a)+a.length),b+=a.length),Ba[c]?(a?vt(i).empty=!1:vt(i).unusedTokens.push(c),fw(c,a,i)):i._strict&&!a&&vt(i).unusedTokens.push(c);vt(i).charsLeftOver=g-b,e.length>0&&vt(i).unusedInput.push(e),i._a[An]<=12&&vt(i).bigHour===!0&&i._a[An]>0&&(vt(i).bigHour=void 0),vt(i).parsedDateParts=i._a.slice(0),vt(i).meridiem=i._meridiem,i._a[An]=kD(i._locale,i._a[An],i._meridiem),D=vt(i).era,D!==null&&(i._a[In]=i._locale.erasConvertYear(D,i._a[In])),Kh(i),$h(i)}function kD(i,e,t){var a;return t==null?e:i.meridiemHour!=null?i.meridiemHour(e,t):(i.isPM!=null&&(a=i.isPM(t),a&&e<12&&(e+=12),!a&&e===12&&(e=0)),e)}function AD(i){var e,t,a,s,c,h,g=!1,b=i._f.length;if(b===0){vt(i).invalidFormat=!0,i._d=new Date(NaN);return}for(s=0;s<b;s++)c=0,h=!1,e=Ih({},i),i._useUTC!=null&&(e._useUTC=i._useUTC),e._f=i._f[s],Xh(e),Nh(e)&&(h=!0),c+=vt(e).charsLeftOver,c+=vt(e).unusedTokens.length*10,vt(e).score=c,g?c<a&&(a=c,t=e):(a==null||c<a||h)&&(a=c,t=e,h&&(g=!0));Cr(i,t||e)}function SD(i){if(!i._d){var e=Hh(i._i),t=e.day===void 0?e.date:e.day;i._a=Om([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(a){return a&&parseInt(a,10)}),Kh(i)}}function ED(i){var e=new hs($h(nv(i)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function nv(i){var e=i._i,t=i._f;return i._locale=i._locale||lr(i._l),e===null||t===void 0&&e===""?Wl({nullInput:!0}):(typeof e=="string"&&(i._i=e=i._locale.preparse(e)),Fi(e)?new hs($h(e)):(cs(e)?i._d=e:Mi(t)?AD(i):t?Xh(i):TD(i),Nh(i)||(i._d=null),i))}function TD(i){var e=i._i;ei(e)?i._d=new Date(je.now()):cs(e)?i._d=new Date(e.valueOf()):typeof e=="string"?wD(i):Mi(e)?(i._a=Om(e.slice(0),function(t){return parseInt(t,10)}),Kh(i)):Xr(e)?SD(i):sr(e)?i._d=new Date(e):je.createFromInputFallback(i)}function iv(i,e,t,a,s){var c={};return(e===!0||e===!1)&&(a=e,e=void 0),(t===!0||t===!1)&&(a=t,t=void 0),(Xr(i)&&Oh(i)||Mi(i)&&i.length===0)&&(i=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=s,c._l=t,c._i=i,c._f=e,c._strict=a,ED(c)}function Kt(i,e,t,a){return iv(i,e,t,a,!1)}var LD=bi("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=Kt.apply(null,arguments);return this.isValid()&&i.isValid()?i<this?this:i:Wl()}),MD=bi("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=Kt.apply(null,arguments);return this.isValid()&&i.isValid()?i>this?this:i:Wl()});function rv(i,e){var t,a;if(e.length===1&&Mi(e[0])&&(e=e[0]),!e.length)return Kt();for(t=e[0],a=1;a<e.length;++a)(!e[a].isValid()||e[a][i](t))&&(t=e[a]);return t}function FD(){var i=[].slice.call(arguments,0);return rv("isBefore",i)}function _D(){var i=[].slice.call(arguments,0);return rv("isAfter",i)}var RD=function(){return Date.now?Date.now():+new Date},_o=["year","quarter","month","week","day","hour","minute","second","millisecond"];function OD(i){var e,t=!1,a,s=_o.length;for(e in i)if(Mt(i,e)&&!(fn.call(_o,e)!==-1&&(i[e]==null||!isNaN(i[e]))))return!1;for(a=0;a<s;++a)if(i[_o[a]]){if(t)return!1;parseFloat(i[_o[a]])!==Et(i[_o[a]])&&(t=!0)}return!0}function ND(){return this._isValid}function ID(){return _i(NaN)}function $l(i){var e=Hh(i),t=e.year||0,a=e.quarter||0,s=e.month||0,c=e.week||e.isoWeek||0,h=e.day||0,g=e.hour||0,b=e.minute||0,D=e.second||0,L=e.millisecond||0;this._isValid=OD(e),this._milliseconds=+L+D*1e3+b*6e4+g*1e3*60*60,this._days=+h+c*7,this._months=+s+a*3+t*12,this._data={},this._locale=lr(),this._bubble()}function pl(i){return i instanceof $l}function rh(i){return i<0?Math.round(-1*i)*-1:Math.round(i)}function PD(i,e,t){var a=Math.min(i.length,e.length),s=Math.abs(i.length-e.length),c=0,h;for(h=0;h<a;h++)Et(i[h])!==Et(e[h])&&c++;return c+s}function av(i,e){at(i,0,0,function(){var t=this.utcOffset(),a="+";return t<0&&(t=-t,a="-"),a+Ui(~~(t/60),2)+e+Ui(~~t%60,2)})}av("Z",":");av("ZZ","");Ke("Z",ql);Ke("ZZ",ql);zt(["Z","ZZ"],function(i,e,t){t._useUTC=!0,t._tzm=Jh(ql,i)});var BD=/([\+\-]|\d\d)/gi;function Jh(i,e){var t=(e||"").match(i),a,s,c;return t===null?null:(a=t[t.length-1]||[],s=(a+"").match(BD)||["-",0,0],c=+(s[1]*60)+Et(s[2]),c===0?0:s[0]==="+"?c:-c)}function Zh(i,e){var t,a;return e._isUTC?(t=e.clone(),a=(Fi(i)||cs(i)?i.valueOf():Kt(i).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+a),je.updateOffset(t,!1),t):Kt(i).local()}function ah(i){return-Math.round(i._d.getTimezoneOffset())}je.updateOffset=function(){};function HD(i,e,t){var a=this._offset||0,s;if(!this.isValid())return i!=null?this:NaN;if(i!=null){if(typeof i=="string"){if(i=Jh(ql,i),i===null)return this}else Math.abs(i)<16&&!t&&(i=i*60);return!this._isUTC&&e&&(s=ah(this)),this._offset=i,this._isUTC=!0,s!=null&&this.add(s,"m"),a!==i&&(!e||this._changeInProgress?lv(this,_i(i-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,je.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?a:ah(this)}function WD(i,e){return i!=null?(typeof i!="string"&&(i=-i),this.utcOffset(i,e),this):-this.utcOffset()}function zD(i){return this.utcOffset(0,i)}function UD(i){return this._isUTC&&(this.utcOffset(0,i),this._isUTC=!1,i&&this.subtract(ah(this),"m")),this}function YD(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var i=Jh(lw,this._i);i!=null?this.utcOffset(i):this.utcOffset(0,!0)}return this}function jD(i){return this.isValid()?(i=i?Kt(i).utcOffset():0,(this.utcOffset()-i)%60===0):!1}function qD(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function VD(){if(!ei(this._isDSTShifted))return this._isDSTShifted;var i={},e;return Ih(i,this),i=nv(i),i._a?(e=i._isUTC?Yi(i._a):Kt(i._a),this._isDSTShifted=this.isValid()&&PD(i._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function GD(){return this.isValid()?!this._isUTC:!1}function $D(){return this.isValid()?this._isUTC:!1}function ov(){return this.isValid()?this._isUTC&&this._offset===0:!1}var KD=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,XD=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function _i(i,e){var t=i,a=null,s,c,h;return pl(i)?t={ms:i._milliseconds,d:i._days,M:i._months}:sr(i)||!isNaN(+i)?(t={},e?t[e]=+i:t.milliseconds=+i):(a=KD.exec(i))?(s=a[1]==="-"?-1:1,t={y:0,d:Et(a[Wi])*s,h:Et(a[An])*s,m:Et(a[Ti])*s,s:Et(a[nr])*s,ms:Et(rh(a[Vr]*1e3))*s}):(a=XD.exec(i))?(s=a[1]==="-"?-1:1,t={y:Wr(a[2],s),M:Wr(a[3],s),w:Wr(a[4],s),d:Wr(a[5],s),h:Wr(a[6],s),m:Wr(a[7],s),s:Wr(a[8],s)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(h=JD(Kt(t.from),Kt(t.to)),t={},t.ms=h.milliseconds,t.M=h.months),c=new $l(t),pl(i)&&Mt(i,"_locale")&&(c._locale=i._locale),pl(i)&&Mt(i,"_isValid")&&(c._isValid=i._isValid),c}_i.fn=$l.prototype;_i.invalid=ID;function Wr(i,e){var t=i&&parseFloat(i.replace(",","."));return(isNaN(t)?0:t)*e}function Sg(i,e){var t={};return t.months=e.month()-i.month()+(e.year()-i.year())*12,i.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+i.clone().add(t.months,"M"),t}function JD(i,e){var t;return i.isValid()&&e.isValid()?(e=Zh(e,i),i.isBefore(e)?t=Sg(i,e):(t=Sg(e,i),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function sv(i,e){return function(t,a){var s,c;return a!==null&&!isNaN(+a)&&(Im(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),c=t,t=a,a=c),s=_i(t,a),lv(this,s,i),this}}function lv(i,e,t,a){var s=e._milliseconds,c=rh(e._days),h=rh(e._months);i.isValid()&&(a=a??!0,h&&Vm(i,ns(i,"Month")+h*t),c&&Ym(i,"Date",ns(i,"Date")+c*t),s&&i._d.setTime(i._d.valueOf()+s*t),a&&je.updateOffset(i,c||h))}var ZD=sv(1,"add"),QD=sv(-1,"subtract");function uv(i){return typeof i=="string"||i instanceof String}function eC(i){return Fi(i)||cs(i)||uv(i)||sr(i)||nC(i)||tC(i)||i===null||i===void 0}function tC(i){var e=Xr(i)&&!Oh(i),t=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,c,h=a.length;for(s=0;s<h;s+=1)c=a[s],t=t||Mt(i,c);return e&&t}function nC(i){var e=Mi(i),t=!1;return e&&(t=i.filter(function(a){return!sr(a)&&uv(i)}).length===0),e&&t}function iC(i){var e=Xr(i)&&!Oh(i),t=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,c;for(s=0;s<a.length;s+=1)c=a[s],t=t||Mt(i,c);return e&&t}function rC(i,e){var t=i.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function aC(i,e){arguments.length===1&&(arguments[0]?eC(arguments[0])?(i=arguments[0],e=void 0):iC(arguments[0])&&(e=arguments[0],i=void 0):(i=void 0,e=void 0));var t=i||Kt(),a=Zh(t,this).startOf("day"),s=je.calendarFormat(this,a)||"sameElse",c=e&&(ji(e[s])?e[s].call(this,t):e[s]);return this.format(c||this.localeData().calendar(s,this,Kt(t)))}function oC(){return new hs(this)}function sC(i,e){var t=Fi(i)?i:Kt(i);return this.isValid()&&t.isValid()?(e=yi(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function lC(i,e){var t=Fi(i)?i:Kt(i);return this.isValid()&&t.isValid()?(e=yi(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function uC(i,e,t,a){var s=Fi(i)?i:Kt(i),c=Fi(e)?e:Kt(e);return this.isValid()&&s.isValid()&&c.isValid()?(a=a||"()",(a[0]==="("?this.isAfter(s,t):!this.isBefore(s,t))&&(a[1]===")"?this.isBefore(c,t):!this.isAfter(c,t))):!1}function cC(i,e){var t=Fi(i)?i:Kt(i),a;return this.isValid()&&t.isValid()?(e=yi(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(a=t.valueOf(),this.clone().startOf(e).valueOf()<=a&&a<=this.clone().endOf(e).valueOf())):!1}function hC(i,e){return this.isSame(i,e)||this.isAfter(i,e)}function fC(i,e){return this.isSame(i,e)||this.isBefore(i,e)}function dC(i,e,t){var a,s,c;if(!this.isValid())return NaN;if(a=Zh(i,this),!a.isValid())return NaN;switch(s=(a.utcOffset()-this.utcOffset())*6e4,e=yi(e),e){case"year":c=gl(this,a)/12;break;case"month":c=gl(this,a);break;case"quarter":c=gl(this,a)/3;break;case"second":c=(this-a)/1e3;break;case"minute":c=(this-a)/6e4;break;case"hour":c=(this-a)/36e5;break;case"day":c=(this-a-s)/864e5;break;case"week":c=(this-a-s)/6048e5;break;default:c=this-a}return t?c:pi(c)}function gl(i,e){if(i.date()<e.date())return-gl(e,i);var t=(e.year()-i.year())*12+(e.month()-i.month()),a=i.clone().add(t,"months"),s,c;return e-a<0?(s=i.clone().add(t-1,"months"),c=(e-a)/(a-s)):(s=i.clone().add(t+1,"months"),c=(e-a)/(s-a)),-(t+c)||0}je.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";je.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function pC(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function gC(i){if(!this.isValid())return null;var e=i!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?dl(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ji(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",dl(t,"Z")):dl(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function mC(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",e="",t,a,s,c;return this.isLocal()||(i=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+i+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",c=e+'[")]',this.format(t+a+s+c)}function vC(i){i||(i=this.isUtc()?je.defaultFormatUtc:je.defaultFormat);var e=dl(this,i);return this.localeData().postformat(e)}function bC(i,e){return this.isValid()&&(Fi(i)&&i.isValid()||Kt(i).isValid())?_i({to:this,from:i}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function yC(i){return this.from(Kt(),i)}function xC(i,e){return this.isValid()&&(Fi(i)&&i.isValid()||Kt(i).isValid())?_i({from:this,to:i}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function wC(i){return this.to(Kt(),i)}function cv(i){var e;return i===void 0?this._locale._abbr:(e=lr(i),e!=null&&(this._locale=e),this)}var hv=bi("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){return i===void 0?this.localeData():this.locale(i)});function fv(){return this._locale}var El=1e3,Ha=60*El,Tl=60*Ha,dv=(365*400+97)*24*Tl;function Wa(i,e){return(i%e+e)%e}function pv(i,e,t){return i<100&&i>=0?new Date(i+400,e,t)-dv:new Date(i,e,t).valueOf()}function gv(i,e,t){return i<100&&i>=0?Date.UTC(i+400,e,t)-dv:Date.UTC(i,e,t)}function DC(i){var e,t;if(i=yi(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?gv:pv,i){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Wa(e+(this._isUTC?0:this.utcOffset()*Ha),Tl);break;case"minute":e=this._d.valueOf(),e-=Wa(e,Ha);break;case"second":e=this._d.valueOf(),e-=Wa(e,El);break}return this._d.setTime(e),je.updateOffset(this,!0),this}function CC(i){var e,t;if(i=yi(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?gv:pv,i){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Tl-Wa(e+(this._isUTC?0:this.utcOffset()*Ha),Tl)-1;break;case"minute":e=this._d.valueOf(),e+=Ha-Wa(e,Ha)-1;break;case"second":e=this._d.valueOf(),e+=El-Wa(e,El)-1;break}return this._d.setTime(e),je.updateOffset(this,!0),this}function kC(){return this._d.valueOf()-(this._offset||0)*6e4}function AC(){return Math.floor(this.valueOf()/1e3)}function SC(){return new Date(this.valueOf())}function EC(){var i=this;return[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second(),i.millisecond()]}function TC(){var i=this;return{years:i.year(),months:i.month(),date:i.date(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds(),milliseconds:i.milliseconds()}}function LC(){return this.isValid()?this.toISOString():null}function MC(){return Nh(this)}function FC(){return Cr({},vt(this))}function _C(){return vt(this).overflow}function RC(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}at("N",0,0,"eraAbbr");at("NN",0,0,"eraAbbr");at("NNN",0,0,"eraAbbr");at("NNNN",0,0,"eraName");at("NNNNN",0,0,"eraNarrow");at("y",["y",1],"yo","eraYear");at("y",["yy",2],0,"eraYear");at("y",["yyy",3],0,"eraYear");at("y",["yyyy",4],0,"eraYear");Ke("N",Qh);Ke("NN",Qh);Ke("NNN",Qh);Ke("NNNN",jC);Ke("NNNNN",qC);zt(["N","NN","NNN","NNNN","NNNNN"],function(i,e,t,a){var s=t._locale.erasParse(i,a,t._strict);s?vt(t).era=s:vt(t).invalidEra=i});Ke("y",$a);Ke("yy",$a);Ke("yyy",$a);Ke("yyyy",$a);Ke("yo",VC);zt(["y","yy","yyy","yyyy"],In);zt(["yo"],function(i,e,t,a){var s;t._locale._eraYearOrdinalRegex&&(s=i.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[In]=t._locale.eraYearOrdinalParse(i,s):e[In]=parseInt(i,10)});function OC(i,e){var t,a,s,c=this._eras||lr("en")._eras;for(t=0,a=c.length;t<a;++t){switch(typeof c[t].since){case"string":s=je(c[t].since).startOf("day"),c[t].since=s.valueOf();break}switch(typeof c[t].until){case"undefined":c[t].until=1/0;break;case"string":s=je(c[t].until).startOf("day").valueOf(),c[t].until=s.valueOf();break}}return c}function NC(i,e,t){var a,s,c=this.eras(),h,g,b;for(i=i.toUpperCase(),a=0,s=c.length;a<s;++a)if(h=c[a].name.toUpperCase(),g=c[a].abbr.toUpperCase(),b=c[a].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(g===i)return c[a];break;case"NNNN":if(h===i)return c[a];break;case"NNNNN":if(b===i)return c[a];break}else if([h,g,b].indexOf(i)>=0)return c[a]}function IC(i,e){var t=i.since<=i.until?1:-1;return e===void 0?je(i.since).year():je(i.since).year()+(e-i.offset)*t}function PC(){var i,e,t,a=this.localeData().eras();for(i=0,e=a.length;i<e;++i)if(t=this.clone().startOf("day").valueOf(),a[i].since<=t&&t<=a[i].until||a[i].until<=t&&t<=a[i].since)return a[i].name;return""}function BC(){var i,e,t,a=this.localeData().eras();for(i=0,e=a.length;i<e;++i)if(t=this.clone().startOf("day").valueOf(),a[i].since<=t&&t<=a[i].until||a[i].until<=t&&t<=a[i].since)return a[i].narrow;return""}function HC(){var i,e,t,a=this.localeData().eras();for(i=0,e=a.length;i<e;++i)if(t=this.clone().startOf("day").valueOf(),a[i].since<=t&&t<=a[i].until||a[i].until<=t&&t<=a[i].since)return a[i].abbr;return""}function WC(){var i,e,t,a,s=this.localeData().eras();for(i=0,e=s.length;i<e;++i)if(t=s[i].since<=s[i].until?1:-1,a=this.clone().startOf("day").valueOf(),s[i].since<=a&&a<=s[i].until||s[i].until<=a&&a<=s[i].since)return(this.year()-je(s[i].since).year())*t+s[i].offset;return this.year()}function zC(i){return Mt(this,"_erasNameRegex")||ef.call(this),i?this._erasNameRegex:this._erasRegex}function UC(i){return Mt(this,"_erasAbbrRegex")||ef.call(this),i?this._erasAbbrRegex:this._erasRegex}function YC(i){return Mt(this,"_erasNarrowRegex")||ef.call(this),i?this._erasNarrowRegex:this._erasRegex}function Qh(i,e){return e.erasAbbrRegex(i)}function jC(i,e){return e.erasNameRegex(i)}function qC(i,e){return e.erasNarrowRegex(i)}function VC(i,e){return e._eraYearOrdinalRegex||$a}function ef(){var i=[],e=[],t=[],a=[],s,c,h,g,b,D=this.eras();for(s=0,c=D.length;s<c;++s)h=rr(D[s].name),g=rr(D[s].abbr),b=rr(D[s].narrow),e.push(h),i.push(g),t.push(b),a.push(h),a.push(g),a.push(b);this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}at(0,["gg",2],0,function(){return this.weekYear()%100});at(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Kl(i,e){at(0,[i,i.length],0,e)}Kl("gggg","weekYear");Kl("ggggg","weekYear");Kl("GGGG","isoWeekYear");Kl("GGGGG","isoWeekYear");Ke("G",jl);Ke("g",jl);Ke("GG",Xt,hi);Ke("gg",Xt,hi);Ke("GGGG",zh,Wh);Ke("gggg",zh,Wh);Ke("GGGGG",Yl,zl);Ke("ggggg",Yl,zl);ds(["gggg","ggggg","GGGG","GGGGG"],function(i,e,t,a){e[a.substr(0,2)]=Et(i)});ds(["gg","GG"],function(i,e,t,a){e[a]=je.parseTwoDigitYear(i)});function GC(i){return mv.call(this,i,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function $C(i){return mv.call(this,i,this.isoWeek(),this.isoWeekday(),1,4)}function KC(){return ar(this.year(),1,4)}function XC(){return ar(this.isoWeekYear(),1,4)}function JC(){var i=this.localeData()._week;return ar(this.year(),i.dow,i.doy)}function ZC(){var i=this.localeData()._week;return ar(this.weekYear(),i.dow,i.doy)}function mv(i,e,t,a,s){var c;return i==null?rs(this,a,s).year:(c=ar(i,a,s),e>c&&(e=c),QC.call(this,i,e,t,a,s))}function QC(i,e,t,a,s){var c=Km(i,e,t,a,s),h=is(c.year,0,c.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}at("Q",0,"Qo","quarter");Ke("Q",Bm);zt("Q",function(i,e){e[tr]=(Et(i)-1)*3});function e1(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)}at("D",["DD",2],"Do","date");Ke("D",Xt,Ka);Ke("DD",Xt,hi);Ke("Do",function(i,e){return i?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});zt(["D","DD"],Wi);zt("Do",function(i,e){e[Wi]=Et(i.match(Xt)[0])});var vv=Xa("Date",!0);at("DDD",["DDDD",3],"DDDo","dayOfYear");Ke("DDD",Ul);Ke("DDDD",Hm);zt(["DDD","DDDD"],function(i,e,t){t._dayOfYear=Et(i)});function t1(i){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return i==null?e:this.add(i-e,"d")}at("m",["mm",2],0,"minute");Ke("m",Xt,Uh);Ke("mm",Xt,hi);zt(["m","mm"],Ti);var n1=Xa("Minutes",!1);at("s",["ss",2],0,"second");Ke("s",Xt,Uh);Ke("ss",Xt,hi);zt(["s","ss"],nr);var i1=Xa("Seconds",!1);at("S",0,0,function(){return~~(this.millisecond()/100)});at(0,["SS",2],0,function(){return~~(this.millisecond()/10)});at(0,["SSS",3],0,"millisecond");at(0,["SSSS",4],0,function(){return this.millisecond()*10});at(0,["SSSSS",5],0,function(){return this.millisecond()*100});at(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});at(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});at(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});at(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ke("S",Ul,Bm);Ke("SS",Ul,hi);Ke("SSS",Ul,Hm);var kr,bv;for(kr="SSSS";kr.length<=9;kr+="S")Ke(kr,$a);function r1(i,e){e[Vr]=Et(("0."+i)*1e3)}for(kr="S";kr.length<=9;kr+="S")zt(kr,r1);bv=Xa("Milliseconds",!1);at("z",0,0,"zoneAbbr");at("zz",0,0,"zoneName");function a1(){return this._isUTC?"UTC":""}function o1(){return this._isUTC?"Coordinated Universal Time":""}var Fe=hs.prototype;Fe.add=ZD;Fe.calendar=aC;Fe.clone=oC;Fe.diff=dC;Fe.endOf=CC;Fe.format=vC;Fe.from=bC;Fe.fromNow=yC;Fe.to=xC;Fe.toNow=wC;Fe.get=mw;Fe.invalidAt=_C;Fe.isAfter=sC;Fe.isBefore=lC;Fe.isBetween=uC;Fe.isSame=cC;Fe.isSameOrAfter=hC;Fe.isSameOrBefore=fC;Fe.isValid=MC;Fe.lang=hv;Fe.locale=cv;Fe.localeData=fv;Fe.max=MD;Fe.min=LD;Fe.parsingFlags=FC;Fe.set=vw;Fe.startOf=DC;Fe.subtract=QD;Fe.toArray=EC;Fe.toObject=TC;Fe.toDate=SC;Fe.toISOString=gC;Fe.inspect=mC;typeof Symbol<"u"&&Symbol.for!=null&&(Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Fe.toJSON=LC;Fe.toString=pC;Fe.unix=AC;Fe.valueOf=kC;Fe.creationData=RC;Fe.eraName=PC;Fe.eraNarrow=BC;Fe.eraAbbr=HC;Fe.eraYear=WC;Fe.year=Um;Fe.isLeapYear=gw;Fe.weekYear=GC;Fe.isoWeekYear=$C;Fe.quarter=Fe.quarters=e1;Fe.month=Gm;Fe.daysInMonth=Sw;Fe.week=Fe.weeks=Ow;Fe.isoWeek=Fe.isoWeeks=Nw;Fe.weeksInYear=JC;Fe.weeksInWeekYear=ZC;Fe.isoWeeksInYear=KC;Fe.isoWeeksInISOWeekYear=XC;Fe.date=vv;Fe.day=Fe.days=$w;Fe.weekday=Kw;Fe.isoWeekday=Xw;Fe.dayOfYear=t1;Fe.hour=Fe.hours=iD;Fe.minute=Fe.minutes=n1;Fe.second=Fe.seconds=i1;Fe.millisecond=Fe.milliseconds=bv;Fe.utcOffset=HD;Fe.utc=zD;Fe.local=UD;Fe.parseZone=YD;Fe.hasAlignedHourOffset=jD;Fe.isDST=qD;Fe.isLocal=GD;Fe.isUtcOffset=$D;Fe.isUtc=ov;Fe.isUTC=ov;Fe.zoneAbbr=a1;Fe.zoneName=o1;Fe.dates=bi("dates accessor is deprecated. Use date instead.",vv);Fe.months=bi("months accessor is deprecated. Use month instead",Gm);Fe.years=bi("years accessor is deprecated. Use year instead",Um);Fe.zone=bi("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",WD);Fe.isDSTShifted=bi("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",VD);function s1(i){return Kt(i*1e3)}function l1(){return Kt.apply(null,arguments).parseZone()}function yv(i){return i}var Ft=Ph.prototype;Ft.calendar=Gx;Ft.longDateFormat=Jx;Ft.invalidDate=Qx;Ft.ordinal=nw;Ft.preparse=yv;Ft.postformat=yv;Ft.relativeTime=rw;Ft.pastFuture=aw;Ft.set=qx;Ft.eras=OC;Ft.erasParse=NC;Ft.erasConvertYear=IC;Ft.erasAbbrRegex=UC;Ft.erasNameRegex=zC;Ft.erasNarrowRegex=YC;Ft.months=Dw;Ft.monthsShort=Cw;Ft.monthsParse=Aw;Ft.monthsRegex=Tw;Ft.monthsShortRegex=Ew;Ft.week=Mw;Ft.firstDayOfYear=Rw;Ft.firstDayOfWeek=_w;Ft.weekdays=Yw;Ft.weekdaysMin=qw;Ft.weekdaysShort=jw;Ft.weekdaysParse=Gw;Ft.weekdaysRegex=Jw;Ft.weekdaysShortRegex=Zw;Ft.weekdaysMinRegex=Qw;Ft.isPM=tD;Ft.meridiem=rD;function Ll(i,e,t,a){var s=lr(),c=Yi().set(a,e);return s[t](c,i)}function xv(i,e,t){if(sr(i)&&(e=i,i=void 0),i=i||"",e!=null)return Ll(i,e,t,"month");var a,s=[];for(a=0;a<12;a++)s[a]=Ll(i,a,t,"month");return s}function tf(i,e,t,a){typeof i=="boolean"?(sr(e)&&(t=e,e=void 0),e=e||""):(e=i,t=e,i=!1,sr(e)&&(t=e,e=void 0),e=e||"");var s=lr(),c=i?s._week.dow:0,h,g=[];if(t!=null)return Ll(e,(t+c)%7,a,"day");for(h=0;h<7;h++)g[h]=Ll(e,(h+c)%7,a,"day");return g}function u1(i,e){return xv(i,e,"months")}function c1(i,e){return xv(i,e,"monthsShort")}function h1(i,e,t){return tf(i,e,t,"weekdays")}function f1(i,e,t){return tf(i,e,t,"weekdaysShort")}function d1(i,e,t){return tf(i,e,t,"weekdaysMin")}Ar("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(i){var e=i%10,t=Et(i%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return i+t}});je.lang=bi("moment.lang is deprecated. Use moment.locale instead.",Ar);je.langData=bi("moment.langData is deprecated. Use moment.localeData instead.",lr);var Ji=Math.abs;function p1(){var i=this._data;return this._milliseconds=Ji(this._milliseconds),this._days=Ji(this._days),this._months=Ji(this._months),i.milliseconds=Ji(i.milliseconds),i.seconds=Ji(i.seconds),i.minutes=Ji(i.minutes),i.hours=Ji(i.hours),i.months=Ji(i.months),i.years=Ji(i.years),this}function wv(i,e,t,a){var s=_i(e,t);return i._milliseconds+=a*s._milliseconds,i._days+=a*s._days,i._months+=a*s._months,i._bubble()}function g1(i,e){return wv(this,i,e,1)}function m1(i,e){return wv(this,i,e,-1)}function Eg(i){return i<0?Math.floor(i):Math.ceil(i)}function v1(){var i=this._milliseconds,e=this._days,t=this._months,a=this._data,s,c,h,g,b;return i>=0&&e>=0&&t>=0||i<=0&&e<=0&&t<=0||(i+=Eg(oh(t)+e)*864e5,e=0,t=0),a.milliseconds=i%1e3,s=pi(i/1e3),a.seconds=s%60,c=pi(s/60),a.minutes=c%60,h=pi(c/60),a.hours=h%24,e+=pi(h/24),b=pi(Dv(e)),t+=b,e-=Eg(oh(b)),g=pi(t/12),t%=12,a.days=e,a.months=t,a.years=g,this}function Dv(i){return i*4800/146097}function oh(i){return i*146097/4800}function b1(i){if(!this.isValid())return NaN;var e,t,a=this._milliseconds;if(i=yi(i),i==="month"||i==="quarter"||i==="year")switch(e=this._days+a/864e5,t=this._months+Dv(e),i){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(oh(this._months)),i){case"week":return e/7+a/6048e5;case"day":return e+a/864e5;case"hour":return e*24+a/36e5;case"minute":return e*1440+a/6e4;case"second":return e*86400+a/1e3;case"millisecond":return Math.floor(e*864e5)+a;default:throw new Error("Unknown unit "+i)}}function ur(i){return function(){return this.as(i)}}var Cv=ur("ms"),y1=ur("s"),x1=ur("m"),w1=ur("h"),D1=ur("d"),C1=ur("w"),k1=ur("M"),A1=ur("Q"),S1=ur("y"),E1=Cv;function T1(){return _i(this)}function L1(i){return i=yi(i),this.isValid()?this[i+"s"]():NaN}function ra(i){return function(){return this.isValid()?this._data[i]:NaN}}var M1=ra("milliseconds"),F1=ra("seconds"),_1=ra("minutes"),R1=ra("hours"),O1=ra("days"),N1=ra("months"),I1=ra("years");function P1(){return pi(this.days()/7)}var Qi=Math.round,Na={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function B1(i,e,t,a,s){return s.relativeTime(e||1,!!t,i,a)}function H1(i,e,t,a){var s=_i(i).abs(),c=Qi(s.as("s")),h=Qi(s.as("m")),g=Qi(s.as("h")),b=Qi(s.as("d")),D=Qi(s.as("M")),L=Qi(s.as("w")),N=Qi(s.as("y")),W=c<=t.ss&&["s",c]||c<t.s&&["ss",c]||h<=1&&["m"]||h<t.m&&["mm",h]||g<=1&&["h"]||g<t.h&&["hh",g]||b<=1&&["d"]||b<t.d&&["dd",b];return t.w!=null&&(W=W||L<=1&&["w"]||L<t.w&&["ww",L]),W=W||D<=1&&["M"]||D<t.M&&["MM",D]||N<=1&&["y"]||["yy",N],W[2]=e,W[3]=+i>0,W[4]=a,B1.apply(null,W)}function W1(i){return i===void 0?Qi:typeof i=="function"?(Qi=i,!0):!1}function z1(i,e){return Na[i]===void 0?!1:e===void 0?Na[i]:(Na[i]=e,i==="s"&&(Na.ss=e-1),!0)}function U1(i,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,a=Na,s,c;return typeof i=="object"&&(e=i,i=!1),typeof i=="boolean"&&(t=i),typeof e=="object"&&(a=Object.assign({},Na,e),e.s!=null&&e.ss==null&&(a.ss=e.s-1)),s=this.localeData(),c=H1(this,!t,a,s),t&&(c=s.pastFuture(+this,c)),s.postformat(c)}var gc=Math.abs;function Ta(i){return(i>0)-(i<0)||+i}function Xl(){if(!this.isValid())return this.localeData().invalidDate();var i=gc(this._milliseconds)/1e3,e=gc(this._days),t=gc(this._months),a,s,c,h,g=this.asSeconds(),b,D,L,N;return g?(a=pi(i/60),s=pi(a/60),i%=60,a%=60,c=pi(t/12),t%=12,h=i?i.toFixed(3).replace(/\.?0+$/,""):"",b=g<0?"-":"",D=Ta(this._months)!==Ta(g)?"-":"",L=Ta(this._days)!==Ta(g)?"-":"",N=Ta(this._milliseconds)!==Ta(g)?"-":"",b+"P"+(c?D+c+"Y":"")+(t?D+t+"M":"")+(e?L+e+"D":"")+(s||a||i?"T":"")+(s?N+s+"H":"")+(a?N+a+"M":"")+(i?N+h+"S":"")):"P0D"}var Tt=$l.prototype;Tt.isValid=ND;Tt.abs=p1;Tt.add=g1;Tt.subtract=m1;Tt.as=b1;Tt.asMilliseconds=Cv;Tt.asSeconds=y1;Tt.asMinutes=x1;Tt.asHours=w1;Tt.asDays=D1;Tt.asWeeks=C1;Tt.asMonths=k1;Tt.asQuarters=A1;Tt.asYears=S1;Tt.valueOf=E1;Tt._bubble=v1;Tt.clone=T1;Tt.get=L1;Tt.milliseconds=M1;Tt.seconds=F1;Tt.minutes=_1;Tt.hours=R1;Tt.days=O1;Tt.weeks=P1;Tt.months=N1;Tt.years=I1;Tt.humanize=U1;Tt.toISOString=Xl;Tt.toString=Xl;Tt.toJSON=Xl;Tt.locale=cv;Tt.localeData=fv;Tt.toIsoString=bi("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Xl);Tt.lang=hv;at("X",0,0,"unix");at("x",0,0,"valueOf");Ke("x",jl);Ke("X",uw);zt("X",function(i,e,t){t._d=new Date(parseFloat(i)*1e3)});zt("x",function(i,e,t){t._d=new Date(Et(i))});//! moment.js
je.version="2.30.1";Yx(Kt);je.fn=Fe;je.min=FD;je.max=_D;je.now=RD;je.utc=Yi;je.unix=s1;je.months=u1;je.isDate=cs;je.locale=Ar;je.invalid=Wl;je.duration=_i;je.isMoment=Fi;je.weekdays=h1;je.parseZone=l1;je.localeData=lr;je.isDuration=pl;je.monthsShort=c1;je.weekdaysMin=d1;je.defineLocale=Gh;je.updateLocale=lD;je.locales=uD;je.weekdaysShort=f1;je.normalizeUnits=yi;je.relativeTimeRounding=W1;je.relativeTimeThreshold=z1;je.calendarFormat=rC;je.prototype=Fe;je.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Y1=Object.freeze(Object.defineProperty({__proto__:null,default:je},Symbol.toStringTag,{value:"Module"}));//! moment.js locale configuration
//! locale : Korean [ko]
//! author : Kyungwook, Park : https://github.com/kyungw00k
//! author : Jeeeyul Lee <jeeeyul@gmail.com>
const j1=je.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}(일|월|주)/,ordinal:function(i,e){switch(e){case"d":case"D":case"DDD":return i+"일";case"M":return i+"월";case"w":case"W":return i+"주";default:return i}},meridiemParse:/오전|오후/,isPM:function(i){return i==="오후"},meridiem:function(i,e,t){return i<12?"오전":"오후"}});function kv(i,e){return function(){return i.apply(e,arguments)}}const{toString:q1}=Object.prototype,{getPrototypeOf:nf}=Object,{iterator:Jl,toStringTag:Av}=Symbol,Zl=(i=>e=>{const t=q1.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ri=i=>(i=i.toLowerCase(),e=>Zl(e)===i),Ql=i=>e=>typeof e===i,{isArray:Ja}=Array,os=Ql("undefined");function V1(i){return i!==null&&!os(i)&&i.constructor!==null&&!os(i.constructor)&&ni(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const Sv=Ri("ArrayBuffer");function G1(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&Sv(i.buffer),e}const $1=Ql("string"),ni=Ql("function"),Ev=Ql("number"),eu=i=>i!==null&&typeof i=="object",K1=i=>i===!0||i===!1,ml=i=>{if(Zl(i)!=="object")return!1;const e=nf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Av in i)&&!(Jl in i)},X1=Ri("Date"),J1=Ri("File"),Z1=Ri("Blob"),Q1=Ri("FileList"),ek=i=>eu(i)&&ni(i.pipe),tk=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||ni(i.append)&&((e=Zl(i))==="formdata"||e==="object"&&ni(i.toString)&&i.toString()==="[object FormData]"))},nk=Ri("URLSearchParams"),[ik,rk,ak,ok]=["ReadableStream","Request","Response","Headers"].map(Ri),sk=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ps(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let a,s;if(typeof i!="object"&&(i=[i]),Ja(i))for(a=0,s=i.length;a<s;a++)e.call(null,i[a],a,i);else{const c=t?Object.getOwnPropertyNames(i):Object.keys(i),h=c.length;let g;for(a=0;a<h;a++)g=c[a],e.call(null,i[g],g,i)}}function Tv(i,e){e=e.toLowerCase();const t=Object.keys(i);let a=t.length,s;for(;a-- >0;)if(s=t[a],e===s.toLowerCase())return s;return null}const Gr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Lv=i=>!os(i)&&i!==Gr;function sh(){const{caseless:i}=Lv(this)&&this||{},e={},t=(a,s)=>{const c=i&&Tv(e,s)||s;ml(e[c])&&ml(a)?e[c]=sh(e[c],a):ml(a)?e[c]=sh({},a):Ja(a)?e[c]=a.slice():e[c]=a};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&ps(arguments[a],t);return e}const lk=(i,e,t,{allOwnKeys:a}={})=>(ps(e,(s,c)=>{t&&ni(s)?i[c]=kv(s,t):i[c]=s},{allOwnKeys:a}),i),uk=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),ck=(i,e,t,a)=>{i.prototype=Object.create(e.prototype,a),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},hk=(i,e,t,a)=>{let s,c,h;const g={};if(e=e||{},i==null)return e;do{for(s=Object.getOwnPropertyNames(i),c=s.length;c-- >0;)h=s[c],(!a||a(h,i,e))&&!g[h]&&(e[h]=i[h],g[h]=!0);i=t!==!1&&nf(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},fk=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const a=i.indexOf(e,t);return a!==-1&&a===t},dk=i=>{if(!i)return null;if(Ja(i))return i;let e=i.length;if(!Ev(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},pk=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&nf(Uint8Array)),gk=(i,e)=>{const a=(i&&i[Jl]).call(i);let s;for(;(s=a.next())&&!s.done;){const c=s.value;e.call(i,c[0],c[1])}},mk=(i,e)=>{let t;const a=[];for(;(t=i.exec(e))!==null;)a.push(t);return a},vk=Ri("HTMLFormElement"),bk=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,a,s){return a.toUpperCase()+s}),Tg=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),yk=Ri("RegExp"),Mv=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),a={};ps(t,(s,c)=>{let h;(h=e(s,c,i))!==!1&&(a[c]=h||s)}),Object.defineProperties(i,a)},xk=i=>{Mv(i,(e,t)=>{if(ni(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const a=i[t];if(ni(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},wk=(i,e)=>{const t={},a=s=>{s.forEach(c=>{t[c]=!0})};return Ja(i)?a(i):a(String(i).split(e)),t},Dk=()=>{},Ck=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function kk(i){return!!(i&&ni(i.append)&&i[Av]==="FormData"&&i[Jl])}const Ak=i=>{const e=new Array(10),t=(a,s)=>{if(eu(a)){if(e.indexOf(a)>=0)return;if(!("toJSON"in a)){e[s]=a;const c=Ja(a)?[]:{};return ps(a,(h,g)=>{const b=t(h,s+1);!os(b)&&(c[g]=b)}),e[s]=void 0,c}}return a};return t(i,0)},Sk=Ri("AsyncFunction"),Ek=i=>i&&(eu(i)||ni(i))&&ni(i.then)&&ni(i.catch),Fv=((i,e)=>i?setImmediate:e?((t,a)=>(Gr.addEventListener("message",({source:s,data:c})=>{s===Gr&&c===t&&a.length&&a.shift()()},!1),s=>{a.push(s),Gr.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ni(Gr.postMessage)),Tk=typeof queueMicrotask<"u"?queueMicrotask.bind(Gr):typeof process<"u"&&process.nextTick||Fv,Lk=i=>i!=null&&ni(i[Jl]),me={isArray:Ja,isArrayBuffer:Sv,isBuffer:V1,isFormData:tk,isArrayBufferView:G1,isString:$1,isNumber:Ev,isBoolean:K1,isObject:eu,isPlainObject:ml,isReadableStream:ik,isRequest:rk,isResponse:ak,isHeaders:ok,isUndefined:os,isDate:X1,isFile:J1,isBlob:Z1,isRegExp:yk,isFunction:ni,isStream:ek,isURLSearchParams:nk,isTypedArray:pk,isFileList:Q1,forEach:ps,merge:sh,extend:lk,trim:sk,stripBOM:uk,inherits:ck,toFlatObject:hk,kindOf:Zl,kindOfTest:Ri,endsWith:fk,toArray:dk,forEachEntry:gk,matchAll:mk,isHTMLForm:vk,hasOwnProperty:Tg,hasOwnProp:Tg,reduceDescriptors:Mv,freezeMethods:xk,toObjectSet:wk,toCamelCase:bk,noop:Dk,toFiniteNumber:Ck,findKey:Tv,global:Gr,isContextDefined:Lv,isSpecCompliantForm:kk,toJSONObject:Ak,isAsyncFn:Sk,isThenable:Ek,setImmediate:Fv,asap:Tk,isIterable:Lk};function mt(i,e,t,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}me.inherits(mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const _v=mt.prototype,Rv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{Rv[i]={value:i}});Object.defineProperties(mt,Rv);Object.defineProperty(_v,"isAxiosError",{value:!0});mt.from=(i,e,t,a,s,c)=>{const h=Object.create(_v);return me.toFlatObject(i,h,function(b){return b!==Error.prototype},g=>g!=="isAxiosError"),mt.call(h,i.message,e,t,a,s),h.cause=i,h.name=i.name,c&&Object.assign(h,c),h};const Mk=null;function lh(i){return me.isPlainObject(i)||me.isArray(i)}function Ov(i){return me.endsWith(i,"[]")?i.slice(0,-2):i}function Lg(i,e,t){return i?i.concat(e).map(function(s,c){return s=Ov(s),!t&&c?"["+s+"]":s}).join(t?".":""):e}function Fk(i){return me.isArray(i)&&!i.some(lh)}const _k=me.toFlatObject(me,{},null,function(e){return/^is[A-Z]/.test(e)});function tu(i,e,t){if(!me.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=me.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ue,ce){return!me.isUndefined(ce[ue])});const a=t.metaTokens,s=t.visitor||L,c=t.dots,h=t.indexes,b=(t.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(e);if(!me.isFunction(s))throw new TypeError("visitor must be a function");function D(Q){if(Q===null)return"";if(me.isDate(Q))return Q.toISOString();if(!b&&me.isBlob(Q))throw new mt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(Q)||me.isTypedArray(Q)?b&&typeof Blob=="function"?new Blob([Q]):Buffer.from(Q):Q}function L(Q,ue,ce){let ge=Q;if(Q&&!ce&&typeof Q=="object"){if(me.endsWith(ue,"{}"))ue=a?ue:ue.slice(0,-2),Q=JSON.stringify(Q);else if(me.isArray(Q)&&Fk(Q)||(me.isFileList(Q)||me.endsWith(ue,"[]"))&&(ge=me.toArray(Q)))return ue=Ov(ue),ge.forEach(function(te,ee){!(me.isUndefined(te)||te===null)&&e.append(h===!0?Lg([ue],ee,c):h===null?ue:ue+"[]",D(te))}),!1}return lh(Q)?!0:(e.append(Lg(ce,ue,c),D(Q)),!1)}const N=[],W=Object.assign(_k,{defaultVisitor:L,convertValue:D,isVisitable:lh});function fe(Q,ue){if(!me.isUndefined(Q)){if(N.indexOf(Q)!==-1)throw Error("Circular reference detected in "+ue.join("."));N.push(Q),me.forEach(Q,function(ge,Z){(!(me.isUndefined(ge)||ge===null)&&s.call(e,ge,me.isString(Z)?Z.trim():Z,ue,W))===!0&&fe(ge,ue?ue.concat(Z):[Z])}),N.pop()}}if(!me.isObject(i))throw new TypeError("data must be an object");return fe(i),e}function Mg(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function rf(i,e){this._pairs=[],i&&tu(i,this,e)}const Nv=rf.prototype;Nv.append=function(e,t){this._pairs.push([e,t])};Nv.toString=function(e){const t=e?function(a){return e.call(this,a,Mg)}:Mg;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function Rk(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Iv(i,e,t){if(!e)return i;const a=t&&t.encode||Rk;me.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let c;if(s?c=s(e,t):c=me.isURLSearchParams(e)?e.toString():new rf(e,t).toString(a),c){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+c}return i}class Fg{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){me.forEach(this.handlers,function(a){a!==null&&e(a)})}}const Pv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ok=typeof URLSearchParams<"u"?URLSearchParams:rf,Nk=typeof FormData<"u"?FormData:null,Ik=typeof Blob<"u"?Blob:null,Pk={isBrowser:!0,classes:{URLSearchParams:Ok,FormData:Nk,Blob:Ik},protocols:["http","https","file","blob","url","data"]},af=typeof window<"u"&&typeof document<"u",uh=typeof navigator=="object"&&navigator||void 0,Bk=af&&(!uh||["ReactNative","NativeScript","NS"].indexOf(uh.product)<0),Hk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Wk=af&&window.location.href||"http://localhost",zk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:af,hasStandardBrowserEnv:Bk,hasStandardBrowserWebWorkerEnv:Hk,navigator:uh,origin:Wk},Symbol.toStringTag,{value:"Module"})),Nn={...zk,...Pk};function Uk(i,e){return tu(i,new Nn.classes.URLSearchParams,Object.assign({visitor:function(t,a,s,c){return Nn.isNode&&me.isBuffer(t)?(this.append(a,t.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},e))}function Yk(i){return me.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jk(i){const e={},t=Object.keys(i);let a;const s=t.length;let c;for(a=0;a<s;a++)c=t[a],e[c]=i[c];return e}function Bv(i){function e(t,a,s,c){let h=t[c++];if(h==="__proto__")return!0;const g=Number.isFinite(+h),b=c>=t.length;return h=!h&&me.isArray(s)?s.length:h,b?(me.hasOwnProp(s,h)?s[h]=[s[h],a]:s[h]=a,!g):((!s[h]||!me.isObject(s[h]))&&(s[h]=[]),e(t,a,s[h],c)&&me.isArray(s[h])&&(s[h]=jk(s[h])),!g)}if(me.isFormData(i)&&me.isFunction(i.entries)){const t={};return me.forEachEntry(i,(a,s)=>{e(Yk(a),s,t,0)}),t}return null}function qk(i,e,t){if(me.isString(i))try{return(e||JSON.parse)(i),me.trim(i)}catch(a){if(a.name!=="SyntaxError")throw a}return(t||JSON.stringify)(i)}const gs={transitional:Pv,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const a=t.getContentType()||"",s=a.indexOf("application/json")>-1,c=me.isObject(e);if(c&&me.isHTMLForm(e)&&(e=new FormData(e)),me.isFormData(e))return s?JSON.stringify(Bv(e)):e;if(me.isArrayBuffer(e)||me.isBuffer(e)||me.isStream(e)||me.isFile(e)||me.isBlob(e)||me.isReadableStream(e))return e;if(me.isArrayBufferView(e))return e.buffer;if(me.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let g;if(c){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Uk(e,this.formSerializer).toString();if((g=me.isFileList(e))||a.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return tu(g?{"files[]":e}:e,b&&new b,this.formSerializer)}}return c||s?(t.setContentType("application/json",!1),qk(e)):e}],transformResponse:[function(e){const t=this.transitional||gs.transitional,a=t&&t.forcedJSONParsing,s=this.responseType==="json";if(me.isResponse(e)||me.isReadableStream(e))return e;if(e&&me.isString(e)&&(a&&!this.responseType||s)){const h=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(g){if(h)throw g.name==="SyntaxError"?mt.from(g,mt.ERR_BAD_RESPONSE,this,null,this.response):g}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nn.classes.FormData,Blob:Nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],i=>{gs.headers[i]={}});const Vk=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gk=i=>{const e={};let t,a,s;return i&&i.split(`
`).forEach(function(h){s=h.indexOf(":"),t=h.substring(0,s).trim().toLowerCase(),a=h.substring(s+1).trim(),!(!t||e[t]&&Vk[t])&&(t==="set-cookie"?e[t]?e[t].push(a):e[t]=[a]:e[t]=e[t]?e[t]+", "+a:a)}),e},_g=Symbol("internals");function Ro(i){return i&&String(i).trim().toLowerCase()}function vl(i){return i===!1||i==null?i:me.isArray(i)?i.map(vl):String(i)}function $k(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=t.exec(i);)e[a[1]]=a[2];return e}const Kk=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function mc(i,e,t,a,s){if(me.isFunction(a))return a.call(this,e,t);if(s&&(e=t),!!me.isString(e)){if(me.isString(a))return e.indexOf(a)!==-1;if(me.isRegExp(a))return a.test(e)}}function Xk(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,a)=>t.toUpperCase()+a)}function Jk(i,e){const t=me.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(i,a+t,{value:function(s,c,h){return this[a].call(this,e,s,c,h)},configurable:!0})})}let ii=class{constructor(e){e&&this.set(e)}set(e,t,a){const s=this;function c(g,b,D){const L=Ro(b);if(!L)throw new Error("header name must be a non-empty string");const N=me.findKey(s,L);(!N||s[N]===void 0||D===!0||D===void 0&&s[N]!==!1)&&(s[N||b]=vl(g))}const h=(g,b)=>me.forEach(g,(D,L)=>c(D,L,b));if(me.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(me.isString(e)&&(e=e.trim())&&!Kk(e))h(Gk(e),t);else if(me.isObject(e)&&me.isIterable(e)){let g={},b,D;for(const L of e){if(!me.isArray(L))throw TypeError("Object iterator must return a key-value pair");g[D=L[0]]=(b=g[D])?me.isArray(b)?[...b,L[1]]:[b,L[1]]:L[1]}h(g,t)}else e!=null&&c(t,e,a);return this}get(e,t){if(e=Ro(e),e){const a=me.findKey(this,e);if(a){const s=this[a];if(!t)return s;if(t===!0)return $k(s);if(me.isFunction(t))return t.call(this,s,a);if(me.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ro(e),e){const a=me.findKey(this,e);return!!(a&&this[a]!==void 0&&(!t||mc(this,this[a],a,t)))}return!1}delete(e,t){const a=this;let s=!1;function c(h){if(h=Ro(h),h){const g=me.findKey(a,h);g&&(!t||mc(a,a[g],g,t))&&(delete a[g],s=!0)}}return me.isArray(e)?e.forEach(c):c(e),s}clear(e){const t=Object.keys(this);let a=t.length,s=!1;for(;a--;){const c=t[a];(!e||mc(this,this[c],c,e,!0))&&(delete this[c],s=!0)}return s}normalize(e){const t=this,a={};return me.forEach(this,(s,c)=>{const h=me.findKey(a,c);if(h){t[h]=vl(s),delete t[c];return}const g=e?Xk(c):String(c).trim();g!==c&&delete t[c],t[g]=vl(s),a[g]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return me.forEach(this,(a,s)=>{a!=null&&a!==!1&&(t[s]=e&&me.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const a=new this(e);return t.forEach(s=>a.set(s)),a}static accessor(e){const a=(this[_g]=this[_g]={accessors:{}}).accessors,s=this.prototype;function c(h){const g=Ro(h);a[g]||(Jk(s,h),a[g]=!0)}return me.isArray(e)?e.forEach(c):c(e),this}};ii.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(ii.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(a){this[t]=a}}});me.freezeMethods(ii);function vc(i,e){const t=this||gs,a=e||t,s=ii.from(a.headers);let c=a.data;return me.forEach(i,function(g){c=g.call(t,c,s.normalize(),e?e.status:void 0)}),s.normalize(),c}function Hv(i){return!!(i&&i.__CANCEL__)}function Za(i,e,t){mt.call(this,i??"canceled",mt.ERR_CANCELED,e,t),this.name="CanceledError"}me.inherits(Za,mt,{__CANCEL__:!0});function Wv(i,e,t){const a=t.config.validateStatus;!t.status||!a||a(t.status)?i(t):e(new mt("Request failed with status code "+t.status,[mt.ERR_BAD_REQUEST,mt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Zk(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function Qk(i,e){i=i||10;const t=new Array(i),a=new Array(i);let s=0,c=0,h;return e=e!==void 0?e:1e3,function(b){const D=Date.now(),L=a[c];h||(h=D),t[s]=b,a[s]=D;let N=c,W=0;for(;N!==s;)W+=t[N++],N=N%i;if(s=(s+1)%i,s===c&&(c=(c+1)%i),D-h<e)return;const fe=L&&D-L;return fe?Math.round(W*1e3/fe):void 0}}function eA(i,e){let t=0,a=1e3/e,s,c;const h=(D,L=Date.now())=>{t=L,s=null,c&&(clearTimeout(c),c=null),i.apply(null,D)};return[(...D)=>{const L=Date.now(),N=L-t;N>=a?h(D,L):(s=D,c||(c=setTimeout(()=>{c=null,h(s)},a-N)))},()=>s&&h(s)]}const Ml=(i,e,t=3)=>{let a=0;const s=Qk(50,250);return eA(c=>{const h=c.loaded,g=c.lengthComputable?c.total:void 0,b=h-a,D=s(b),L=h<=g;a=h;const N={loaded:h,total:g,progress:g?h/g:void 0,bytes:b,rate:D||void 0,estimated:D&&g&&L?(g-h)/D:void 0,event:c,lengthComputable:g!=null,[e?"download":"upload"]:!0};i(N)},t)},Rg=(i,e)=>{const t=i!=null;return[a=>e[0]({lengthComputable:t,total:i,loaded:a}),e[1]]},Og=i=>(...e)=>me.asap(()=>i(...e)),tA=Nn.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,Nn.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(Nn.origin),Nn.navigator&&/(msie|trident)/i.test(Nn.navigator.userAgent)):()=>!0,nA=Nn.hasStandardBrowserEnv?{write(i,e,t,a,s,c){const h=[i+"="+encodeURIComponent(e)];me.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),me.isString(a)&&h.push("path="+a),me.isString(s)&&h.push("domain="+s),c===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function iA(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function rA(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function zv(i,e,t){let a=!iA(e);return i&&(a||t==!1)?rA(i,e):e}const Ng=i=>i instanceof ii?{...i}:i;function ea(i,e){e=e||{};const t={};function a(D,L,N,W){return me.isPlainObject(D)&&me.isPlainObject(L)?me.merge.call({caseless:W},D,L):me.isPlainObject(L)?me.merge({},L):me.isArray(L)?L.slice():L}function s(D,L,N,W){if(me.isUndefined(L)){if(!me.isUndefined(D))return a(void 0,D,N,W)}else return a(D,L,N,W)}function c(D,L){if(!me.isUndefined(L))return a(void 0,L)}function h(D,L){if(me.isUndefined(L)){if(!me.isUndefined(D))return a(void 0,D)}else return a(void 0,L)}function g(D,L,N){if(N in e)return a(D,L);if(N in i)return a(void 0,D)}const b={url:c,method:c,data:c,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:g,headers:(D,L,N)=>s(Ng(D),Ng(L),N,!0)};return me.forEach(Object.keys(Object.assign({},i,e)),function(L){const N=b[L]||s,W=N(i[L],e[L],L);me.isUndefined(W)&&N!==g||(t[L]=W)}),t}const Uv=i=>{const e=ea({},i);let{data:t,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:c,headers:h,auth:g}=e;e.headers=h=ii.from(h),e.url=Iv(zv(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),g&&h.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):"")));let b;if(me.isFormData(t)){if(Nn.hasStandardBrowserEnv||Nn.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((b=h.getContentType())!==!1){const[D,...L]=b?b.split(";").map(N=>N.trim()).filter(Boolean):[];h.setContentType([D||"multipart/form-data",...L].join("; "))}}if(Nn.hasStandardBrowserEnv&&(a&&me.isFunction(a)&&(a=a(e)),a||a!==!1&&tA(e.url))){const D=s&&c&&nA.read(c);D&&h.set(s,D)}return e},aA=typeof XMLHttpRequest<"u",oA=aA&&function(i){return new Promise(function(t,a){const s=Uv(i);let c=s.data;const h=ii.from(s.headers).normalize();let{responseType:g,onUploadProgress:b,onDownloadProgress:D}=s,L,N,W,fe,Q;function ue(){fe&&fe(),Q&&Q(),s.cancelToken&&s.cancelToken.unsubscribe(L),s.signal&&s.signal.removeEventListener("abort",L)}let ce=new XMLHttpRequest;ce.open(s.method.toUpperCase(),s.url,!0),ce.timeout=s.timeout;function ge(){if(!ce)return;const te=ii.from("getAllResponseHeaders"in ce&&ce.getAllResponseHeaders()),ie={data:!g||g==="text"||g==="json"?ce.responseText:ce.response,status:ce.status,statusText:ce.statusText,headers:te,config:i,request:ce};Wv(function(de){t(de),ue()},function(de){a(de),ue()},ie),ce=null}"onloadend"in ce?ce.onloadend=ge:ce.onreadystatechange=function(){!ce||ce.readyState!==4||ce.status===0&&!(ce.responseURL&&ce.responseURL.indexOf("file:")===0)||setTimeout(ge)},ce.onabort=function(){ce&&(a(new mt("Request aborted",mt.ECONNABORTED,i,ce)),ce=null)},ce.onerror=function(){a(new mt("Network Error",mt.ERR_NETWORK,i,ce)),ce=null},ce.ontimeout=function(){let ee=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const ie=s.transitional||Pv;s.timeoutErrorMessage&&(ee=s.timeoutErrorMessage),a(new mt(ee,ie.clarifyTimeoutError?mt.ETIMEDOUT:mt.ECONNABORTED,i,ce)),ce=null},c===void 0&&h.setContentType(null),"setRequestHeader"in ce&&me.forEach(h.toJSON(),function(ee,ie){ce.setRequestHeader(ie,ee)}),me.isUndefined(s.withCredentials)||(ce.withCredentials=!!s.withCredentials),g&&g!=="json"&&(ce.responseType=s.responseType),D&&([W,Q]=Ml(D,!0),ce.addEventListener("progress",W)),b&&ce.upload&&([N,fe]=Ml(b),ce.upload.addEventListener("progress",N),ce.upload.addEventListener("loadend",fe)),(s.cancelToken||s.signal)&&(L=te=>{ce&&(a(!te||te.type?new Za(null,i,ce):te),ce.abort(),ce=null)},s.cancelToken&&s.cancelToken.subscribe(L),s.signal&&(s.signal.aborted?L():s.signal.addEventListener("abort",L)));const Z=Zk(s.url);if(Z&&Nn.protocols.indexOf(Z)===-1){a(new mt("Unsupported protocol "+Z+":",mt.ERR_BAD_REQUEST,i));return}ce.send(c||null)})},sA=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let a=new AbortController,s;const c=function(D){if(!s){s=!0,g();const L=D instanceof Error?D:this.reason;a.abort(L instanceof mt?L:new Za(L instanceof Error?L.message:L))}};let h=e&&setTimeout(()=>{h=null,c(new mt(`timeout ${e} of ms exceeded`,mt.ETIMEDOUT))},e);const g=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(D=>{D.unsubscribe?D.unsubscribe(c):D.removeEventListener("abort",c)}),i=null)};i.forEach(D=>D.addEventListener("abort",c));const{signal:b}=a;return b.unsubscribe=()=>me.asap(g),b}},lA=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let a=0,s;for(;a<t;)s=a+e,yield i.slice(a,s),a=s},uA=async function*(i,e){for await(const t of cA(i))yield*lA(t,e)},cA=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:a}=await e.read();if(t)break;yield a}}finally{await e.cancel()}},Ig=(i,e,t,a)=>{const s=uA(i,e);let c=0,h,g=b=>{h||(h=!0,a&&a(b))};return new ReadableStream({async pull(b){try{const{done:D,value:L}=await s.next();if(D){g(),b.close();return}let N=L.byteLength;if(t){let W=c+=N;t(W)}b.enqueue(new Uint8Array(L))}catch(D){throw g(D),D}},cancel(b){return g(b),s.return()}},{highWaterMark:2})},nu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Yv=nu&&typeof ReadableStream=="function",hA=nu&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),jv=(i,...e)=>{try{return!!i(...e)}catch{return!1}},fA=Yv&&jv(()=>{let i=!1;const e=new Request(Nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),Pg=64*1024,ch=Yv&&jv(()=>me.isReadableStream(new Response("").body)),Fl={stream:ch&&(i=>i.body)};nu&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Fl[e]&&(Fl[e]=me.isFunction(i[e])?t=>t[e]():(t,a)=>{throw new mt(`Response type '${e}' is not supported`,mt.ERR_NOT_SUPPORT,a)})})})(new Response);const dA=async i=>{if(i==null)return 0;if(me.isBlob(i))return i.size;if(me.isSpecCompliantForm(i))return(await new Request(Nn.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(me.isArrayBufferView(i)||me.isArrayBuffer(i))return i.byteLength;if(me.isURLSearchParams(i)&&(i=i+""),me.isString(i))return(await hA(i)).byteLength},pA=async(i,e)=>{const t=me.toFiniteNumber(i.getContentLength());return t??dA(e)},gA=nu&&(async i=>{let{url:e,method:t,data:a,signal:s,cancelToken:c,timeout:h,onDownloadProgress:g,onUploadProgress:b,responseType:D,headers:L,withCredentials:N="same-origin",fetchOptions:W}=Uv(i);D=D?(D+"").toLowerCase():"text";let fe=sA([s,c&&c.toAbortSignal()],h),Q;const ue=fe&&fe.unsubscribe&&(()=>{fe.unsubscribe()});let ce;try{if(b&&fA&&t!=="get"&&t!=="head"&&(ce=await pA(L,a))!==0){let ie=new Request(e,{method:"POST",body:a,duplex:"half"}),ve;if(me.isFormData(a)&&(ve=ie.headers.get("content-type"))&&L.setContentType(ve),ie.body){const[de,we]=Rg(ce,Ml(Og(b)));a=Ig(ie.body,Pg,de,we)}}me.isString(N)||(N=N?"include":"omit");const ge="credentials"in Request.prototype;Q=new Request(e,{...W,signal:fe,method:t.toUpperCase(),headers:L.normalize().toJSON(),body:a,duplex:"half",credentials:ge?N:void 0});let Z=await fetch(Q);const te=ch&&(D==="stream"||D==="response");if(ch&&(g||te&&ue)){const ie={};["status","statusText","headers"].forEach(Me=>{ie[Me]=Z[Me]});const ve=me.toFiniteNumber(Z.headers.get("content-length")),[de,we]=g&&Rg(ve,Ml(Og(g),!0))||[];Z=new Response(Ig(Z.body,Pg,de,()=>{we&&we(),ue&&ue()}),ie)}D=D||"text";let ee=await Fl[me.findKey(Fl,D)||"text"](Z,i);return!te&&ue&&ue(),await new Promise((ie,ve)=>{Wv(ie,ve,{data:ee,headers:ii.from(Z.headers),status:Z.status,statusText:Z.statusText,config:i,request:Q})})}catch(ge){throw ue&&ue(),ge&&ge.name==="TypeError"&&/Load failed|fetch/i.test(ge.message)?Object.assign(new mt("Network Error",mt.ERR_NETWORK,i,Q),{cause:ge.cause||ge}):mt.from(ge,ge&&ge.code,i,Q)}}),hh={http:Mk,xhr:oA,fetch:gA};me.forEach(hh,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const Bg=i=>`- ${i}`,mA=i=>me.isFunction(i)||i===null||i===!1,qv={getAdapter:i=>{i=me.isArray(i)?i:[i];const{length:e}=i;let t,a;const s={};for(let c=0;c<e;c++){t=i[c];let h;if(a=t,!mA(t)&&(a=hh[(h=String(t)).toLowerCase()],a===void 0))throw new mt(`Unknown adapter '${h}'`);if(a)break;s[h||"#"+c]=a}if(!a){const c=Object.entries(s).map(([g,b])=>`adapter ${g} `+(b===!1?"is not supported by the environment":"is not available in the build"));let h=e?c.length>1?`since :
`+c.map(Bg).join(`
`):" "+Bg(c[0]):"as no adapter specified";throw new mt("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return a},adapters:hh};function bc(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Za(null,i)}function Hg(i){return bc(i),i.headers=ii.from(i.headers),i.data=vc.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),qv.getAdapter(i.adapter||gs.adapter)(i).then(function(a){return bc(i),a.data=vc.call(i,i.transformResponse,a),a.headers=ii.from(a.headers),a},function(a){return Hv(a)||(bc(i),a&&a.response&&(a.response.data=vc.call(i,i.transformResponse,a.response),a.response.headers=ii.from(a.response.headers))),Promise.reject(a)})}const Vv="1.9.0",iu={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{iu[i]=function(a){return typeof a===i||"a"+(e<1?"n ":" ")+i}});const Wg={};iu.transitional=function(e,t,a){function s(c,h){return"[Axios v"+Vv+"] Transitional option '"+c+"'"+h+(a?". "+a:"")}return(c,h,g)=>{if(e===!1)throw new mt(s(h," has been removed"+(t?" in "+t:"")),mt.ERR_DEPRECATED);return t&&!Wg[h]&&(Wg[h]=!0,console.warn(s(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(c,h,g):!0}};iu.spelling=function(e){return(t,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};function vA(i,e,t){if(typeof i!="object")throw new mt("options must be an object",mt.ERR_BAD_OPTION_VALUE);const a=Object.keys(i);let s=a.length;for(;s-- >0;){const c=a[s],h=e[c];if(h){const g=i[c],b=g===void 0||h(g,c,i);if(b!==!0)throw new mt("option "+c+" must be "+b,mt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new mt("Unknown option "+c,mt.ERR_BAD_OPTION)}}const bl={assertOptions:vA,validators:iu},Hi=bl.validators;let Jr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Fg,response:new Fg}}async request(e,t){try{return await this._request(e,t)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const c=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?c&&!String(a.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+c):a.stack=c}catch{}}throw a}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ea(this.defaults,t);const{transitional:a,paramsSerializer:s,headers:c}=t;a!==void 0&&bl.assertOptions(a,{silentJSONParsing:Hi.transitional(Hi.boolean),forcedJSONParsing:Hi.transitional(Hi.boolean),clarifyTimeoutError:Hi.transitional(Hi.boolean)},!1),s!=null&&(me.isFunction(s)?t.paramsSerializer={serialize:s}:bl.assertOptions(s,{encode:Hi.function,serialize:Hi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),bl.assertOptions(t,{baseUrl:Hi.spelling("baseURL"),withXsrfToken:Hi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=c&&me.merge(c.common,c[t.method]);c&&me.forEach(["delete","get","head","post","put","patch","common"],Q=>{delete c[Q]}),t.headers=ii.concat(h,c);const g=[];let b=!0;this.interceptors.request.forEach(function(ue){typeof ue.runWhen=="function"&&ue.runWhen(t)===!1||(b=b&&ue.synchronous,g.unshift(ue.fulfilled,ue.rejected))});const D=[];this.interceptors.response.forEach(function(ue){D.push(ue.fulfilled,ue.rejected)});let L,N=0,W;if(!b){const Q=[Hg.bind(this),void 0];for(Q.unshift.apply(Q,g),Q.push.apply(Q,D),W=Q.length,L=Promise.resolve(t);N<W;)L=L.then(Q[N++],Q[N++]);return L}W=g.length;let fe=t;for(N=0;N<W;){const Q=g[N++],ue=g[N++];try{fe=Q(fe)}catch(ce){ue.call(this,ce);break}}try{L=Hg.call(this,fe)}catch(Q){return Promise.reject(Q)}for(N=0,W=D.length;N<W;)L=L.then(D[N++],D[N++]);return L}getUri(e){e=ea(this.defaults,e);const t=zv(e.baseURL,e.url,e.allowAbsoluteUrls);return Iv(t,e.params,e.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(e){Jr.prototype[e]=function(t,a){return this.request(ea(a||{},{method:e,url:t,data:(a||{}).data}))}});me.forEach(["post","put","patch"],function(e){function t(a){return function(c,h,g){return this.request(ea(g||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:c,data:h}))}}Jr.prototype[e]=t(),Jr.prototype[e+"Form"]=t(!0)});let bA=class Gv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(c){t=c});const a=this;this.promise.then(s=>{if(!a._listeners)return;let c=a._listeners.length;for(;c-- >0;)a._listeners[c](s);a._listeners=null}),this.promise.then=s=>{let c;const h=new Promise(g=>{a.subscribe(g),c=g}).then(s);return h.cancel=function(){a.unsubscribe(c)},h},e(function(c,h,g){a.reason||(a.reason=new Za(c,h,g),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=a=>{e.abort(a)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Gv(function(s){e=s}),cancel:e}}};function yA(i){return function(t){return i.apply(null,t)}}function xA(i){return me.isObject(i)&&i.isAxiosError===!0}const fh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fh).forEach(([i,e])=>{fh[e]=i});function $v(i){const e=new Jr(i),t=kv(Jr.prototype.request,e);return me.extend(t,Jr.prototype,e,{allOwnKeys:!0}),me.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return $v(ea(i,s))},t}const pn=$v(gs);pn.Axios=Jr;pn.CanceledError=Za;pn.CancelToken=bA;pn.isCancel=Hv;pn.VERSION=Vv;pn.toFormData=tu;pn.AxiosError=mt;pn.Cancel=pn.CanceledError;pn.all=function(e){return Promise.all(e)};pn.spread=yA;pn.isAxiosError=xA;pn.mergeConfig=ea;pn.AxiosHeaders=ii;pn.formToJSON=i=>Bv(me.isHTMLForm(i)?new FormData(i):i);pn.getAdapter=qv.getAdapter;pn.HttpStatusCode=fh;pn.default=pn;const{Axios:IE,AxiosError:PE,CanceledError:BE,isCancel:HE,CancelToken:WE,VERSION:zE,all:UE,Cancel:YE,isAxiosError:jE,spread:qE,toFormData:VE,AxiosHeaders:GE,HttpStatusCode:$E,formToJSON:KE,getAdapter:XE,mergeConfig:JE}=pn;var yc=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],za={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(i){return typeof console<"u"&&console.warn(i)},getWeek:function(i){var e=new Date(i.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},ss={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(i){var e=i%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},ti=function(i,e){return e===void 0&&(e=2),("000"+i).slice(e*-1)},di=function(i){return i===!0?1:0};function zg(i,e){var t;return function(){var a=this,s=arguments;clearTimeout(t),t=setTimeout(function(){return i.apply(a,s)},e)}}var xc=function(i){return i instanceof Array?i:[i]};function jn(i,e,t){if(t===!0)return i.classList.add(e);i.classList.remove(e)}function Rt(i,e,t){var a=window.document.createElement(i);return e=e||"",t=t||"",a.className=e,t!==void 0&&(a.textContent=t),a}function nl(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Kv(i,e){if(e(i))return i;if(i.parentNode)return Kv(i.parentNode,e)}function il(i,e){var t=Rt("div","numInputWrapper"),a=Rt("input","numInput "+i),s=Rt("span","arrowUp"),c=Rt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?a.type="number":(a.type="text",a.pattern="\\d*"),e!==void 0)for(var h in e)a.setAttribute(h,e[h]);return t.appendChild(a),t.appendChild(s),t.appendChild(c),t}function oi(i){try{if(typeof i.composedPath=="function"){var e=i.composedPath();return e[0]}return i.target}catch{return i.target}}var wc=function(){},_l=function(i,e,t){return t.months[e?"shorthand":"longhand"][i]},wA={D:wc,F:function(i,e,t){i.setMonth(t.months.longhand.indexOf(e))},G:function(i,e){i.setHours((i.getHours()>=12?12:0)+parseFloat(e))},H:function(i,e){i.setHours(parseFloat(e))},J:function(i,e){i.setDate(parseFloat(e))},K:function(i,e,t){i.setHours(i.getHours()%12+12*di(new RegExp(t.amPM[1],"i").test(e)))},M:function(i,e,t){i.setMonth(t.months.shorthand.indexOf(e))},S:function(i,e){i.setSeconds(parseFloat(e))},U:function(i,e){return new Date(parseFloat(e)*1e3)},W:function(i,e,t){var a=parseInt(e),s=new Date(i.getFullYear(),0,2+(a-1)*7,0,0,0,0);return s.setDate(s.getDate()-s.getDay()+t.firstDayOfWeek),s},Y:function(i,e){i.setFullYear(parseFloat(e))},Z:function(i,e){return new Date(e)},d:function(i,e){i.setDate(parseFloat(e))},h:function(i,e){i.setHours((i.getHours()>=12?12:0)+parseFloat(e))},i:function(i,e){i.setMinutes(parseFloat(e))},j:function(i,e){i.setDate(parseFloat(e))},l:wc,m:function(i,e){i.setMonth(parseFloat(e)-1)},n:function(i,e){i.setMonth(parseFloat(e)-1)},s:function(i,e){i.setSeconds(parseFloat(e))},u:function(i,e){return new Date(parseFloat(e))},w:wc,y:function(i,e){i.setFullYear(2e3+parseFloat(e))}},jr={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},qo={Z:function(i){return i.toISOString()},D:function(i,e,t){return e.weekdays.shorthand[qo.w(i,e,t)]},F:function(i,e,t){return _l(qo.n(i,e,t)-1,!1,e)},G:function(i,e,t){return ti(qo.h(i,e,t))},H:function(i){return ti(i.getHours())},J:function(i,e){return e.ordinal!==void 0?i.getDate()+e.ordinal(i.getDate()):i.getDate()},K:function(i,e){return e.amPM[di(i.getHours()>11)]},M:function(i,e){return _l(i.getMonth(),!0,e)},S:function(i){return ti(i.getSeconds())},U:function(i){return i.getTime()/1e3},W:function(i,e,t){return t.getWeek(i)},Y:function(i){return ti(i.getFullYear(),4)},d:function(i){return ti(i.getDate())},h:function(i){return i.getHours()%12?i.getHours()%12:12},i:function(i){return ti(i.getMinutes())},j:function(i){return i.getDate()},l:function(i,e){return e.weekdays.longhand[i.getDay()]},m:function(i){return ti(i.getMonth()+1)},n:function(i){return i.getMonth()+1},s:function(i){return i.getSeconds()},u:function(i){return i.getTime()},w:function(i){return i.getDay()},y:function(i){return String(i.getFullYear()).substring(2)}},Xv=function(i){var e=i.config,t=e===void 0?za:e,a=i.l10n,s=a===void 0?ss:a,c=i.isMobile,h=c===void 0?!1:c;return function(g,b,D){var L=D||s;return t.formatDate!==void 0&&!h?t.formatDate(g,b,L):b.split("").map(function(N,W,fe){return qo[N]&&fe[W-1]!=="\\"?qo[N](g,L,t):N!=="\\"?N:""}).join("")}},dh=function(i){var e=i.config,t=e===void 0?za:e,a=i.l10n,s=a===void 0?ss:a;return function(c,h,g,b){if(!(c!==0&&!c)){var D=b||s,L,N=c;if(c instanceof Date)L=new Date(c.getTime());else if(typeof c!="string"&&c.toFixed!==void 0)L=new Date(c);else if(typeof c=="string"){var W=h||(t||za).dateFormat,fe=String(c).trim();if(fe==="today")L=new Date,g=!0;else if(t&&t.parseDate)L=t.parseDate(c,W);else if(/Z$/.test(fe)||/GMT$/.test(fe))L=new Date(c);else{for(var Q=void 0,ue=[],ce=0,ge=0,Z="";ce<W.length;ce++){var te=W[ce],ee=te==="\\",ie=W[ce-1]==="\\"||ee;if(jr[te]&&!ie){Z+=jr[te];var ve=new RegExp(Z).exec(c);ve&&(Q=!0)&&ue[te!=="Y"?"push":"unshift"]({fn:wA[te],val:ve[++ge]})}else ee||(Z+=".")}L=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),ue.forEach(function(de){var we=de.fn,Me=de.val;return L=we(L,Me,D)||L}),L=Q?L:void 0}}if(!(L instanceof Date&&!isNaN(L.getTime()))){t.errorHandler(new Error("Invalid date provided: "+N));return}return g===!0&&L.setHours(0,0,0,0),L}}};function si(i,e,t){return t===void 0&&(t=!0),t!==!1?new Date(i.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):i.getTime()-e.getTime()}var DA=function(i,e,t){return i>Math.min(e,t)&&i<Math.max(e,t)},Dc=function(i,e,t){return i*3600+e*60+t},CA=function(i){var e=Math.floor(i/3600),t=(i-e*3600)/60;return[e,t,i-e*3600-t*60]},kA={DAY:864e5};function Cc(i){var e=i.defaultHour,t=i.defaultMinute,a=i.defaultSeconds;if(i.minDate!==void 0){var s=i.minDate.getHours(),c=i.minDate.getMinutes(),h=i.minDate.getSeconds();e<s&&(e=s),e===s&&t<c&&(t=c),e===s&&t===c&&a<h&&(a=i.minDate.getSeconds())}if(i.maxDate!==void 0){var g=i.maxDate.getHours(),b=i.maxDate.getMinutes();e=Math.min(e,g),e===g&&(t=Math.min(b,t)),e===g&&t===b&&(a=i.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:a}}typeof Object.assign!="function"&&(Object.assign=function(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!i)throw TypeError("Cannot convert undefined or null to object");for(var a=function(g){g&&Object.keys(g).forEach(function(b){return i[b]=g[b]})},s=0,c=e;s<c.length;s++){var h=c[s];a(h)}return i});var On=function(){return On=Object.assign||function(i){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},On.apply(this,arguments)},Ug=function(){for(var i=0,e=0,t=arguments.length;e<t;e++)i+=arguments[e].length;for(var a=Array(i),s=0,e=0;e<t;e++)for(var c=arguments[e],h=0,g=c.length;h<g;h++,s++)a[s]=c[h];return a},AA=300;function SA(i,e){var t={config:On(On({},za),mn.defaultConfig),l10n:ss};t.parseDate=dh({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=ue,t._setHoursFromDate=W,t._positionCalendar=Ut,t.changeMonth=I,t.changeYear=De,t.clear=C,t.close=v,t.onMouseOver=rt,t._createElement=Rt,t.createDay=ve,t.destroy=R,t.isEnabled=He,t.jumpToDate=Z,t.updateValue=_e,t.open=yt,t.redraw=qt,t.set=K,t.setDate=A,t.toggle=z;function a(){t.utils={getDaysInMonth:function(T,F){return T===void 0&&(T=t.currentMonth),F===void 0&&(F=t.currentYear),T===1&&(F%4===0&&F%100!==0||F%400===0)?29:t.l10n.daysInMonth[T]}}}function s(){t.element=t.input=i,t.isOpen=!1,xt(),Dt(),x(),p(),a(),t.isMobile||ie(),ge(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&W(t.config.noCalendar?t.latestSelectedDateObj:void 0),_e(!1)),g();var T=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&T&&Ut(),X("onReady")}function c(){var T;return((T=t.calendarContainer)===null||T===void 0?void 0:T.getRootNode()).activeElement||document.activeElement}function h(T){return T.bind(t)}function g(){var T=t.config;T.weekNumbers===!1&&T.showMonths===1||T.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var F=(t.days.offsetWidth+1)*T.showMonths;t.daysContainer.style.width=F+"px",t.calendarContainer.style.width=F+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function b(T){if(t.selectedDates.length===0){var F=t.config.minDate===void 0||si(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),Y=Cc(t.config);F.setHours(Y.hours,Y.minutes,Y.seconds,F.getMilliseconds()),t.selectedDates=[F],t.latestSelectedDateObj=F}T!==void 0&&T.type!=="blur"&&Se(T);var re=t._input.value;N(),_e(),t._input.value!==re&&t._debouncedChange()}function D(T,F){return T%12+12*di(F===t.l10n.amPM[1])}function L(T){switch(T%24){case 0:case 12:return 12;default:return T%12}}function N(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var T=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,F=(parseInt(t.minuteElement.value,10)||0)%60,Y=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(T=D(T,t.amPM.textContent));var re=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&si(t.latestSelectedDateObj,t.config.minDate,!0)===0,xe=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&si(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var Ae=Dc(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),Xe=Dc(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),Re=Dc(T,F,Y);if(Re>Xe&&Re<Ae){var Ze=CA(Ae);T=Ze[0],F=Ze[1],Y=Ze[2]}}else{if(xe){var Ge=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;T=Math.min(T,Ge.getHours()),T===Ge.getHours()&&(F=Math.min(F,Ge.getMinutes())),F===Ge.getMinutes()&&(Y=Math.min(Y,Ge.getSeconds()))}if(re){var tt=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;T=Math.max(T,tt.getHours()),T===tt.getHours()&&F<tt.getMinutes()&&(F=tt.getMinutes()),F===tt.getMinutes()&&(Y=Math.max(Y,tt.getSeconds()))}}fe(T,F,Y)}}function W(T){var F=T||t.latestSelectedDateObj;F&&F instanceof Date&&fe(F.getHours(),F.getMinutes(),F.getSeconds())}function fe(T,F,Y){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(T%24,F,Y||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=ti(t.config.time_24hr?T:(12+T)%12+12*di(T%12===0)),t.minuteElement.value=ti(F),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[di(T>=12)]),t.secondElement!==void 0&&(t.secondElement.value=ti(Y)))}function Q(T){var F=oi(T),Y=parseInt(F.value)+(T.delta||0);(Y/1e3>1||T.key==="Enter"&&!/[^\d]/.test(Y.toString()))&&De(Y)}function ue(T,F,Y,re){if(F instanceof Array)return F.forEach(function(xe){return ue(T,xe,Y,re)});if(T instanceof Array)return T.forEach(function(xe){return ue(xe,F,Y,re)});T.addEventListener(F,Y,re),t._handlers.push({remove:function(){return T.removeEventListener(F,Y,re)}})}function ce(){X("onChange")}function ge(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(Y){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+Y+"]"),function(re){return ue(re,"click",t[Y])})}),t.isMobile){B();return}var T=zg(ht,50);if(t._debouncedChange=zg(ce,AA),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&ue(t.daysContainer,"mouseover",function(Y){t.config.mode==="range"&&rt(oi(Y))}),ue(t._input,"keydown",$e),t.calendarContainer!==void 0&&ue(t.calendarContainer,"keydown",$e),!t.config.inline&&!t.config.static&&ue(window,"resize",T),window.ontouchstart!==void 0?ue(window.document,"touchstart",he):ue(window.document,"mousedown",he),ue(window.document,"focus",he,{capture:!0}),t.config.clickOpens===!0&&(ue(t._input,"focus",t.open),ue(t._input,"click",t.open)),t.daysContainer!==void 0&&(ue(t.monthNav,"click",Be),ue(t.monthNav,["keyup","increment"],Q),ue(t.daysContainer,"click",oe)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var F=function(Y){return oi(Y).select()};ue(t.timeContainer,["increment"],b),ue(t.timeContainer,"blur",b,{capture:!0}),ue(t.timeContainer,"click",te),ue([t.hourElement,t.minuteElement],["focus","click"],F),t.secondElement!==void 0&&ue(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&ue(t.amPM,"click",function(Y){b(Y)})}t.config.allowInput&&ue(t._input,"blur",Ue)}function Z(T,F){var Y=T!==void 0?t.parseDate(T):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),re=t.currentYear,xe=t.currentMonth;try{Y!==void 0&&(t.currentYear=Y.getFullYear(),t.currentMonth=Y.getMonth())}catch(Ae){Ae.message="Invalid date supplied: "+Y,t.config.errorHandler(Ae)}F&&t.currentYear!==re&&(X("onYearChange"),Je()),F&&(t.currentYear!==re||t.currentMonth!==xe)&&X("onMonthChange"),t.redraw()}function te(T){var F=oi(T);~F.className.indexOf("arrow")&&ee(T,F.classList.contains("arrowUp")?1:-1)}function ee(T,F,Y){var re=T&&oi(T),xe=Y||re&&re.parentNode&&re.parentNode.firstChild,Ae=V("increment");Ae.delta=F,xe&&xe.dispatchEvent(Ae)}function ie(){var T=window.document.createDocumentFragment();if(t.calendarContainer=Rt("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(T.appendChild(le()),t.innerContainer=Rt("div","flatpickr-innerContainer"),t.config.weekNumbers){var F=j(),Y=F.weekWrapper,re=F.weekNumbers;t.innerContainer.appendChild(Y),t.weekNumbers=re,t.weekWrapper=Y}t.rContainer=Rt("div","flatpickr-rContainer"),t.rContainer.appendChild(k()),t.daysContainer||(t.daysContainer=Rt("div","flatpickr-days"),t.daysContainer.tabIndex=-1),Ve(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),T.appendChild(t.innerContainer)}t.config.enableTime&&T.appendChild(M()),jn(t.calendarContainer,"rangeMode",t.config.mode==="range"),jn(t.calendarContainer,"animate",t.config.animate===!0),jn(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(T);var xe=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!xe&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var Ae=Rt("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(Ae,t.element),Ae.appendChild(t.element),t.altInput&&Ae.appendChild(t.altInput),Ae.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function ve(T,F,Y,re){var xe=He(F,!0),Ae=Rt("span",T,F.getDate().toString());return Ae.dateObj=F,Ae.$i=re,Ae.setAttribute("aria-label",t.formatDate(F,t.config.ariaDateFormat)),T.indexOf("hidden")===-1&&si(F,t.now)===0&&(t.todayDateElem=Ae,Ae.classList.add("today"),Ae.setAttribute("aria-current","date")),xe?(Ae.tabIndex=-1,H(F)&&(Ae.classList.add("selected"),t.selectedDateElem=Ae,t.config.mode==="range"&&(jn(Ae,"startRange",t.selectedDates[0]&&si(F,t.selectedDates[0],!0)===0),jn(Ae,"endRange",t.selectedDates[1]&&si(F,t.selectedDates[1],!0)===0),T==="nextMonthDay"&&Ae.classList.add("inRange")))):Ae.classList.add("flatpickr-disabled"),t.config.mode==="range"&&ne(F)&&!H(F)&&Ae.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&T!=="prevMonthDay"&&re%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(F)+"</span>"),X("onDayCreate",Ae),Ae}function de(T){T.focus(),t.config.mode==="range"&&rt(T)}function we(T){for(var F=T>0?0:t.config.showMonths-1,Y=T>0?t.config.showMonths:-1,re=F;re!=Y;re+=T)for(var xe=t.daysContainer.children[re],Ae=T>0?0:xe.children.length-1,Xe=T>0?xe.children.length:-1,Re=Ae;Re!=Xe;Re+=T){var Ze=xe.children[Re];if(Ze.className.indexOf("hidden")===-1&&He(Ze.dateObj))return Ze}}function Me(T,F){for(var Y=T.className.indexOf("Month")===-1?T.dateObj.getMonth():t.currentMonth,re=F>0?t.config.showMonths:-1,xe=F>0?1:-1,Ae=Y-t.currentMonth;Ae!=re;Ae+=xe)for(var Xe=t.daysContainer.children[Ae],Re=Y-t.currentMonth===Ae?T.$i+F:F<0?Xe.children.length-1:0,Ze=Xe.children.length,Ge=Re;Ge>=0&&Ge<Ze&&Ge!=(F>0?Ze:-1);Ge+=xe){var tt=Xe.children[Ge];if(tt.className.indexOf("hidden")===-1&&He(tt.dateObj)&&Math.abs(T.$i-Ge)>=Math.abs(F))return de(tt)}t.changeMonth(xe),ot(we(xe),0)}function ot(T,F){var Y=c(),re=Pe(Y||document.body),xe=T!==void 0?T:re?Y:t.selectedDateElem!==void 0&&Pe(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&Pe(t.todayDateElem)?t.todayDateElem:we(F>0?1:-1);xe===void 0?t._input.focus():re?Me(xe,F):de(xe)}function Ee(T,F){for(var Y=(new Date(T,F,1).getDay()-t.l10n.firstDayOfWeek+7)%7,re=t.utils.getDaysInMonth((F-1+12)%12,T),xe=t.utils.getDaysInMonth(F,T),Ae=window.document.createDocumentFragment(),Xe=t.config.showMonths>1,Re=Xe?"prevMonthDay hidden":"prevMonthDay",Ze=Xe?"nextMonthDay hidden":"nextMonthDay",Ge=re+1-Y,tt=0;Ge<=re;Ge++,tt++)Ae.appendChild(ve("flatpickr-day "+Re,new Date(T,F-1,Ge),Ge,tt));for(Ge=1;Ge<=xe;Ge++,tt++)Ae.appendChild(ve("flatpickr-day",new Date(T,F,Ge),Ge,tt));for(var St=xe+1;St<=42-Y&&(t.config.showMonths===1||tt%7!==0);St++,tt++)Ae.appendChild(ve("flatpickr-day "+Ze,new Date(T,F+1,St%xe),St,tt));var bn=Rt("div","dayContainer");return bn.appendChild(Ae),bn}function Ve(){if(t.daysContainer!==void 0){nl(t.daysContainer),t.weekNumbers&&nl(t.weekNumbers);for(var T=document.createDocumentFragment(),F=0;F<t.config.showMonths;F++){var Y=new Date(t.currentYear,t.currentMonth,1);Y.setMonth(t.currentMonth+F),T.appendChild(Ee(Y.getFullYear(),Y.getMonth()))}t.daysContainer.appendChild(T),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&rt()}}function Je(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var T=function(re){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&re<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&re>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var F=0;F<12;F++)if(T(F)){var Y=Rt("option","flatpickr-monthDropdown-month");Y.value=new Date(t.currentYear,F).getMonth().toString(),Y.textContent=_l(F,t.config.shorthandCurrentMonth,t.l10n),Y.tabIndex=-1,t.currentMonth===F&&(Y.selected=!0),t.monthsDropdownContainer.appendChild(Y)}}}function it(){var T=Rt("div","flatpickr-month"),F=window.document.createDocumentFragment(),Y;t.config.showMonths>1||t.config.monthSelectorType==="static"?Y=Rt("span","cur-month"):(t.monthsDropdownContainer=Rt("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),ue(t.monthsDropdownContainer,"change",function(Xe){var Re=oi(Xe),Ze=parseInt(Re.value,10);t.changeMonth(Ze-t.currentMonth),X("onMonthChange")}),Je(),Y=t.monthsDropdownContainer);var re=il("cur-year",{tabindex:"-1"}),xe=re.getElementsByTagName("input")[0];xe.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&xe.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(xe.setAttribute("max",t.config.maxDate.getFullYear().toString()),xe.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var Ae=Rt("div","flatpickr-current-month");return Ae.appendChild(Y),Ae.appendChild(re),F.appendChild(Ae),T.appendChild(F),{container:T,yearElement:xe,monthElement:Y}}function G(){nl(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var T=t.config.showMonths;T--;){var F=it();t.yearElements.push(F.yearElement),t.monthElements.push(F.monthElement),t.monthNav.appendChild(F.container)}t.monthNav.appendChild(t.nextMonthNav)}function le(){return t.monthNav=Rt("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Rt("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Rt("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,G(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(T){t.__hidePrevMonthArrow!==T&&(jn(t.prevMonthNav,"flatpickr-disabled",T),t.__hidePrevMonthArrow=T)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(T){t.__hideNextMonthArrow!==T&&(jn(t.nextMonthNav,"flatpickr-disabled",T),t.__hideNextMonthArrow=T)}}),t.currentYearElement=t.yearElements[0],$(),t.monthNav}function M(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var T=Cc(t.config);t.timeContainer=Rt("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var F=Rt("span","flatpickr-time-separator",":"),Y=il("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=Y.getElementsByTagName("input")[0];var re=il("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=re.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=ti(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?T.hours:L(T.hours)),t.minuteElement.value=ti(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():T.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Y),t.timeContainer.appendChild(F),t.timeContainer.appendChild(re),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var xe=il("flatpickr-second");t.secondElement=xe.getElementsByTagName("input")[0],t.secondElement.value=ti(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():T.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Rt("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(xe)}return t.config.time_24hr||(t.amPM=Rt("span","flatpickr-am-pm",t.l10n.amPM[di((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function k(){t.weekdayContainer?nl(t.weekdayContainer):t.weekdayContainer=Rt("div","flatpickr-weekdays");for(var T=t.config.showMonths;T--;){var F=Rt("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(F)}return E(),t.weekdayContainer}function E(){if(t.weekdayContainer){var T=t.l10n.firstDayOfWeek,F=Ug(t.l10n.weekdays.shorthand);T>0&&T<F.length&&(F=Ug(F.splice(T,F.length),F.splice(0,T)));for(var Y=t.config.showMonths;Y--;)t.weekdayContainer.children[Y].innerHTML=`
      <span class='flatpickr-weekday'>
        `+F.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function j(){t.calendarContainer.classList.add("hasWeeks");var T=Rt("div","flatpickr-weekwrapper");T.appendChild(Rt("span","flatpickr-weekday",t.l10n.weekAbbreviation));var F=Rt("div","flatpickr-weeks");return T.appendChild(F),{weekWrapper:T,weekNumbers:F}}function I(T,F){F===void 0&&(F=!0);var Y=F?T:T-t.currentMonth;Y<0&&t._hidePrevMonthArrow===!0||Y>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=Y,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,X("onYearChange"),Je()),Ve(),X("onMonthChange"),$())}function C(T,F){if(T===void 0&&(T=!0),F===void 0&&(F=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,F===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var Y=Cc(t.config),re=Y.hours,xe=Y.minutes,Ae=Y.seconds;fe(re,xe,Ae)}t.redraw(),T&&X("onChange")}function v(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),X("onClose")}function R(){t.config!==void 0&&X("onDestroy");for(var T=t._handlers.length;T--;)t._handlers[T].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var F=t.calendarContainer.parentNode;if(F.lastChild&&F.removeChild(F.lastChild),F.parentNode){for(;F.firstChild;)F.parentNode.insertBefore(F.firstChild,F);F.parentNode.removeChild(F)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(Y){try{delete t[Y]}catch{}})}function be(T){return t.calendarContainer.contains(T)}function he(T){if(t.isOpen&&!t.config.inline){var F=oi(T),Y=be(F),re=F===t.input||F===t.altInput||t.element.contains(F)||T.path&&T.path.indexOf&&(~T.path.indexOf(t.input)||~T.path.indexOf(t.altInput)),xe=!re&&!Y&&!be(T.relatedTarget),Ae=!t.config.ignoredFocusElements.some(function(Xe){return Xe.contains(F)});xe&&Ae&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&b(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function De(T){if(!(!T||t.config.minDate&&T<t.config.minDate.getFullYear()||t.config.maxDate&&T>t.config.maxDate.getFullYear())){var F=T,Y=t.currentYear!==F;t.currentYear=F||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),Y&&(t.redraw(),X("onYearChange"),Je())}}function He(T,F){var Y;F===void 0&&(F=!0);var re=t.parseDate(T,void 0,F);if(t.config.minDate&&re&&si(re,t.config.minDate,F!==void 0?F:!t.minDateHasTime)<0||t.config.maxDate&&re&&si(re,t.config.maxDate,F!==void 0?F:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(re===void 0)return!1;for(var xe=!!t.config.enable,Ae=(Y=t.config.enable)!==null&&Y!==void 0?Y:t.config.disable,Xe=0,Re=void 0;Xe<Ae.length;Xe++){if(Re=Ae[Xe],typeof Re=="function"&&Re(re))return xe;if(Re instanceof Date&&re!==void 0&&Re.getTime()===re.getTime())return xe;if(typeof Re=="string"){var Ze=t.parseDate(Re,void 0,!0);return Ze&&Ze.getTime()===re.getTime()?xe:!xe}else if(typeof Re=="object"&&re!==void 0&&Re.from&&Re.to&&re.getTime()>=Re.from.getTime()&&re.getTime()<=Re.to.getTime())return xe}return!xe}function Pe(T){return t.daysContainer!==void 0?T.className.indexOf("hidden")===-1&&T.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(T):!1}function Ue(T){var F=T.target===t._input,Y=t._input.value.trimEnd()!==ke();F&&Y&&!(T.relatedTarget&&be(T.relatedTarget))&&t.setDate(t._input.value,!0,T.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function $e(T){var F=oi(T),Y=t.config.wrap?i.contains(F):F===t._input,re=t.config.allowInput,xe=t.isOpen&&(!re||!Y),Ae=t.config.inline&&Y&&!re;if(T.keyCode===13&&Y){if(re)return t.setDate(t._input.value,!0,F===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),F.blur();t.open()}else if(be(F)||xe||Ae){var Xe=!!t.timeContainer&&t.timeContainer.contains(F);switch(T.keyCode){case 13:Xe?(T.preventDefault(),b(),en()):oe(T);break;case 27:T.preventDefault(),en();break;case 8:case 46:Y&&!t.config.allowInput&&(T.preventDefault(),t.clear());break;case 37:case 39:if(!Xe&&!Y){T.preventDefault();var Re=c();if(t.daysContainer!==void 0&&(re===!1||Re&&Pe(Re))){var Ze=T.keyCode===39?1:-1;T.ctrlKey?(T.stopPropagation(),I(Ze),ot(we(1),0)):ot(void 0,Ze)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:T.preventDefault();var Ge=T.keyCode===40?1:-1;t.daysContainer&&F.$i!==void 0||F===t.input||F===t.altInput?T.ctrlKey?(T.stopPropagation(),De(t.currentYear-Ge),ot(we(1),0)):Xe||ot(void 0,Ge*7):F===t.currentYearElement?De(t.currentYear-Ge):t.config.enableTime&&(!Xe&&t.hourElement&&t.hourElement.focus(),b(T),t._debouncedChange());break;case 9:if(Xe){var tt=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Pt){return Pt}),St=tt.indexOf(F);if(St!==-1){var bn=tt[St+(T.shiftKey?-1:1)];T.preventDefault(),(bn||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(F)&&T.shiftKey&&(T.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&F===t.amPM)switch(T.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],N(),_e();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],N(),_e();break}(Y||be(F))&&X("onKeyDown",T)}function rt(T,F){if(F===void 0&&(F="flatpickr-day"),!(t.selectedDates.length!==1||T&&(!T.classList.contains(F)||T.classList.contains("flatpickr-disabled")))){for(var Y=T?T.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),re=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),xe=Math.min(Y,t.selectedDates[0].getTime()),Ae=Math.max(Y,t.selectedDates[0].getTime()),Xe=!1,Re=0,Ze=0,Ge=xe;Ge<Ae;Ge+=kA.DAY)He(new Date(Ge),!0)||(Xe=Xe||Ge>xe&&Ge<Ae,Ge<re&&(!Re||Ge>Re)?Re=Ge:Ge>re&&(!Ze||Ge<Ze)&&(Ze=Ge));var tt=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+F));tt.forEach(function(St){var bn=St.dateObj,Pt=bn.getTime(),Jn=Re>0&&Pt<Re||Ze>0&&Pt>Ze;if(Jn){St.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(ri){St.classList.remove(ri)});return}else if(Xe&&!Jn)return;["startRange","inRange","endRange","notAllowed"].forEach(function(ri){St.classList.remove(ri)}),T!==void 0&&(T.classList.add(Y<=t.selectedDates[0].getTime()?"startRange":"endRange"),re<Y&&Pt===re?St.classList.add("startRange"):re>Y&&Pt===re&&St.classList.add("endRange"),Pt>=Re&&(Ze===0||Pt<=Ze)&&DA(Pt,re,Y)&&St.classList.add("inRange"))})}}function ht(){t.isOpen&&!t.config.static&&!t.config.inline&&Ut()}function yt(T,F){if(F===void 0&&(F=t._positionElement),t.isMobile===!0){if(T){T.preventDefault();var Y=oi(T);Y&&Y.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),X("onOpen");return}else if(t._input.disabled||t.config.inline)return;var re=t.isOpen;t.isOpen=!0,re||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),X("onOpen"),Ut(F)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(T===void 0||!t.timeContainer.contains(T.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function Le(T){return function(F){var Y=t.config["_"+T+"Date"]=t.parseDate(F,t.config.dateFormat),re=t.config["_"+(T==="min"?"max":"min")+"Date"];Y!==void 0&&(t[T==="min"?"minDateHasTime":"maxDateHasTime"]=Y.getHours()>0||Y.getMinutes()>0||Y.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(xe){return He(xe)}),!t.selectedDates.length&&T==="min"&&W(Y),_e()),t.daysContainer&&(qt(),Y!==void 0?t.currentYearElement[T]=Y.getFullYear().toString():t.currentYearElement.removeAttribute(T),t.currentYearElement.disabled=!!re&&Y!==void 0&&re.getFullYear()===Y.getFullYear())}}function xt(){var T=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],F=On(On({},JSON.parse(JSON.stringify(i.dataset||{}))),e),Y={};t.config.parseDate=F.parseDate,t.config.formatDate=F.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(tt){t.config._enable=U(tt)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(tt){t.config._disable=U(tt)}});var re=F.mode==="time";if(!F.dateFormat&&(F.enableTime||re)){var xe=mn.defaultConfig.dateFormat||za.dateFormat;Y.dateFormat=F.noCalendar||re?"H:i"+(F.enableSeconds?":S":""):xe+" H:i"+(F.enableSeconds?":S":"")}if(F.altInput&&(F.enableTime||re)&&!F.altFormat){var Ae=mn.defaultConfig.altFormat||za.altFormat;Y.altFormat=F.noCalendar||re?"h:i"+(F.enableSeconds?":S K":" K"):Ae+(" h:i"+(F.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:Le("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:Le("max")});var Xe=function(tt){return function(St){t.config[tt==="min"?"_minTime":"_maxTime"]=t.parseDate(St,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:Xe("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:Xe("max")}),F.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,Y,F);for(var Re=0;Re<T.length;Re++)t.config[T[Re]]=t.config[T[Re]]===!0||t.config[T[Re]]==="true";yc.filter(function(tt){return t.config[tt]!==void 0}).forEach(function(tt){t.config[tt]=xc(t.config[tt]||[]).map(h)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Re=0;Re<t.config.plugins.length;Re++){var Ze=t.config.plugins[Re](t)||{};for(var Ge in Ze)yc.indexOf(Ge)>-1?t.config[Ge]=xc(Ze[Ge]).map(h).concat(t.config[Ge]):typeof F[Ge]>"u"&&(t.config[Ge]=Ze[Ge])}F.altInputClass||(t.config.altInputClass=At().className+" "+t.config.altInputClass),X("onParseConfig")}function At(){return t.config.wrap?i.querySelector("[data-input]"):i}function Dt(){typeof t.config.locale!="object"&&typeof mn.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=On(On({},mn.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?mn.l10ns[t.config.locale]:void 0),jr.D="("+t.l10n.weekdays.shorthand.join("|")+")",jr.l="("+t.l10n.weekdays.longhand.join("|")+")",jr.M="("+t.l10n.months.shorthand.join("|")+")",jr.F="("+t.l10n.months.longhand.join("|")+")",jr.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var T=On(On({},e),JSON.parse(JSON.stringify(i.dataset||{})));T.time_24hr===void 0&&mn.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=Xv(t),t.parseDate=dh({config:t.config,l10n:t.l10n})}function Ut(T){if(typeof t.config.position=="function")return void t.config.position(t,T);if(t.calendarContainer!==void 0){X("onPreCalendarPosition");var F=T||t._positionElement,Y=Array.prototype.reduce.call(t.calendarContainer.children,function(ut,Ht){return ut+Ht.offsetHeight},0),re=t.calendarContainer.offsetWidth,xe=t.config.position.split(" "),Ae=xe[0],Xe=xe.length>1?xe[1]:null,Re=F.getBoundingClientRect(),Ze=window.innerHeight-Re.bottom,Ge=Ae==="above"||Ae!=="below"&&Ze<Y&&Re.top>Y,tt=window.pageYOffset+Re.top+(Ge?-Y-2:F.offsetHeight+2);if(jn(t.calendarContainer,"arrowTop",!Ge),jn(t.calendarContainer,"arrowBottom",Ge),!t.config.inline){var St=window.pageXOffset+Re.left,bn=!1,Pt=!1;Xe==="center"?(St-=(re-Re.width)/2,bn=!0):Xe==="right"&&(St-=re-Re.width,Pt=!0),jn(t.calendarContainer,"arrowLeft",!bn&&!Pt),jn(t.calendarContainer,"arrowCenter",bn),jn(t.calendarContainer,"arrowRight",Pt);var Jn=window.document.body.offsetWidth-(window.pageXOffset+Re.right),ri=St+re>window.document.body.offsetWidth,tn=Jn+re>window.document.body.offsetWidth;if(jn(t.calendarContainer,"rightMost",ri),!t.config.static)if(t.calendarContainer.style.top=tt+"px",!ri)t.calendarContainer.style.left=St+"px",t.calendarContainer.style.right="auto";else if(!tn)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=Jn+"px";else{var Tn=Ye();if(Tn===void 0)return;var Pn=window.document.body.offsetWidth,q=Math.max(0,Pn/2-re/2),We=".flatpickr-calendar.centerMost:before",Ie=".flatpickr-calendar.centerMost:after",dt=Tn.cssRules.length,bt="{left:"+Re.left+"px;right:auto;}";jn(t.calendarContainer,"rightMost",!1),jn(t.calendarContainer,"centerMost",!0),Tn.insertRule(We+","+Ie+bt,dt),t.calendarContainer.style.left=q+"px",t.calendarContainer.style.right="auto"}}}}function Ye(){for(var T=null,F=0;F<document.styleSheets.length;F++){var Y=document.styleSheets[F];if(Y.cssRules){try{Y.cssRules}catch{continue}T=Y;break}}return T??_t()}function _t(){var T=document.createElement("style");return document.head.appendChild(T),T.sheet}function qt(){t.config.noCalendar||t.isMobile||(Je(),$(),Ve())}function en(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function oe(T){T.preventDefault(),T.stopPropagation();var F=function(tt){return tt.classList&&tt.classList.contains("flatpickr-day")&&!tt.classList.contains("flatpickr-disabled")&&!tt.classList.contains("notAllowed")},Y=Kv(oi(T),F);if(Y!==void 0){var re=Y,xe=t.latestSelectedDateObj=new Date(re.dateObj.getTime()),Ae=(xe.getMonth()<t.currentMonth||xe.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=re,t.config.mode==="single")t.selectedDates=[xe];else if(t.config.mode==="multiple"){var Xe=H(xe);Xe?t.selectedDates.splice(parseInt(Xe),1):t.selectedDates.push(xe)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=xe,t.selectedDates.push(xe),si(xe,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(tt,St){return tt.getTime()-St.getTime()}));if(N(),Ae){var Re=t.currentYear!==xe.getFullYear();t.currentYear=xe.getFullYear(),t.currentMonth=xe.getMonth(),Re&&(X("onYearChange"),Je()),X("onMonthChange")}if($(),Ve(),_e(),!Ae&&t.config.mode!=="range"&&t.config.showMonths===1?de(re):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var Ze=t.config.mode==="single"&&!t.config.enableTime,Ge=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Ze||Ge)&&en()}ce()}}var se={locale:[Dt,E],showMonths:[G,g,k],minDate:[Z],maxDate:[Z],positionElement:[_],clickOpens:[function(){t.config.clickOpens===!0?(ue(t._input,"focus",t.open),ue(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function K(T,F){if(T!==null&&typeof T=="object"){Object.assign(t.config,T);for(var Y in T)se[Y]!==void 0&&se[Y].forEach(function(re){return re()})}else t.config[T]=F,se[T]!==void 0?se[T].forEach(function(re){return re()}):yc.indexOf(T)>-1&&(t.config[T]=xc(F));t.redraw(),_e(!0)}function S(T,F){var Y=[];if(T instanceof Array)Y=T.map(function(re){return t.parseDate(re,F)});else if(T instanceof Date||typeof T=="number")Y=[t.parseDate(T,F)];else if(typeof T=="string")switch(t.config.mode){case"single":case"time":Y=[t.parseDate(T,F)];break;case"multiple":Y=T.split(t.config.conjunction).map(function(re){return t.parseDate(re,F)});break;case"range":Y=T.split(t.l10n.rangeSeparator).map(function(re){return t.parseDate(re,F)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(T)));t.selectedDates=t.config.allowInvalidPreload?Y:Y.filter(function(re){return re instanceof Date&&He(re,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(re,xe){return re.getTime()-xe.getTime()})}function A(T,F,Y){if(F===void 0&&(F=!1),Y===void 0&&(Y=t.config.dateFormat),T!==0&&!T||T instanceof Array&&T.length===0)return t.clear(F);S(T,Y),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),Z(void 0,F),W(),t.selectedDates.length===0&&t.clear(!1),_e(F),F&&X("onChange")}function U(T){return T.slice().map(function(F){return typeof F=="string"||typeof F=="number"||F instanceof Date?t.parseDate(F,void 0,!0):F&&typeof F=="object"&&F.from&&F.to?{from:t.parseDate(F.from,void 0),to:t.parseDate(F.to,void 0)}:F}).filter(function(F){return F})}function p(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var T=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);T&&S(T,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function x(){if(t.input=At(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Rt(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),_()}function _(){t._positionElement=t.config.positionElement||t._input}function B(){var T=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Rt("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=T,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=T==="datetime-local"?"Y-m-d\\TH:i:S":T==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}ue(t.mobileInput,"change",function(F){t.setDate(oi(F).value,!1,t.mobileFormatStr),X("onChange"),X("onClose")})}function z(T){if(t.isOpen===!0)return t.close();t.open(T)}function X(T,F){if(t.config!==void 0){var Y=t.config[T];if(Y!==void 0&&Y.length>0)for(var re=0;Y[re]&&re<Y.length;re++)Y[re](t.selectedDates,t.input.value,t,F);T==="onChange"&&(t.input.dispatchEvent(V("change")),t.input.dispatchEvent(V("input")))}}function V(T){var F=document.createEvent("Event");return F.initEvent(T,!0,!0),F}function H(T){for(var F=0;F<t.selectedDates.length;F++){var Y=t.selectedDates[F];if(Y instanceof Date&&si(Y,T)===0)return""+F}return!1}function ne(T){return t.config.mode!=="range"||t.selectedDates.length<2?!1:si(T,t.selectedDates[0])>=0&&si(T,t.selectedDates[1])<=0}function $(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(T,F){var Y=new Date(t.currentYear,t.currentMonth,1);Y.setMonth(t.currentMonth+F),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[F].textContent=_l(Y.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=Y.getMonth().toString(),T.value=Y.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function ke(T){var F=T||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(Y){return t.formatDate(Y,F)}).filter(function(Y,re,xe){return t.config.mode!=="range"||t.config.enableTime||xe.indexOf(Y)===re}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function _e(T){T===void 0&&(T=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=ke(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=ke(t.config.altFormat)),T!==!1&&X("onValueUpdate")}function Be(T){var F=oi(T),Y=t.prevMonthNav.contains(F),re=t.nextMonthNav.contains(F);Y||re?I(Y?-1:1):t.yearElements.indexOf(F)>=0?F.select():F.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):F.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function Se(T){T.preventDefault();var F=T.type==="keydown",Y=oi(T),re=Y;t.amPM!==void 0&&Y===t.amPM&&(t.amPM.textContent=t.l10n.amPM[di(t.amPM.textContent===t.l10n.amPM[0])]);var xe=parseFloat(re.getAttribute("min")),Ae=parseFloat(re.getAttribute("max")),Xe=parseFloat(re.getAttribute("step")),Re=parseInt(re.value,10),Ze=T.delta||(F?T.which===38?1:-1:0),Ge=Re+Xe*Ze;if(typeof re.value<"u"&&re.value.length===2){var tt=re===t.hourElement,St=re===t.minuteElement;Ge<xe?(Ge=Ae+Ge+di(!tt)+(di(tt)&&di(!t.amPM)),St&&ee(void 0,-1,t.hourElement)):Ge>Ae&&(Ge=re===t.hourElement?Ge-Ae-di(!t.amPM):xe,St&&ee(void 0,1,t.hourElement)),t.amPM&&tt&&(Xe===1?Ge+Re===23:Math.abs(Ge-Re)>Xe)&&(t.amPM.textContent=t.l10n.amPM[di(t.amPM.textContent===t.l10n.amPM[0])]),re.value=ti(Ge)}}return s(),t}function Ua(i,e){for(var t=Array.prototype.slice.call(i).filter(function(h){return h instanceof HTMLElement}),a=[],s=0;s<t.length;s++){var c=t[s];try{if(c.getAttribute("data-fp-omit")!==null)continue;c._flatpickr!==void 0&&(c._flatpickr.destroy(),c._flatpickr=void 0),c._flatpickr=SA(c,e||{}),a.push(c._flatpickr)}catch(h){console.error(h)}}return a.length===1?a[0]:a}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(i){return Ua(this,i)},HTMLElement.prototype.flatpickr=function(i){return Ua([this],i)});var mn=function(i,e){return typeof i=="string"?Ua(window.document.querySelectorAll(i),e):i instanceof Node?Ua([i],e):Ua(i,e)};mn.defaultConfig={};mn.l10ns={en:On({},ss),default:On({},ss)};mn.localize=function(i){mn.l10ns.default=On(On({},mn.l10ns.default),i)};mn.setDefaults=function(i){mn.defaultConfig=On(On({},mn.defaultConfig),i)};mn.parseDate=dh({});mn.formatDate=Xv({});mn.compareDates=si;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(i){return Ua(this,i)});Date.prototype.fp_incr=function(i){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof i=="string"?parseInt(i,10):i))};typeof window<"u"&&(window.flatpickr=mn);var yl={exports:{}};const EA=Am(Y1);/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */var TA=yl.exports,Yg;function LA(){return Yg||(Yg=1,function(i,e){(function(t,a){var s;{try{s=EA}catch{}i.exports=a(s)}})(TA,function(t){var a=typeof t=="function",s=!!window.addEventListener,c=window.document,h=window.setTimeout,g=function(k,E,j,I){s?k.addEventListener(E,j,!!I):k.attachEvent("on"+E,j)},b=function(k,E,j,I){s?k.removeEventListener(E,j,!!I):k.detachEvent("on"+E,j)},D=function(k){return k.trim?k.trim():k.replace(/^\s+|\s+$/g,"")},L=function(k,E){return(" "+k.className+" ").indexOf(" "+E+" ")!==-1},N=function(k,E){L(k,E)||(k.className=k.className===""?E:k.className+" "+E)},W=function(k,E){k.className=D((" "+k.className+" ").replace(" "+E+" "," "))},fe=function(k){return/Array/.test(Object.prototype.toString.call(k))},Q=function(k){return/Date/.test(Object.prototype.toString.call(k))&&!isNaN(k.getTime())},ue=function(k){var E=k.getDay();return E===0||E===6},ce=function(k){return k%4===0&&k%100!==0||k%400===0},ge=function(k,E){return[31,ce(k)?29:28,31,30,31,30,31,31,30,31,30,31][E]},Z=function(k){Q(k)&&k.setHours(0,0,0,0)},te=function(k,E){return k.getTime()===E.getTime()},ee=function(k,E,j){var I,C;for(I in E)C=k[I]!==void 0,C&&typeof E[I]=="object"&&E[I]!==null&&E[I].nodeName===void 0?Q(E[I])?j&&(k[I]=new Date(E[I].getTime())):fe(E[I])?j&&(k[I]=E[I].slice(0)):k[I]=ee({},E[I],j):(j||!C)&&(k[I]=E[I]);return k},ie=function(k,E,j){var I;c.createEvent?(I=c.createEvent("HTMLEvents"),I.initEvent(E,!0,!1),I=ee(I,j),k.dispatchEvent(I)):c.createEventObject&&(I=c.createEventObject(),I=ee(I,j),k.fireEvent("on"+E,I))},ve=function(k){return k.month<0&&(k.year-=Math.ceil(Math.abs(k.month)/12),k.month+=12),k.month>11&&(k.year+=Math.floor(Math.abs(k.month)/12),k.month-=12),k},de={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},we=function(k,E,j){for(E+=k.firstDay;E>=7;)E-=7;return j?k.i18n.weekdaysShort[E]:k.i18n.weekdays[E]},Me=function(k){var E=[],j="false";if(k.isEmpty)if(k.showDaysInNextAndPreviousMonths)E.push("is-outside-current-month"),k.enableSelectionDaysInNextAndPreviousMonths||E.push("is-selection-disabled");else return'<td class="is-empty"></td>';return k.isDisabled&&E.push("is-disabled"),k.isToday&&E.push("is-today"),k.isSelected&&(E.push("is-selected"),j="true"),k.hasEvent&&E.push("has-event"),k.isInRange&&E.push("is-inrange"),k.isStartRange&&E.push("is-startrange"),k.isEndRange&&E.push("is-endrange"),'<td data-day="'+k.day+'" class="'+E.join(" ")+'" aria-selected="'+j+'"><button class="pika-button pika-day" type="button" data-pika-year="'+k.year+'" data-pika-month="'+k.month+'" data-pika-day="'+k.day+'">'+k.day+"</button></td>"},ot=function(k,E){k.setHours(0,0,0,0);var j=k.getDate(),I=k.getDay(),C=E,v=C-1,R=7,be=function(Ue){return(Ue+R-1)%R};k.setDate(j+v-be(I));var he=new Date(k.getFullYear(),0,C),De=24*60*60*1e3,He=(k.getTime()-he.getTime())/De,Pe=1+Math.round((He-v+be(he.getDay()))/R);return Pe},Ee=function(k,E,j,I){var C=new Date(j,E,k),v=a?t(C).isoWeek():ot(C,I);return'<td class="pika-week">'+v+"</td>"},Ve=function(k,E,j,I){return'<tr class="pika-row'+(j?" pick-whole-week":"")+(I?" is-selected":"")+'">'+(E?k.reverse():k).join("")+"</tr>"},Je=function(k){return"<tbody>"+k.join("")+"</tbody>"},it=function(k){var E,j=[];for(k.showWeekNumber&&j.push("<th></th>"),E=0;E<7;E++)j.push('<th scope="col"><abbr title="'+we(k,E)+'">'+we(k,E,!0)+"</abbr></th>");return"<thead><tr>"+(k.isRTL?j.reverse():j).join("")+"</tr></thead>"},G=function(k,E,j,I,C,v){var R,be,he,De=k._o,He=j===De.minYear,Pe=j===De.maxYear,Ue='<div id="'+v+'" class="pika-title" role="heading" aria-live="assertive">',$e,rt,ht=!0,yt=!0;for(he=[],R=0;R<12;R++)he.push('<option value="'+(j===C?R-E:12+R-E)+'"'+(R===I?' selected="selected"':"")+(He&&R<De.minMonth||Pe&&R>De.maxMonth?' disabled="disabled"':"")+">"+De.i18n.months[R]+"</option>");for($e='<div class="pika-label">'+De.i18n.months[I]+'<select class="pika-select pika-select-month" tabindex="-1">'+he.join("")+"</select></div>",fe(De.yearRange)?(R=De.yearRange[0],be=De.yearRange[1]+1):(R=j-De.yearRange,be=1+j+De.yearRange),he=[];R<be&&R<=De.maxYear;R++)R>=De.minYear&&he.push('<option value="'+R+'"'+(R===j?' selected="selected"':"")+">"+R+"</option>");return rt='<div class="pika-label">'+j+De.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+he.join("")+"</select></div>",De.showMonthAfterYear?Ue+=rt+$e:Ue+=$e+rt,He&&(I===0||De.minMonth>=I)&&(ht=!1),Pe&&(I===11||De.maxMonth<=I)&&(yt=!1),E===0&&(Ue+='<button class="pika-prev'+(ht?"":" is-disabled")+'" type="button">'+De.i18n.previousMonth+"</button>"),E===k._o.numberOfMonths-1&&(Ue+='<button class="pika-next'+(yt?"":" is-disabled")+'" type="button">'+De.i18n.nextMonth+"</button>"),Ue+="</div>"},le=function(k,E,j){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+j+'">'+it(k)+Je(E)+"</table>"},M=function(k){var E=this,j=E.config(k);E._onMouseDown=function(C){if(E._v){C=C||window.event;var v=C.target||C.srcElement;if(v)if(L(v,"is-disabled")||(L(v,"pika-button")&&!L(v,"is-empty")&&!L(v.parentNode,"is-disabled")?(E.setDate(new Date(v.getAttribute("data-pika-year"),v.getAttribute("data-pika-month"),v.getAttribute("data-pika-day"))),j.bound&&h(function(){E.hide(),j.blurFieldOnSelect&&j.field&&j.field.blur()},100)):L(v,"pika-prev")?E.prevMonth():L(v,"pika-next")&&E.nextMonth()),L(v,"pika-select"))E._c=!0;else if(C.preventDefault)C.preventDefault();else return C.returnValue=!1,!1}},E._onChange=function(C){C=C||window.event;var v=C.target||C.srcElement;v&&(L(v,"pika-select-month")?E.gotoMonth(v.value):L(v,"pika-select-year")&&E.gotoYear(v.value))},E._onKeyChange=function(C){if(C=C||window.event,E.isVisible())switch(C.keyCode){case 13:case 27:j.field&&j.field.blur();break;case 37:E.adjustDate("subtract",1);break;case 38:E.adjustDate("subtract",7);break;case 39:E.adjustDate("add",1);break;case 40:E.adjustDate("add",7);break;case 8:case 46:E.setDate(null);break}},E._parseFieldValue=function(){if(j.parse)return j.parse(j.field.value,j.format);if(a){var C=t(j.field.value,j.format,j.formatStrict);return C&&C.isValid()?C.toDate():null}else return new Date(Date.parse(j.field.value))},E._onInputChange=function(C){var v;C.firedBy!==E&&(v=E._parseFieldValue(),Q(v)&&E.setDate(v),E._v||E.show())},E._onInputFocus=function(){E.show()},E._onInputClick=function(){E.show()},E._onInputBlur=function(){var C=c.activeElement;do if(L(C,"pika-single"))return;while(C=C.parentNode);E._c||(E._b=h(function(){E.hide()},50)),E._c=!1},E._onClick=function(C){C=C||window.event;var v=C.target||C.srcElement,R=v;if(v){!s&&L(v,"pika-select")&&(v.onchange||(v.setAttribute("onchange","return;"),g(v,"change",E._onChange)));do if(L(R,"pika-single")||R===j.trigger)return;while(R=R.parentNode);E._v&&v!==j.trigger&&R!==j.trigger&&E.hide()}},E.el=c.createElement("div"),E.el.className="pika-single"+(j.isRTL?" is-rtl":"")+(j.theme?" "+j.theme:""),g(E.el,"mousedown",E._onMouseDown,!0),g(E.el,"touchend",E._onMouseDown,!0),g(E.el,"change",E._onChange),j.keyboardInput&&g(c,"keydown",E._onKeyChange),j.field&&(j.container?j.container.appendChild(E.el):j.bound?c.body.appendChild(E.el):j.field.parentNode.insertBefore(E.el,j.field.nextSibling),g(j.field,"change",E._onInputChange),j.defaultDate||(j.defaultDate=E._parseFieldValue(),j.setDefaultDate=!0));var I=j.defaultDate;Q(I)?j.setDefaultDate?E.setDate(I,!0):E.gotoDate(I):E.gotoDate(new Date),j.bound?(this.hide(),E.el.className+=" is-bound",g(j.trigger,"click",E._onInputClick),g(j.trigger,"focus",E._onInputFocus),g(j.trigger,"blur",E._onInputBlur)):this.show()};return M.prototype={config:function(k){this._o||(this._o=ee({},de,!0));var E=ee(this._o,k,!0);E.isRTL=!!E.isRTL,E.field=E.field&&E.field.nodeName?E.field:null,E.theme=typeof E.theme=="string"&&E.theme?E.theme:null,E.bound=!!(E.bound!==void 0?E.field&&E.bound:E.field),E.trigger=E.trigger&&E.trigger.nodeName?E.trigger:E.field,E.disableWeekends=!!E.disableWeekends,E.disableDayFn=typeof E.disableDayFn=="function"?E.disableDayFn:null;var j=parseInt(E.numberOfMonths,10)||1;if(E.numberOfMonths=j>4?4:j,Q(E.minDate)||(E.minDate=!1),Q(E.maxDate)||(E.maxDate=!1),E.minDate&&E.maxDate&&E.maxDate<E.minDate&&(E.maxDate=E.minDate=!1),E.minDate&&this.setMinDate(E.minDate),E.maxDate&&this.setMaxDate(E.maxDate),fe(E.yearRange)){var I=new Date().getFullYear()-10;E.yearRange[0]=parseInt(E.yearRange[0],10)||I,E.yearRange[1]=parseInt(E.yearRange[1],10)||I}else E.yearRange=Math.abs(parseInt(E.yearRange,10))||de.yearRange,E.yearRange>100&&(E.yearRange=100);return E},toString:function(k){return k=k||this._o.format,Q(this._d)?this._o.toString?this._o.toString(this._d,k):a?t(this._d).format(k):this._d.toDateString():""},getMoment:function(){return a?t(this._d):null},setMoment:function(k,E){a&&t.isMoment(k)&&this.setDate(k.toDate(),E)},getDate:function(){return Q(this._d)?new Date(this._d.getTime()):null},setDate:function(k,E){if(!k)return this._d=null,this._o.field&&(this._o.field.value="",ie(this._o.field,"change",{firedBy:this})),this.draw();if(typeof k=="string"&&(k=new Date(Date.parse(k))),!!Q(k)){var j=this._o.minDate,I=this._o.maxDate;Q(j)&&k<j?k=j:Q(I)&&k>I&&(k=I),this._d=new Date(k.getTime()),Z(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),ie(this._o.field,"change",{firedBy:this})),!E&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(k){var E=!0;if(Q(k)){if(this.calendars){var j=new Date(this.calendars[0].year,this.calendars[0].month,1),I=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),C=k.getTime();I.setMonth(I.getMonth()+1),I.setDate(I.getDate()-1),E=C<j.getTime()||I.getTime()<C}E&&(this.calendars=[{month:k.getMonth(),year:k.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(k,E){var j=this.getDate()||new Date,I=parseInt(E)*24*60*60*1e3,C;k==="add"?C=new Date(j.valueOf()+I):k==="subtract"&&(C=new Date(j.valueOf()-I)),this.setDate(C)},adjustCalendars:function(){this.calendars[0]=ve(this.calendars[0]);for(var k=1;k<this._o.numberOfMonths;k++)this.calendars[k]=ve({month:this.calendars[0].month+k,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(k){isNaN(k)||(this.calendars[0].month=parseInt(k,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(k){isNaN(k)||(this.calendars[0].year=parseInt(k,10),this.adjustCalendars())},setMinDate:function(k){k instanceof Date?(Z(k),this._o.minDate=k,this._o.minYear=k.getFullYear(),this._o.minMonth=k.getMonth()):(this._o.minDate=de.minDate,this._o.minYear=de.minYear,this._o.minMonth=de.minMonth,this._o.startRange=de.startRange),this.draw()},setMaxDate:function(k){k instanceof Date?(Z(k),this._o.maxDate=k,this._o.maxYear=k.getFullYear(),this._o.maxMonth=k.getMonth()):(this._o.maxDate=de.maxDate,this._o.maxYear=de.maxYear,this._o.maxMonth=de.maxMonth,this._o.endRange=de.endRange),this.draw()},setStartRange:function(k){this._o.startRange=k},setEndRange:function(k){this._o.endRange=k},draw:function(k){if(!(!this._v&&!k)){var E=this._o,j=E.minYear,I=E.maxYear,C=E.minMonth,v=E.maxMonth,R="",be;this._y<=j&&(this._y=j,!isNaN(C)&&this._m<C&&(this._m=C)),this._y>=I&&(this._y=I,!isNaN(v)&&this._m>v&&(this._m=v));for(var he=0;he<E.numberOfMonths;he++)be="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),R+='<div class="pika-lendar">'+G(this,he,this.calendars[he].year,this.calendars[he].month,this.calendars[0].year,be)+this.render(this.calendars[he].year,this.calendars[he].month,be)+"</div>";this.el.innerHTML=R,E.bound&&E.field.type!=="hidden"&&h(function(){E.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),E.bound&&E.field.setAttribute("aria-label",E.ariaLabel)}},adjustPosition:function(){var k,E,j,I,C,v,R,be,he,De,He,Pe;if(!this._o.container){if(this.el.style.position="absolute",k=this._o.trigger,E=k,j=this.el.offsetWidth,I=this.el.offsetHeight,C=window.innerWidth||c.documentElement.clientWidth,v=window.innerHeight||c.documentElement.clientHeight,R=window.pageYOffset||c.body.scrollTop||c.documentElement.scrollTop,He=!0,Pe=!0,typeof k.getBoundingClientRect=="function")De=k.getBoundingClientRect(),be=De.left+window.pageXOffset,he=De.bottom+window.pageYOffset;else for(be=E.offsetLeft,he=E.offsetTop+E.offsetHeight;E=E.offsetParent;)be+=E.offsetLeft,he+=E.offsetTop;(this._o.reposition&&be+j>C||this._o.position.indexOf("right")>-1&&be-j+k.offsetWidth>0)&&(be=be-j+k.offsetWidth,He=!1),(this._o.reposition&&he+I>v+R||this._o.position.indexOf("top")>-1&&he-I-k.offsetHeight>0)&&(he=he-I-k.offsetHeight,Pe=!1),this.el.style.left=be+"px",this.el.style.top=he+"px",N(this.el,He?"left-aligned":"right-aligned"),N(this.el,Pe?"bottom-aligned":"top-aligned"),W(this.el,He?"right-aligned":"left-aligned"),W(this.el,Pe?"top-aligned":"bottom-aligned")}},render:function(k,E,j){var I=this._o,C=new Date,v=ge(k,E),R=new Date(k,E,1).getDay(),be=[],he=[];Z(C),I.firstDay>0&&(R-=I.firstDay,R<0&&(R+=7));for(var De=E===0?11:E-1,He=E===11?0:E+1,Pe=E===0?k-1:k,Ue=E===11?k+1:k,$e=ge(Pe,De),rt=v+R,ht=rt;ht>7;)ht-=7;rt+=7-ht;for(var yt=!1,Le=0,xt=0;Le<rt;Le++){var At=new Date(k,E,1+(Le-R)),Dt=Q(this._d)?te(At,this._d):!1,Ut=te(At,C),Ye=I.events.indexOf(At.toDateString())!==-1,_t=Le<R||Le>=v+R,qt=1+(Le-R),en=E,oe=k,se=I.startRange&&te(I.startRange,At),K=I.endRange&&te(I.endRange,At),S=I.startRange&&I.endRange&&I.startRange<At&&At<I.endRange,A=I.minDate&&At<I.minDate||I.maxDate&&At>I.maxDate||I.disableWeekends&&ue(At)||I.disableDayFn&&I.disableDayFn(At);_t&&(Le<R?(qt=$e+qt,en=De,oe=Pe):(qt=qt-v,en=He,oe=Ue));var U={day:qt,month:en,year:oe,hasEvent:Ye,isSelected:Dt,isToday:Ut,isDisabled:A,isEmpty:_t,isStartRange:se,isEndRange:K,isInRange:S,showDaysInNextAndPreviousMonths:I.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:I.enableSelectionDaysInNextAndPreviousMonths};I.pickWholeWeek&&Dt&&(yt=!0),he.push(Me(U)),++xt===7&&(I.showWeekNumber&&he.unshift(Ee(Le-R,E,k,I.firstWeekOfYearMinDays)),be.push(Ve(he,I.isRTL,I.pickWholeWeek,yt)),he=[],xt=0,yt=!1)}return le(I,be,j)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),W(this.el,"is-hidden"),this._o.bound&&(g(c,"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){var k=this._v;k!==!1&&(this._o.bound&&b(c,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),N(this.el,"is-hidden"),this._v=!1,k!==void 0&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){var k=this._o;this.hide(),b(this.el,"mousedown",this._onMouseDown,!0),b(this.el,"touchend",this._onMouseDown,!0),b(this.el,"change",this._onChange),k.keyboardInput&&b(c,"keydown",this._onKeyChange),k.field&&(b(k.field,"change",this._onInputChange),k.bound&&(b(k.trigger,"click",this._onInputClick),b(k.trigger,"focus",this._onInputFocus),b(k.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},M})}(yl)),yl.exports}var MA=LA();const FA=Th(MA);var _A="2.1.15";const Zr="[data-trix-attachment]",of={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},Gn={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(i){return jg(i.parentNode)===Gn[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(i){return jg(i.parentNode)===Gn[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},jg=i=>{var e;return i==null||(e=i.tagName)===null||e===void 0?void 0:e.toLowerCase()},qg=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),kc=qg&&parseInt(qg[1]);var ms={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:kc&&kc>12,samsungAndroid:kc&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(i=>i in InputEvent.prototype)},Jv={ADD_ATTR:["language"],SAFE_FOR_XML:!1,RETURN_DOM:!0},gt={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption…",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL…",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const RA=[gt.bytes,gt.KB,gt.MB,gt.GB,gt.TB,gt.PB];var Zv={prefix:"IEC",precision:2,formatter(i){switch(i){case 0:return"0 ".concat(gt.bytes);case 1:return"1 ".concat(gt.byte);default:let e;this.prefix==="SI"?e=1e3:this.prefix==="IEC"&&(e=1024);const t=Math.floor(Math.log(i)/Math.log(e)),a=(i/Math.pow(e,t)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(a," ").concat(RA[t])}}};const ru="\uFEFF",Dr=" ",Qv=function(i){for(const e in i){const t=i[e];this[e]=t}return this},sf=document.documentElement,OA=sf.matches,an=function(i){let{onElement:e,matchingSelector:t,withCallback:a,inPhase:s,preventDefault:c,times:h}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const g=e||sf,b=t,D=s==="capturing",L=function(N){h!=null&&--h==0&&L.destroy();const W=Sr(N.target,{matchingSelector:b});W!=null&&(a==null||a.call(W,N,W),c&&N.preventDefault())};return L.destroy=()=>g.removeEventListener(i,L,D),g.addEventListener(i,L,D),L},Vo=function(i){let{onElement:e,bubbles:t,cancelable:a,attributes:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=e??sf;t=t!==!1,a=a!==!1;const h=document.createEvent("Events");return h.initEvent(i,t,a),s!=null&&Qv.call(h,s),c.dispatchEvent(h)},e0=function(i,e){if((i==null?void 0:i.nodeType)===1)return OA.call(i,e)},Sr=function(i){let{matchingSelector:e,untilNode:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;i&&i.nodeType!==Node.ELEMENT_NODE;)i=i.parentNode;if(i!=null){if(e==null)return i;if(i.closest&&t==null)return i.closest(e);for(;i&&i!==t;){if(e0(i,e))return i;i=i.parentNode}}},lf=i=>document.activeElement!==i&&$r(i,document.activeElement),$r=function(i,e){if(i&&e)for(;e;){if(e===i)return!0;e=e.parentNode}},Ac=function(i){var e;if((e=i)===null||e===void 0||!e.parentNode)return;let t=0;for(i=i.previousSibling;i;)t++,i=i.previousSibling;return t},Er=i=>{var e;return i==null||(e=i.parentNode)===null||e===void 0?void 0:e.removeChild(i)},Rl=function(i){let{onlyNodesOfType:e,usingFilter:t,expandEntityReferences:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=(()=>{switch(e){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(i,s,t??null,a===!0)},Vn=i=>{var e;return i==null||(e=i.tagName)===null||e===void 0?void 0:e.toLowerCase()},Ct=function(i){let e,t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof i=="object"?(a=i,i=a.tagName):a={attributes:a};const s=document.createElement(i);if(a.editable!=null&&(a.attributes==null&&(a.attributes={}),a.attributes.contenteditable=a.editable),a.attributes)for(e in a.attributes)t=a.attributes[e],s.setAttribute(e,t);if(a.style)for(e in a.style)t=a.style[e],s.style[e]=t;if(a.data)for(e in a.data)t=a.data[e],s.dataset[e]=t;return a.className&&a.className.split(" ").forEach(c=>{s.classList.add(c)}),a.textContent&&(s.textContent=a.textContent),a.childNodes&&[].concat(a.childNodes).forEach(c=>{s.appendChild(c)}),s};let Oo;const Go=function(){if(Oo!=null)return Oo;Oo=[];for(const i in Gn){const e=Gn[i];e.tagName&&Oo.push(e.tagName)}return Oo},Sc=i=>Ya(i==null?void 0:i.firstChild),Vg=function(i){let{strict:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return e?Ya(i):Ya(i)||!Ya(i.firstChild)&&function(t){return Go().includes(Vn(t))&&!Go().includes(Vn(t.firstChild))}(i)},Ya=i=>NA(i)&&(i==null?void 0:i.data)==="block",NA=i=>(i==null?void 0:i.nodeType)===Node.COMMENT_NODE,ja=function(i){let{name:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i)return $o(i)?i.data===ru?!e||i.parentNode.dataset.trixCursorTarget===e:void 0:ja(i.firstChild)},Qr=i=>e0(i,Zr),t0=i=>$o(i)&&(i==null?void 0:i.data)==="",$o=i=>(i==null?void 0:i.nodeType)===Node.TEXT_NODE,uf={level2Enabled:!0,getLevel(){return this.level2Enabled&&ms.supportsInputEvents?2:0},pickFiles(i){const e=Ct("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});e.addEventListener("change",()=>{i(e.files),Er(e)}),Er(document.getElementById(this.fileInputId)),document.body.appendChild(e),e.click()}};var xl={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},ta={bold:{tagName:"strong",inheritable:!0,parser(i){const e=window.getComputedStyle(i);return e.fontWeight==="bold"||e.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:i=>window.getComputedStyle(i).fontStyle==="italic"},href:{groupTagName:"a",parser(i){const e="a:not(".concat(Zr,")"),t=i.closest(e);if(t)return t.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},n0={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(gt.bold,'" tabindex="-1">').concat(gt.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(gt.italic,'" tabindex="-1">').concat(gt.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(gt.strike,'" tabindex="-1">').concat(gt.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(gt.link,'" tabindex="-1">').concat(gt.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(gt.heading1,'" tabindex="-1">').concat(gt.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(gt.quote,'" tabindex="-1">').concat(gt.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(gt.code,'" tabindex="-1">').concat(gt.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(gt.bullets,'" tabindex="-1">').concat(gt.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(gt.numbers,'" tabindex="-1">').concat(gt.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(gt.outdent,'" tabindex="-1">').concat(gt.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(gt.indent,'" tabindex="-1">').concat(gt.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(gt.attachFiles,'" tabindex="-1">').concat(gt.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(gt.undo,'" tabindex="-1">').concat(gt.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(gt.redo,'" tabindex="-1">').concat(gt.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(gt.urlPlaceholder,'" aria-label="').concat(gt.url,`" data-trix-validate-href required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(gt.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(gt.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const ph={interval:5e3};var vs=Object.freeze({__proto__:null,attachments:of,blockAttributes:Gn,browser:ms,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},dompurify:Jv,fileSize:Zv,input:uf,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:gt,parser:xl,textAttributes:ta,toolbar:n0,undo:ph});class vn{static proxyMethod(e){const{name:t,toMethod:a,toProperty:s,optional:c}=IA(e);this.prototype[t]=function(){let h,g;var b,D;return a?g=c?(b=this[a])===null||b===void 0?void 0:b.call(this):this[a]():s&&(g=this[s]),c?(h=(D=g)===null||D===void 0?void 0:D[t],h?Gg.call(h,g,arguments):void 0):(h=g[t],Gg.call(h,g,arguments))}}}const IA=function(i){const e=i.match(PA);if(!e)throw new Error("can't parse @proxyMethod expression: ".concat(i));const t={name:e[4]};return e[2]!=null?t.toMethod=e[1]:t.toProperty=e[1],e[3]!=null&&(t.optional=!0),t},{apply:Gg}=Function.prototype,PA=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var Ec,Tc,Lc;class ls extends vn{static box(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e instanceof this?e:this.fromUCS2String(e==null?void 0:e.toString())}static fromUCS2String(e){return new this(e,gh(e))}static fromCodepoints(e){return new this(mh(e),e)}constructor(e,t){super(...arguments),this.ucs2String=e,this.codepoints=t,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(e){return mh(this.codepoints.slice(0,Math.max(0,e))).length}offsetFromUCS2Offset(e){return gh(this.ucs2String.slice(0,Math.max(0,e))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(e){return this.slice(e,e+1)}isEqualTo(e){return this.constructor.box(e).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const BA=((Ec=Array.from)===null||Ec===void 0?void 0:Ec.call(Array,"👼").length)===1,HA=((Tc=" ".codePointAt)===null||Tc===void 0?void 0:Tc.call(" ",0))!=null,WA=((Lc=String.fromCodePoint)===null||Lc===void 0?void 0:Lc.call(String,32,128124))===" 👼";let gh,mh;gh=BA&&HA?i=>Array.from(i).map(e=>e.codePointAt(0)):function(i){const e=[];let t=0;const{length:a}=i;for(;t<a;){let s=i.charCodeAt(t++);if(55296<=s&&s<=56319&&t<a){const c=i.charCodeAt(t++);(64512&c)==56320?s=((1023&s)<<10)+(1023&c)+65536:t--}e.push(s)}return e},mh=WA?i=>String.fromCodePoint(...Array.from(i||[])):function(i){return(()=>{const e=[];return Array.from(i).forEach(t=>{let a="";t>65535&&(t-=65536,a+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e.push(a+String.fromCharCode(t))}),e})().join("")};let zA=0;class aa extends vn{static fromJSONString(e){return this.fromJSON(JSON.parse(e))}constructor(){super(...arguments),this.id=++zA}hasSameConstructorAs(e){return this.constructor===(e==null?void 0:e.constructor)}isEqualTo(e){return this===e}inspect(){const e=[],t=this.contentsForInspection()||{};for(const a in t){const s=t[a];e.push("".concat(a,"=").concat(s))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(e.length?" ".concat(e.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return ls.box(this)}getCacheKey(){return this.id.toString()}}const na=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0},cf=function(i){const e=i.slice(0);for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];return e.splice(...a),e},UA=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,YA=function(){const i=Ct("input",{dir:"auto",name:"x",dirName:"x.dir"}),e=Ct("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),t=Ct("form");t.appendChild(i),t.appendChild(e);const a=function(){try{return new FormData(t).has(e.dirName)}catch{return!1}}(),s=function(){try{return i.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return a?function(c){return e.value=c,new FormData(t).get(e.dirName)}:s?function(c){return i.value=c,i.matches(":dir(rtl)")?"rtl":"ltr"}:function(c){const h=c.trim().charAt(0);return UA.test(h)?"rtl":"ltr"}}();let Mc=null,Fc=null,_c=null,rl=null;const vh=()=>(Mc||(Mc=qA().concat(jA())),Mc),dn=i=>Gn[i],jA=()=>(Fc||(Fc=Object.keys(Gn)),Fc),bh=i=>ta[i],qA=()=>(_c||(_c=Object.keys(ta)),_c),i0=function(i,e){VA(i).textContent=e.replace(/%t/g,i)},VA=function(i){const e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("data-tag-name",i.toLowerCase());const t=GA();return t&&e.setAttribute("nonce",t),document.head.insertBefore(e,document.head.firstChild),e},GA=function(){const i=$g("trix-csp-nonce")||$g("csp-nonce");if(i){const{nonce:e,content:t}=i;return e==""?t:e}},$g=i=>document.head.querySelector("meta[name=".concat(i,"]")),Kg={"application/x-trix-feature-detection":"test"},r0=function(i){const e=i.getData("text/plain"),t=i.getData("text/html");if(!e||!t)return e==null?void 0:e.length;{const{body:a}=new DOMParser().parseFromString(t,"text/html");if(a.textContent===e)return!a.querySelector("*")}},a0=/Mac|^iP/.test(navigator.platform)?i=>i.metaKey:i=>i.ctrlKey,hf=i=>setTimeout(i,1),o0=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={};for(const t in i){const a=i[t];e[t]=a}return e},Qa=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(i).length!==Object.keys(e).length)return!1;for(const t in i)if(i[t]!==e[t])return!1;return!0},Bt=function(i){if(i!=null)return Array.isArray(i)||(i=[i,i]),[Xg(i[0]),Xg(i[1]!=null?i[1]:i[0])]},ir=function(i){if(i==null)return;const[e,t]=Bt(i);return yh(e,t)},Ol=function(i,e){if(i==null||e==null)return;const[t,a]=Bt(i),[s,c]=Bt(e);return yh(t,s)&&yh(a,c)},Xg=function(i){return typeof i=="number"?i:o0(i)},yh=function(i,e){return typeof i=="number"?i===e:Qa(i,e)};class s0 extends vn{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(e){if(!this.selectionManagers.includes(e))return this.selectionManagers.push(e),this.start()}unregisterSelectionManager(e){if(this.selectionManagers=this.selectionManagers.filter(t=>t!==e),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(e=>e.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const ia=new s0,l0=function(){const i=window.getSelection();if(i.rangeCount>0)return i},Ko=function(){var i;const e=(i=l0())===null||i===void 0?void 0:i.getRangeAt(0);if(e&&!$A(e))return e},u0=function(i){const e=window.getSelection();return e.removeAllRanges(),e.addRange(i),ia.update()},$A=i=>Jg(i.startContainer)||Jg(i.endContainer),Jg=i=>!Object.getPrototypeOf(i),Uo=i=>i.replace(new RegExp("".concat(ru),"g"),"").replace(new RegExp("".concat(Dr),"g")," "),ff=new RegExp("[^\\S".concat(Dr,"]")),df=i=>i.replace(new RegExp("".concat(ff.source),"g")," ").replace(/\ {2,}/g," "),Zg=function(i,e){if(i.isEqualTo(e))return["",""];const t=Rc(i,e),{length:a}=t.utf16String;let s;if(a){const{offset:c}=t,h=i.codepoints.slice(0,c).concat(i.codepoints.slice(c+a));s=Rc(e,ls.fromCodepoints(h))}else s=Rc(e,i);return[t.utf16String.toString(),s.utf16String.toString()]},Rc=function(i,e){let t=0,a=i.length,s=e.length;for(;t<a&&i.charAt(t).isEqualTo(e.charAt(t));)t++;for(;a>t+1&&i.charAt(a-1).isEqualTo(e.charAt(s-1));)a--,s--;return{utf16String:i.slice(t,a),offset:t}};class ui extends aa{static fromCommonAttributesOfObjects(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!e.length)return new this;let t=No(e[0]),a=t.getKeys();return e.slice(1).forEach(s=>{a=t.getKeysCommonToHash(No(s)),t=t.slice(a)}),t}static box(e){return No(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=wl(e)}add(e,t){return this.merge(KA(e,t))}remove(e){return new ui(wl(this.values,e))}get(e){return this.values[e]}has(e){return e in this.values}merge(e){return new ui(XA(this.values,JA(e)))}slice(e){const t={};return Array.from(e).forEach(a=>{this.has(a)&&(t[a]=this.values[a])}),new ui(t)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(e){return e=No(e),this.getKeys().filter(t=>this.values[t]===e.values[t])}isEqualTo(e){return na(this.toArray(),No(e).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const e=[];for(const t in this.values){const a=this.values[t];e.push(e.push(t,a))}this.array=e.slice(0)}return this.array}toObject(){return wl(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const KA=function(i,e){const t={};return t[i]=e,t},XA=function(i,e){const t=wl(i);for(const a in e){const s=e[a];t[a]=s}return t},wl=function(i,e){const t={};return Object.keys(i).sort().forEach(a=>{a!==e&&(t[a]=i[a])}),t},No=function(i){return i instanceof ui?i:new ui(i)},JA=function(i){return i instanceof ui?i.values:i};class pf{static groupObjects(){let e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:a,asTree:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s&&a==null&&(a=0);const c=[];return Array.from(t).forEach(h=>{var g;if(e){var b,D,L;if((b=h.canBeGrouped)!==null&&b!==void 0&&b.call(h,a)&&(D=(L=e[e.length-1]).canBeGroupedWith)!==null&&D!==void 0&&D.call(L,h,a))return void e.push(h);c.push(new this(e,{depth:a,asTree:s})),e=null}(g=h.canBeGrouped)!==null&&g!==void 0&&g.call(h,a)?e=[h]:c.push(h)}),e&&c.push(new this(e,{depth:a,asTree:s})),c}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:t,asTree:a}=arguments.length>1?arguments[1]:void 0;this.objects=e,a&&(this.depth=t,this.objects=this.constructor.groupObjects(this.objects,{asTree:a,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const e=["objectGroup"];return Array.from(this.getObjects()).forEach(t=>{e.push(t.getCacheKey())}),e.join("/")}}class ZA extends vn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(e).forEach(t=>{const a=JSON.stringify(t);this.objects[a]==null&&(this.objects[a]=t)})}find(e){const t=JSON.stringify(e);return this.objects[t]}}class QA{constructor(e){this.reset(e)}add(e){const t=Qg(e);this.elements[t]=e}remove(e){const t=Qg(e),a=this.elements[t];if(a)return delete this.elements[t],a}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(e).forEach(t=>{this.add(t)}),e}}const Qg=i=>i.dataset.trixStoreKey;class Nl extends vn{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((e,t)=>(this.performing=!0,this.perform((a,s)=>{this.succeeded=a,this.performing=!1,this.performed=!0,this.succeeded?e(s):t(s)})))),this.promise}perform(e){return e(!1)}release(){var e,t;(e=this.promise)===null||e===void 0||(t=e.cancel)===null||t===void 0||t.call(e),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}Nl.proxyMethod("getPromise().then"),Nl.proxyMethod("getPromise().catch");class oa extends vn{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=e,this.options=t,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(e=>e.cloneNode(!0))}invalidate(){var e;return this.nodes=null,this.childViews=[],(e=this.parentView)===null||e===void 0?void 0:e.invalidate()}invalidateViewForObject(e){var t;return(t=this.findViewForObject(e))===null||t===void 0?void 0:t.invalidate()}findOrCreateCachedChildView(e,t,a){let s=this.getCachedViewForObject(t);return s?this.recordChildView(s):(s=this.createChildView(...arguments),this.cacheViewForObject(s,t)),s}createChildView(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t instanceof pf&&(a.viewClass=e,e=eS);const s=new e(t,a);return this.recordChildView(s)}recordChildView(e){return e.parentView=this,e.rootView=this.rootView,this.childViews.push(e),e}getAllChildViews(){let e=[];return this.childViews.forEach(t=>{e.push(t),e=e.concat(t.getAllChildViews())}),e}findElement(){return this.findElementForObject(this.object)}findElementForObject(e){const t=e==null?void 0:e.id;if(t)return this.rootView.element.querySelector("[data-trix-id='".concat(t,"']"))}findViewForObject(e){for(const t of this.getAllChildViews())if(t.object===e)return t}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(e){var t;return(t=this.getViewCache())===null||t===void 0?void 0:t[e.getCacheKey()]}cacheViewForObject(e,t){const a=this.getViewCache();a&&(a[t.getCacheKey()]=e)}garbageCollectCachedViews(){const e=this.getViewCache();if(e){const t=this.getAllChildViews().concat(this).map(a=>a.object.getCacheKey());for(const a in e)t.includes(a)||delete e[a]}}}class eS extends oa{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(e=>{this.findOrCreateCachedChildView(this.viewClass,e,this.options)}),this.childViews}createNodes(){const e=this.createContainerElement();return this.getChildViews().forEach(t=>{Array.from(t.getNodes()).forEach(a=>{e.appendChild(a)})}),[e]}createContainerElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(e)}}/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:c0,setPrototypeOf:em,isFrozen:tS,getPrototypeOf:nS,getOwnPropertyDescriptor:iS}=Object;let{freeze:Kn,seal:vi,create:h0}=Object,{apply:xh,construct:wh}=typeof Reflect<"u"&&Reflect;Kn||(Kn=function(i){return i}),vi||(vi=function(i){return i}),xh||(xh=function(i,e,t){return i.apply(e,t)}),wh||(wh=function(i,e){return new i(...e)});const al=Xn(Array.prototype.forEach),rS=Xn(Array.prototype.lastIndexOf),tm=Xn(Array.prototype.pop),Io=Xn(Array.prototype.push),aS=Xn(Array.prototype.splice),Dl=Xn(String.prototype.toLowerCase),Oc=Xn(String.prototype.toString),nm=Xn(String.prototype.match),Po=Xn(String.prototype.replace),oS=Xn(String.prototype.indexOf),sS=Xn(String.prototype.trim),Si=Xn(Object.prototype.hasOwnProperty),qn=Xn(RegExp.prototype.test),Bo=(im=TypeError,function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return wh(im,e)});var im;function Xn(i){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];return xh(i,e,a)}}function kt(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dl;em&&em(i,null);let a=e.length;for(;a--;){let s=e[a];if(typeof s=="string"){const c=t(s);c!==s&&(tS(e)||(e[a]=c),s=c)}i[s]=!0}return i}function lS(i){for(let e=0;e<i.length;e++)Si(i,e)||(i[e]=null);return i}function Ur(i){const e=h0(null);for(const[t,a]of c0(i))Si(i,t)&&(Array.isArray(a)?e[t]=lS(a):a&&typeof a=="object"&&a.constructor===Object?e[t]=Ur(a):e[t]=a);return e}function Ho(i,e){for(;i!==null;){const t=iS(i,e);if(t){if(t.get)return Xn(t.get);if(typeof t.value=="function")return Xn(t.value)}i=nS(i)}return function(){return null}}const rm=Kn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Nc=Kn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ic=Kn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),uS=Kn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Pc=Kn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),cS=Kn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),am=Kn(["#text"]),om=Kn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Bc=Kn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),sm=Kn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ol=Kn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),hS=vi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),fS=vi(/<%[\w\W]*|[\w\W]*%>/gm),dS=vi(/\$\{[\w\W]*/gm),pS=vi(/^data-[\-\w.\u00B7-\uFFFF]+$/),gS=vi(/^aria-[\-\w]+$/),f0=vi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),mS=vi(/^(?:\w+script|data):/i),vS=vi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),d0=vi(/^html$/i),bS=vi(/^[a-z][.\w]*(-[.\w]+)+$/i);var lm=Object.freeze({__proto__:null,ARIA_ATTR:gS,ATTR_WHITESPACE:vS,CUSTOM_ELEMENT:bS,DATA_ATTR:pS,DOCTYPE_NAME:d0,ERB_EXPR:fS,IS_ALLOWED_URI:f0,IS_SCRIPT_OR_DATA:mS,MUSTACHE_EXPR:hS,TMPLIT_EXPR:dS});const yS=1,xS=3,wS=7,DS=8,CS=9,kS=function(){return typeof window>"u"?null:window};var Il=function i(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kS();const t=q=>i(q);if(t.version="3.2.5",t.removed=[],!e||!e.document||e.document.nodeType!==CS||!e.Element)return t.isSupported=!1,t;let{document:a}=e;const s=a,c=s.currentScript,{DocumentFragment:h,HTMLTemplateElement:g,Node:b,Element:D,NodeFilter:L,NamedNodeMap:N=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:W,DOMParser:fe,trustedTypes:Q}=e,ue=D.prototype,ce=Ho(ue,"cloneNode"),ge=Ho(ue,"remove"),Z=Ho(ue,"nextSibling"),te=Ho(ue,"childNodes"),ee=Ho(ue,"parentNode");if(typeof g=="function"){const q=a.createElement("template");q.content&&q.content.ownerDocument&&(a=q.content.ownerDocument)}let ie,ve="";const{implementation:de,createNodeIterator:we,createDocumentFragment:Me,getElementsByTagName:ot}=a,{importNode:Ee}=s;let Ve={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};t.isSupported=typeof c0=="function"&&typeof ee=="function"&&de&&de.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Je,ERB_EXPR:it,TMPLIT_EXPR:G,DATA_ATTR:le,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:k,ATTR_WHITESPACE:E,CUSTOM_ELEMENT:j}=lm;let{IS_ALLOWED_URI:I}=lm,C=null;const v=kt({},[...rm,...Nc,...Ic,...Pc,...am]);let R=null;const be=kt({},[...om,...Bc,...sm,...ol]);let he=Object.seal(h0(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),De=null,He=null,Pe=!0,Ue=!0,$e=!1,rt=!0,ht=!1,yt=!0,Le=!1,xt=!1,At=!1,Dt=!1,Ut=!1,Ye=!1,_t=!0,qt=!1,en=!0,oe=!1,se={},K=null;const S=kt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let A=null;const U=kt({},["audio","video","img","source","image","track"]);let p=null;const x=kt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_="http://www.w3.org/1998/Math/MathML",B="http://www.w3.org/2000/svg",z="http://www.w3.org/1999/xhtml";let X=z,V=!1,H=null;const ne=kt({},[_,B,z],Oc);let $=kt({},["mi","mo","mn","ms","mtext"]),ke=kt({},["annotation-xml"]);const _e=kt({},["title","style","font","a","script"]);let Be=null;const Se=["application/xhtml+xml","text/html"];let T=null,F=null;const Y=a.createElement("form"),re=function(q){return q instanceof RegExp||q instanceof Function},xe=function(){let q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!F||F!==q){if(q&&typeof q=="object"||(q={}),q=Ur(q),Be=Se.indexOf(q.PARSER_MEDIA_TYPE)===-1?"text/html":q.PARSER_MEDIA_TYPE,T=Be==="application/xhtml+xml"?Oc:Dl,C=Si(q,"ALLOWED_TAGS")?kt({},q.ALLOWED_TAGS,T):v,R=Si(q,"ALLOWED_ATTR")?kt({},q.ALLOWED_ATTR,T):be,H=Si(q,"ALLOWED_NAMESPACES")?kt({},q.ALLOWED_NAMESPACES,Oc):ne,p=Si(q,"ADD_URI_SAFE_ATTR")?kt(Ur(x),q.ADD_URI_SAFE_ATTR,T):x,A=Si(q,"ADD_DATA_URI_TAGS")?kt(Ur(U),q.ADD_DATA_URI_TAGS,T):U,K=Si(q,"FORBID_CONTENTS")?kt({},q.FORBID_CONTENTS,T):S,De=Si(q,"FORBID_TAGS")?kt({},q.FORBID_TAGS,T):{},He=Si(q,"FORBID_ATTR")?kt({},q.FORBID_ATTR,T):{},se=!!Si(q,"USE_PROFILES")&&q.USE_PROFILES,Pe=q.ALLOW_ARIA_ATTR!==!1,Ue=q.ALLOW_DATA_ATTR!==!1,$e=q.ALLOW_UNKNOWN_PROTOCOLS||!1,rt=q.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ht=q.SAFE_FOR_TEMPLATES||!1,yt=q.SAFE_FOR_XML!==!1,Le=q.WHOLE_DOCUMENT||!1,Dt=q.RETURN_DOM||!1,Ut=q.RETURN_DOM_FRAGMENT||!1,Ye=q.RETURN_TRUSTED_TYPE||!1,At=q.FORCE_BODY||!1,_t=q.SANITIZE_DOM!==!1,qt=q.SANITIZE_NAMED_PROPS||!1,en=q.KEEP_CONTENT!==!1,oe=q.IN_PLACE||!1,I=q.ALLOWED_URI_REGEXP||f0,X=q.NAMESPACE||z,$=q.MATHML_TEXT_INTEGRATION_POINTS||$,ke=q.HTML_INTEGRATION_POINTS||ke,he=q.CUSTOM_ELEMENT_HANDLING||{},q.CUSTOM_ELEMENT_HANDLING&&re(q.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(he.tagNameCheck=q.CUSTOM_ELEMENT_HANDLING.tagNameCheck),q.CUSTOM_ELEMENT_HANDLING&&re(q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(he.attributeNameCheck=q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),q.CUSTOM_ELEMENT_HANDLING&&typeof q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(he.allowCustomizedBuiltInElements=q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ht&&(Ue=!1),Ut&&(Dt=!0),se&&(C=kt({},am),R=[],se.html===!0&&(kt(C,rm),kt(R,om)),se.svg===!0&&(kt(C,Nc),kt(R,Bc),kt(R,ol)),se.svgFilters===!0&&(kt(C,Ic),kt(R,Bc),kt(R,ol)),se.mathMl===!0&&(kt(C,Pc),kt(R,sm),kt(R,ol))),q.ADD_TAGS&&(C===v&&(C=Ur(C)),kt(C,q.ADD_TAGS,T)),q.ADD_ATTR&&(R===be&&(R=Ur(R)),kt(R,q.ADD_ATTR,T)),q.ADD_URI_SAFE_ATTR&&kt(p,q.ADD_URI_SAFE_ATTR,T),q.FORBID_CONTENTS&&(K===S&&(K=Ur(K)),kt(K,q.FORBID_CONTENTS,T)),en&&(C["#text"]=!0),Le&&kt(C,["html","head","body"]),C.table&&(kt(C,["tbody"]),delete De.tbody),q.TRUSTED_TYPES_POLICY){if(typeof q.TRUSTED_TYPES_POLICY.createHTML!="function")throw Bo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof q.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Bo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ie=q.TRUSTED_TYPES_POLICY,ve=ie.createHTML("")}else ie===void 0&&(ie=function(We,Ie){if(typeof We!="object"||typeof We.createPolicy!="function")return null;let dt=null;const bt="data-tt-policy-suffix";Ie&&Ie.hasAttribute(bt)&&(dt=Ie.getAttribute(bt));const ut="dompurify"+(dt?"#"+dt:"");try{return We.createPolicy(ut,{createHTML:Ht=>Ht,createScriptURL:Ht=>Ht})}catch{return console.warn("TrustedTypes policy "+ut+" could not be created."),null}}(Q,c)),ie!==null&&typeof ve=="string"&&(ve=ie.createHTML(""));Kn&&Kn(q),F=q}},Ae=kt({},[...Nc,...Ic,...uS]),Xe=kt({},[...Pc,...cS]),Re=function(q){Io(t.removed,{element:q});try{ee(q).removeChild(q)}catch{ge(q)}},Ze=function(q,We){try{Io(t.removed,{attribute:We.getAttributeNode(q),from:We})}catch{Io(t.removed,{attribute:null,from:We})}if(We.removeAttribute(q),q==="is")if(Dt||Ut)try{Re(We)}catch{}else try{We.setAttribute(q,"")}catch{}},Ge=function(q){let We=null,Ie=null;if(At)q="<remove></remove>"+q;else{const ut=nm(q,/^[\r\n\t ]+/);Ie=ut&&ut[0]}Be==="application/xhtml+xml"&&X===z&&(q='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+q+"</body></html>");const dt=ie?ie.createHTML(q):q;if(X===z)try{We=new fe().parseFromString(dt,Be)}catch{}if(!We||!We.documentElement){We=de.createDocument(X,"template",null);try{We.documentElement.innerHTML=V?ve:dt}catch{}}const bt=We.body||We.documentElement;return q&&Ie&&bt.insertBefore(a.createTextNode(Ie),bt.childNodes[0]||null),X===z?ot.call(We,Le?"html":"body")[0]:Le?We.documentElement:bt},tt=function(q){return we.call(q.ownerDocument||q,q,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT|L.SHOW_PROCESSING_INSTRUCTION|L.SHOW_CDATA_SECTION,null)},St=function(q){return q instanceof W&&(typeof q.nodeName!="string"||typeof q.textContent!="string"||typeof q.removeChild!="function"||!(q.attributes instanceof N)||typeof q.removeAttribute!="function"||typeof q.setAttribute!="function"||typeof q.namespaceURI!="string"||typeof q.insertBefore!="function"||typeof q.hasChildNodes!="function")},bn=function(q){return typeof b=="function"&&q instanceof b};function Pt(q,We,Ie){al(q,dt=>{dt.call(t,We,Ie,F)})}const Jn=function(q){let We=null;if(Pt(Ve.beforeSanitizeElements,q,null),St(q))return Re(q),!0;const Ie=T(q.nodeName);if(Pt(Ve.uponSanitizeElement,q,{tagName:Ie,allowedTags:C}),q.hasChildNodes()&&!bn(q.firstElementChild)&&qn(/<[/\w!]/g,q.innerHTML)&&qn(/<[/\w!]/g,q.textContent)||q.nodeType===wS||yt&&q.nodeType===DS&&qn(/<[/\w]/g,q.data))return Re(q),!0;if(!C[Ie]||De[Ie]){if(!De[Ie]&&tn(Ie)&&(he.tagNameCheck instanceof RegExp&&qn(he.tagNameCheck,Ie)||he.tagNameCheck instanceof Function&&he.tagNameCheck(Ie)))return!1;if(en&&!K[Ie]){const dt=ee(q)||q.parentNode,bt=te(q)||q.childNodes;if(bt&&dt)for(let ut=bt.length-1;ut>=0;--ut){const Ht=ce(bt[ut],!0);Ht.__removalCount=(q.__removalCount||0)+1,dt.insertBefore(Ht,Z(q))}}return Re(q),!0}return q instanceof D&&!function(dt){let bt=ee(dt);bt&&bt.tagName||(bt={namespaceURI:X,tagName:"template"});const ut=Dl(dt.tagName),Ht=Dl(bt.tagName);return!!H[dt.namespaceURI]&&(dt.namespaceURI===B?bt.namespaceURI===z?ut==="svg":bt.namespaceURI===_?ut==="svg"&&(Ht==="annotation-xml"||$[Ht]):!!Ae[ut]:dt.namespaceURI===_?bt.namespaceURI===z?ut==="math":bt.namespaceURI===B?ut==="math"&&ke[Ht]:!!Xe[ut]:dt.namespaceURI===z?!(bt.namespaceURI===B&&!ke[Ht])&&!(bt.namespaceURI===_&&!$[Ht])&&!Xe[ut]&&(_e[ut]||!Ae[ut]):!(Be!=="application/xhtml+xml"||!H[dt.namespaceURI]))}(q)?(Re(q),!0):Ie!=="noscript"&&Ie!=="noembed"&&Ie!=="noframes"||!qn(/<\/no(script|embed|frames)/i,q.innerHTML)?(ht&&q.nodeType===xS&&(We=q.textContent,al([Je,it,G],dt=>{We=Po(We,dt," ")}),q.textContent!==We&&(Io(t.removed,{element:q.cloneNode()}),q.textContent=We)),Pt(Ve.afterSanitizeElements,q,null),!1):(Re(q),!0)},ri=function(q,We,Ie){if(_t&&(We==="id"||We==="name")&&(Ie in a||Ie in Y))return!1;if(!(Ue&&!He[We]&&qn(le,We))){if(!(Pe&&qn(M,We))){if(!R[We]||He[We]){if(!(tn(q)&&(he.tagNameCheck instanceof RegExp&&qn(he.tagNameCheck,q)||he.tagNameCheck instanceof Function&&he.tagNameCheck(q))&&(he.attributeNameCheck instanceof RegExp&&qn(he.attributeNameCheck,We)||he.attributeNameCheck instanceof Function&&he.attributeNameCheck(We))||We==="is"&&he.allowCustomizedBuiltInElements&&(he.tagNameCheck instanceof RegExp&&qn(he.tagNameCheck,Ie)||he.tagNameCheck instanceof Function&&he.tagNameCheck(Ie))))return!1}else if(!p[We]){if(!qn(I,Po(Ie,E,""))){if((We!=="src"&&We!=="xlink:href"&&We!=="href"||q==="script"||oS(Ie,"data:")!==0||!A[q])&&!($e&&!qn(k,Po(Ie,E,"")))){if(Ie)return!1}}}}}return!0},tn=function(q){return q!=="annotation-xml"&&nm(q,j)},Tn=function(q){Pt(Ve.beforeSanitizeAttributes,q,null);const{attributes:We}=q;if(!We||St(q))return;const Ie={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:R,forceKeepAttr:void 0};let dt=We.length;for(;dt--;){const bt=We[dt],{name:ut,namespaceURI:Ht,value:xi}=bt,Sn=T(ut);let yn=ut==="value"?xi:sS(xi);if(Ie.attrName=Sn,Ie.attrValue=yn,Ie.keepAttr=!0,Ie.forceKeepAttr=void 0,Pt(Ve.uponSanitizeAttribute,q,Ie),yn=Ie.attrValue,!qt||Sn!=="id"&&Sn!=="name"||(Ze(ut,q),yn="user-content-"+yn),yt&&qn(/((--!?|])>)|<\/(style|title)/i,yn)){Ze(ut,q);continue}if(Ie.forceKeepAttr||(Ze(ut,q),!Ie.keepAttr))continue;if(!rt&&qn(/\/>/i,yn)){Ze(ut,q);continue}ht&&al([Je,it,G],Jt=>{yn=Po(yn,Jt," ")});const to=T(q.nodeName);if(ri(to,Sn,yn)){if(ie&&typeof Q=="object"&&typeof Q.getAttributeType=="function"&&!Ht)switch(Q.getAttributeType(to,Sn)){case"TrustedHTML":yn=ie.createHTML(yn);break;case"TrustedScriptURL":yn=ie.createScriptURL(yn)}try{Ht?q.setAttributeNS(Ht,ut,yn):q.setAttribute(ut,yn),St(q)?Re(q):tm(t.removed)}catch{}}}Pt(Ve.afterSanitizeAttributes,q,null)},Pn=function q(We){let Ie=null;const dt=tt(We);for(Pt(Ve.beforeSanitizeShadowDOM,We,null);Ie=dt.nextNode();)Pt(Ve.uponSanitizeShadowNode,Ie,null),Jn(Ie),Tn(Ie),Ie.content instanceof h&&q(Ie.content);Pt(Ve.afterSanitizeShadowDOM,We,null)};return t.sanitize=function(q){let We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=null,dt=null,bt=null,ut=null;if(V=!q,V&&(q="<!-->"),typeof q!="string"&&!bn(q)){if(typeof q.toString!="function")throw Bo("toString is not a function");if(typeof(q=q.toString())!="string")throw Bo("dirty is not a string, aborting")}if(!t.isSupported)return q;if(xt||xe(We),t.removed=[],typeof q=="string"&&(oe=!1),oe){if(q.nodeName){const Sn=T(q.nodeName);if(!C[Sn]||De[Sn])throw Bo("root node is forbidden and cannot be sanitized in-place")}}else if(q instanceof b)Ie=Ge("<!---->"),dt=Ie.ownerDocument.importNode(q,!0),dt.nodeType===yS&&dt.nodeName==="BODY"||dt.nodeName==="HTML"?Ie=dt:Ie.appendChild(dt);else{if(!Dt&&!ht&&!Le&&q.indexOf("<")===-1)return ie&&Ye?ie.createHTML(q):q;if(Ie=Ge(q),!Ie)return Dt?null:Ye?ve:""}Ie&&At&&Re(Ie.firstChild);const Ht=tt(oe?q:Ie);for(;bt=Ht.nextNode();)Jn(bt),Tn(bt),bt.content instanceof h&&Pn(bt.content);if(oe)return q;if(Dt){if(Ut)for(ut=Me.call(Ie.ownerDocument);Ie.firstChild;)ut.appendChild(Ie.firstChild);else ut=Ie;return(R.shadowroot||R.shadowrootmode)&&(ut=Ee.call(s,ut,!0)),ut}let xi=Le?Ie.outerHTML:Ie.innerHTML;return Le&&C["!doctype"]&&Ie.ownerDocument&&Ie.ownerDocument.doctype&&Ie.ownerDocument.doctype.name&&qn(d0,Ie.ownerDocument.doctype.name)&&(xi="<!DOCTYPE "+Ie.ownerDocument.doctype.name+`>
`+xi),ht&&al([Je,it,G],Sn=>{xi=Po(xi,Sn," ")}),ie&&Ye?ie.createHTML(xi):xi},t.setConfig=function(){xe(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),xt=!0},t.clearConfig=function(){F=null,xt=!1},t.isValidAttribute=function(q,We,Ie){F||xe({});const dt=T(q),bt=T(We);return ri(dt,bt,Ie)},t.addHook=function(q,We){typeof We=="function"&&Io(Ve[q],We)},t.removeHook=function(q,We){if(We!==void 0){const Ie=rS(Ve[q],We);return Ie===-1?void 0:aS(Ve[q],Ie,1)[0]}return tm(Ve[q])},t.removeHooks=function(q){Ve[q]=[]},t.removeAllHooks=function(){Ve={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},t}();Il.addHook("uponSanitizeAttribute",function(i,e){/^data-trix-/.test(e.attrName)&&(e.forceKeepAttr=!0)});const AS="style href src width height language class".split(" "),SS="javascript:".split(" "),ES="script iframe form noscript".split(" ");class au extends vn{static setHTML(e,t,a){const s=new this(t,a).sanitize(),c=s.getHTML?s.getHTML():s.outerHTML;e.innerHTML=c}static sanitize(e,t){const a=new this(e,t);return a.sanitize(),a}constructor(e){let{allowedAttributes:t,forbiddenProtocols:a,forbiddenElements:s,purifyOptions:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=t||AS,this.forbiddenProtocols=a||SS,this.forbiddenElements=s||ES,this.purifyOptions=c||{},this.body=TS(e)}sanitize(){this.sanitizeElements(),this.normalizeListElementNesting();const e=Object.assign({},Jv,this.purifyOptions);return Il.setConfig(e),this.body=Il.sanitize(this.body),this.body}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const e=Rl(this.body),t=[];for(;e.nextNode();){const a=e.currentNode;switch(a.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(a)?t.push(a):this.sanitizeElement(a);break;case Node.COMMENT_NODE:t.push(a)}}return t.forEach(a=>Er(a)),this.body}sanitizeElement(e){return e.hasAttribute("href")&&this.forbiddenProtocols.includes(e.protocol)&&e.removeAttribute("href"),Array.from(e.attributes).forEach(t=>{let{name:a}=t;this.allowedAttributes.includes(a)||a.indexOf("data-trix")===0||e.removeAttribute(a)}),e}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(e=>{const t=e.previousElementSibling;t&&Vn(t)==="li"&&t.appendChild(e)}),this.body}elementIsRemovable(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(e)||this.elementIsntSerializable(e)}elementIsForbidden(e){return this.forbiddenElements.includes(Vn(e))}elementIsntSerializable(e){return e.getAttribute("data-trix-serialize")==="false"&&!Qr(e)}}const TS=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";i=i.replace(/<\/html[^>]*>[^]*$/i,"</html>");const e=document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=i,Array.from(e.head.querySelectorAll("style")).forEach(t=>{e.body.appendChild(t)}),e.body},{css:yr}=vs;class gf extends oa{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let e;const t=e=Ct({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),a=this.getHref();return a&&(e=Ct({tagName:"a",editable:!1,attributes:{href:a,tabindex:-1}}),t.appendChild(e)),this.attachment.hasContent()?au.setHTML(e,this.attachment.getContent()):this.createContentNodes().forEach(s=>{e.appendChild(s)}),e.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=Ct({tagName:"progress",attributes:{class:yr.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),t.appendChild(this.progressElement)),[um("left"),t,um("right")]}createCaptionElement(){const e=Ct({tagName:"figcaption",className:yr.attachmentCaption}),t=this.attachmentPiece.getCaption();if(t)e.classList.add("".concat(yr.attachmentCaption,"--edited")),e.textContent=t;else{let a,s;const c=this.getCaptionConfig();if(c.name&&(a=this.attachment.getFilename()),c.size&&(s=this.attachment.getFormattedFilesize()),a){const h=Ct({tagName:"span",className:yr.attachmentName,textContent:a});e.appendChild(h)}if(s){a&&e.appendChild(document.createTextNode(" "));const h=Ct({tagName:"span",className:yr.attachmentSize,textContent:s});e.appendChild(h)}}return e}getClassName(){const e=[yr.attachment,"".concat(yr.attachment,"--").concat(this.attachment.getType())],t=this.attachment.getExtension();return t&&e.push("".concat(yr.attachment,"--").concat(t)),e.join(" ")}getData(){const e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:t}=this.attachmentPiece;return t.isEmpty()||(e.trixAttributes=JSON.stringify(t)),this.attachment.isPending()&&(e.trixSerialize=!1),e}getHref(){if(!LS(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var e;const t=this.attachment.getType(),a=o0((e=of[t])===null||e===void 0?void 0:e.caption);return t==="file"&&(a.name=!0),a}findProgressElement(){var e;return(e=this.findElement())===null||e===void 0?void 0:e.querySelector("progress")}attachmentDidChangeUploadProgress(){const e=this.attachment.getUploadProgress(),t=this.findProgressElement();t&&(t.value=e)}}const um=i=>Ct({tagName:"span",textContent:ru,data:{trixCursorTarget:i,trixSerialize:!1}}),LS=function(i,e){const t=Ct("div");return au.setHTML(t,i||""),t.querySelector(e)};class p0 extends gf{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=Ct({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const e=super.createCaptionElement(...arguments);return e.textContent||e.setAttribute("data-trix-placeholder",gt.captionPlaceholder),e}refresh(e){var t;if(e||(e=(t=this.findElement())===null||t===void 0?void 0:t.querySelector("img")),e)return this.updateAttributesForImage(e)}updateAttributesForImage(e){const t=this.attachment.getURL(),a=this.attachment.getPreviewURL();if(e.src=a||t,a===t)e.removeAttribute("data-trix-serialized-attributes");else{const g=JSON.stringify({src:t});e.setAttribute("data-trix-serialized-attributes",g)}const s=this.attachment.getWidth(),c=this.attachment.getHeight();s!=null&&(e.width=s),c!=null&&(e.height=c);const h=["imageElement",this.attachment.id,e.src,e.width,e.height].join("/");e.dataset.trixStoreKey=h}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class g0 extends oa{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let e=this.attachment?this.createAttachmentNodes():this.createStringNodes();const t=this.createElement();if(t){const a=function(s){for(;(c=s)!==null&&c!==void 0&&c.firstElementChild;){var c;s=s.firstElementChild}return s}(t);Array.from(e).forEach(s=>{a.appendChild(s)}),e=[t]}return e}createAttachmentNodes(){const e=this.attachment.isPreviewable()?p0:gf;return this.createChildView(e,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var e;if((e=this.textConfig)!==null&&e!==void 0&&e.plaintext)return[document.createTextNode(this.string)];{const t=[],a=this.string.split(`
`);for(let s=0;s<a.length;s++){const c=a[s];if(s>0){const h=Ct("br");t.push(h)}if(c.length){const h=document.createTextNode(this.preserveSpaces(c));t.push(h)}}return t}}createElement(){let e,t,a;const s={};for(t in this.attributes){a=this.attributes[t];const h=bh(t);if(h){if(h.tagName){var c;const g=Ct(h.tagName);c?(c.appendChild(g),c=g):e=c=g}if(h.styleProperty&&(s[h.styleProperty]=a),h.style)for(t in h.style)a=h.style[t],s[t]=a}}if(Object.keys(s).length)for(t in e||(e=Ct("span")),s)a=s[t],e.style[t]=a;return e}createContainerElement(){for(const e in this.attributes){const t=this.attributes[e],a=bh(e);if(a&&a.groupTagName){const s={};return s[e]=t,Ct(a.groupTagName,s)}}}preserveSpaces(e){return this.context.isLast&&(e=e.replace(/\ $/,Dr)),e=e.replace(/(\S)\ {3}(\S)/g,"$1 ".concat(Dr," $2")).replace(/\ {2}/g,"".concat(Dr," ")).replace(/\ {2}/g," ".concat(Dr)),(this.context.isFirst||this.context.followsWhitespace)&&(e=e.replace(/^\ /,Dr)),e}}class m0 extends oa{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const e=[],t=pf.groupObjects(this.getPieces()),a=t.length-1;for(let c=0;c<t.length;c++){const h=t[c],g={};c===0&&(g.isFirst=!0),c===a&&(g.isLast=!0),MS(s)&&(g.followsWhitespace=!0);const b=this.findOrCreateCachedChildView(g0,h,{textConfig:this.textConfig,context:g});e.push(...Array.from(b.getNodes()||[]));var s=h}return e}getPieces(){return Array.from(this.text.getPieces()).filter(e=>!e.hasAttribute("blockBreak"))}}const MS=i=>/\s$/.test(i==null?void 0:i.toString()),{css:cm}=vs;class v0 extends oa{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const e=[document.createComment("block")];if(this.block.isEmpty())e.push(Ct("br"));else{var t;const a=(t=dn(this.block.getLastAttribute()))===null||t===void 0?void 0:t.text,s=this.findOrCreateCachedChildView(m0,this.block.text,{textConfig:a});e.push(...Array.from(s.getNodes()||[])),this.shouldAddExtraNewlineElement()&&e.push(Ct("br"))}if(this.attributes.length)return e;{let a;const{tagName:s}=Gn.default;this.block.isRTL()&&(a={dir:"rtl"});const c=Ct({tagName:s,attributes:a});return e.forEach(h=>c.appendChild(h)),[c]}}createContainerElement(e){const t={};let a;const s=this.attributes[e],{tagName:c,htmlAttributes:h=[]}=dn(s);if(e===0&&this.block.isRTL()&&Object.assign(t,{dir:"rtl"}),s==="attachmentGallery"){const g=this.block.getBlockBreakPosition();a="".concat(cm.attachmentGallery," ").concat(cm.attachmentGallery,"--").concat(g)}return Object.entries(this.block.htmlAttributes).forEach(g=>{let[b,D]=g;h.includes(b)&&(t[b]=D)}),Ct({tagName:c,className:a,attributes:t})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class ou extends oa{static render(e){const t=Ct("div"),a=new this(e,{element:t});return a.render(),a.sync(),t}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new QA,this.setDocument(this.object)}setDocument(e){e.isEqualTo(this.document)||(this.document=this.object=e)}render(){if(this.childViews=[],this.shadowElement=Ct("div"),!this.document.isEmpty()){const e=pf.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(e).forEach(t=>{const a=this.findOrCreateCachedChildView(v0,t);Array.from(a.getNodes()).map(s=>this.shadowElement.appendChild(s))})}}isSynced(){return FS(this.shadowElement,this.element)}sync(){const e=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(e),this.didSync()}didSync(){return this.elementStore.reset(hm(this.element)),hf(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const e=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(t=>{e.appendChild(t.cloneNode(!0))}),Array.from(hm(e)).forEach(t=>{const a=this.elementStore.remove(t);a&&t.parentNode.replaceChild(a,t)}),e}}const hm=i=>i.querySelectorAll("[data-trix-store-key]"),FS=(i,e)=>fm(i.innerHTML)===fm(e.innerHTML),fm=i=>i.replace(/&nbsp;/g," ");function $n(i,e,t){return(e=_S(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function _S(i){var e=function(t,a){if(typeof t!="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var c=s.call(t,a);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}(i,"string");return typeof e=="symbol"?e:String(e)}function Vt(i,e){return RS(i,b0(i,e,"get"))}function mf(i,e,t){return OS(i,b0(i,e,"set"),t),t}function b0(i,e,t){if(!e.has(i))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(i)}function RS(i,e){return e.get?e.get.call(i):e.value}function OS(i,e,t){if(e.set)e.set.call(i,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function sl(i,e,t){if(!e.has(i))throw new TypeError("attempted to get private field on non-instance");return t}function y0(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xo(i,e,t){y0(i,e),e.set(i,t)}class sa extends aa{static registerType(e,t){t.type=e,this.types[e]=t}static fromJSON(e){const t=this.types[e.type];if(t)return t.fromJSON(e)}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=ui.box(t)}copyWithAttributes(e){return new this.constructor(this.getValue(),e)}copyWithAdditionalAttributes(e){return this.copyWithAttributes(this.attributes.merge(e))}copyWithoutAttribute(e){return this.copyWithAttributes(this.attributes.remove(e))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(e){return this.attributes.get(e)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(e){return this.attributes.has(e)}hasSameStringValueAsPiece(e){return e&&this.toString()===e.toString()}hasSameAttributesAsPiece(e){return e&&(this.attributes===e.attributes||this.attributes.isEqualTo(e.attributes))}isBlockBreak(){return!1}isEqualTo(e){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(e)&&this.hasSameStringValueAsPiece(e)&&this.hasSameAttributesAsPiece(e)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(e){return this.getAttribute("href")===e.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(e){return!1}}$n(sa,"types",{});class x0 extends Nl{constructor(e){super(...arguments),this.url=e}perform(e){const t=new Image;t.onload=()=>(t.width=this.width=t.naturalWidth,t.height=this.height=t.naturalHeight,e(!0,t)),t.onerror=()=>e(!1),t.src=this.url}}class eo extends aa{static attachmentForFile(e){const t=new this(this.attributesForFile(e));return t.setFile(e),t}static attributesForFile(e){return new ui({filename:e.name,filesize:e.size,contentType:e.type})}static fromJSON(e){return new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.releaseFile=this.releaseFile.bind(this),this.attributes=ui.box(e),this.didChangeAttributes()}getAttribute(e){return this.attributes.get(e)}hasAttribute(e){return this.attributes.has(e)}getAttributes(){return this.attributes.toObject()}setAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=this.attributes.merge(e);var a,s,c,h;if(!this.attributes.isEqualTo(t))return this.attributes=t,this.didChangeAttributes(),(a=this.previewDelegate)===null||a===void 0||(s=a.attachmentDidChangeAttributes)===null||s===void 0||s.call(a,this),(c=this.delegate)===null||c===void 0||(h=c.attachmentDidChangeAttributes)===null||h===void 0?void 0:h.call(c,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):eo.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const e=this.attributes.get("filesize");return typeof e=="number"?Zv.formatter(e):""}getExtension(){var e;return(e=this.getFilename().match(/\.(\w+)$/))===null||e===void 0?void 0:e[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(e){if(this.file=e,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(e){var t,a;if(this.uploadProgress!==e)return this.uploadProgress=e,(t=this.uploadProgressDelegate)===null||t===void 0||(a=t.attachmentDidChangeUploadProgress)===null||a===void 0?void 0:a.call(t,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(e){var t,a,s,c;if(e!==this.getPreviewURL())return this.previewURL=e,(t=this.previewDelegate)===null||t===void 0||(a=t.attachmentDidChangeAttributes)===null||a===void 0||a.call(t,this),(s=this.delegate)===null||s===void 0||(c=s.attachmentDidChangePreviewURL)===null||c===void 0?void 0:c.call(s,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(e,t){if(e&&e!==this.getPreviewURL())return this.preloadingURL=e,new x0(e).then(a=>{let{width:s,height:c}=a;return this.getWidth()&&this.getHeight()||this.setAttributes({width:s,height:c}),this.preloadingURL=null,this.setPreviewURL(e),t==null?void 0:t()}).catch(()=>(this.preloadingURL=null,t==null?void 0:t()))}}$n(eo,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class Ga extends sa{static fromJSON(e){return new this(eo.fromJSON(e.attachment),e.attributes)}constructor(e){super(...arguments),this.attachment=e,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(e){this.hasAttribute(e)&&(this.attachment.hasAttribute(e)||this.attachment.setAttributes(this.attributes.slice([e])),this.attributes=this.attributes.remove(e))}removeProhibitedAttributes(){const e=this.attributes.slice(Ga.permittedAttributes);e.isEqualTo(this.attributes)||(this.attributes=e)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(e){var t;return super.isEqualTo(e)&&this.attachment.id===(e==null||(t=e.attachment)===null||t===void 0?void 0:t.id)}toString(){return"￼"}toJSON(){const e=super.toJSON(...arguments);return e.attachment=this.attachment,e}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}$n(Ga,"permittedAttributes",["caption","presentation"]),sa.registerType("attachment",Ga);class vf extends sa{static fromJSON(e){return new this(e.string,e.attributes)}constructor(e){super(...arguments),this.string=(t=>t.replace(/\r\n?/g,`
`))(e),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const e=super.toJSON(...arguments);return e.string=this.string,e}canBeConsolidatedWith(e){return e&&this.hasSameConstructorAs(e)&&this.hasSameAttributesAsPiece(e)}consolidateWith(e){return new this.constructor(this.toString()+e.toString(),this.attributes)}splitAtOffset(e){let t,a;return e===0?(t=null,a=this):e===this.length?(t=this,a=null):(t=new this.constructor(this.string.slice(0,e),this.attributes),a=new this.constructor(this.string.slice(e),this.attributes)),[t,a]}toConsole(){let{string:e}=this;return e.length>15&&(e=e.slice(0,14)+"…"),JSON.stringify(e.toString())}}sa.registerType("string",vf);class Pl extends aa{static box(e){return e instanceof this?e:new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=e.slice(0),this.length=this.objects.length}indexOf(e){return this.objects.indexOf(e)}splice(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return new this.constructor(cf(this.objects,...t))}eachObject(e){return this.objects.map((t,a)=>e(t,a))}insertObjectAtIndex(e,t){return this.splice(t,0,e)}insertSplittableListAtIndex(e,t){return this.splice(t,0,...e.objects)}insertSplittableListAtPosition(e,t){const[a,s]=this.splitObjectAtPosition(t);return new this.constructor(a).insertSplittableListAtIndex(e,s)}editObjectAtIndex(e,t){return this.replaceObjectAtIndex(t(this.objects[e]),e)}replaceObjectAtIndex(e,t){return this.splice(t,1,e)}removeObjectAtIndex(e){return this.splice(e,1)}getObjectAtIndex(e){return this.objects[e]}getSplittableListInRange(e){const[t,a,s]=this.splitObjectsAtRange(e);return new this.constructor(t.slice(a,s+1))}selectSplittableList(e){const t=this.objects.filter(a=>e(a));return new this.constructor(t)}removeObjectsInRange(e){const[t,a,s]=this.splitObjectsAtRange(e);return new this.constructor(t).splice(a,s-a+1)}transformObjectsInRange(e,t){const[a,s,c]=this.splitObjectsAtRange(e),h=a.map((g,b)=>s<=b&&b<=c?t(g):g);return new this.constructor(h)}splitObjectsAtRange(e){let t,[a,s,c]=this.splitObjectAtPosition(IS(e));return[a,t]=new this.constructor(a).splitObjectAtPosition(PS(e)+c),[a,s,t-1]}getObjectAtPosition(e){const{index:t}=this.findIndexAndOffsetAtPosition(e);return this.objects[t]}splitObjectAtPosition(e){let t,a;const{index:s,offset:c}=this.findIndexAndOffsetAtPosition(e),h=this.objects.slice(0);if(s!=null)if(c===0)t=s,a=0;else{const g=this.getObjectAtIndex(s),[b,D]=g.splitAtOffset(c);h.splice(s,1,b,D),t=s+1,a=b.getLength()-c}else t=h.length,a=0;return[h,t,a]}consolidate(){const e=[];let t=this.objects[0];return this.objects.slice(1).forEach(a=>{var s,c;(s=(c=t).canBeConsolidatedWith)!==null&&s!==void 0&&s.call(c,a)?t=t.consolidateWith(a):(e.push(t),t=a)}),t&&e.push(t),new this.constructor(e)}consolidateFromIndexToIndex(e,t){const a=this.objects.slice(0).slice(e,t+1),s=new this.constructor(a).consolidate().toArray();return this.splice(e,a.length,...s)}findIndexAndOffsetAtPosition(e){let t,a=0;for(t=0;t<this.objects.length;t++){const s=a+this.objects[t].getLength();if(a<=e&&e<s)return{index:t,offset:e-a};a=s}return{index:null,offset:null}}findPositionAtIndexAndOffset(e,t){let a=0;for(let s=0;s<this.objects.length;s++){const c=this.objects[s];if(s<e)a+=c.getLength();else if(s===e){a+=t;break}}return a}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(e=>this.endPosition+=e.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(e){return super.isEqualTo(...arguments)||NS(this.objects,e==null?void 0:e.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(e=>e.inspect()).join(", "),"]")}}}const NS=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(i.length!==e.length)return!1;let t=!0;for(let a=0;a<i.length;a++){const s=i[a];t&&!s.isEqualTo(e[a])&&(t=!1)}return t},IS=i=>i[0],PS=i=>i[1];class Li extends aa{static textForAttachmentWithAttributes(e,t){return new this([new Ga(e,t)])}static textForStringWithAttributes(e,t){return new this([new vf(e,t)])}static fromJSON(e){return new this(Array.from(e).map(t=>sa.fromJSON(t)))}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const t=e.filter(a=>!a.isEmpty());this.pieceList=new Pl(t)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(e){return new this.constructor(e.consolidate().toArray())}copyUsingObjectMap(e){const t=this.getPieces().map(a=>e.find(a)||a);return new this.constructor(t)}appendText(e){return this.insertTextAtPosition(e,this.getLength())}insertTextAtPosition(e,t){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(e.pieceList,t))}removeTextAtRange(e){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(e))}replaceTextAtRange(e,t){return this.removeTextAtRange(t).insertTextAtPosition(e,t[0])}moveTextFromRangeToPosition(e,t){if(e[0]<=t&&t<=e[1])return;const a=this.getTextAtRange(e),s=a.getLength();return e[0]<t&&(t-=s),this.removeTextAtRange(e).insertTextAtPosition(a,t)}addAttributeAtRange(e,t,a){const s={};return s[e]=t,this.addAttributesAtRange(s,a)}addAttributesAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,a=>a.copyWithAdditionalAttributes(e)))}removeAttributeAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,a=>a.copyWithoutAttribute(e)))}setAttributesAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,a=>a.copyWithAttributes(e)))}getAttributesAtPosition(e){var t;return((t=this.pieceList.getObjectAtPosition(e))===null||t===void 0?void 0:t.getAttributes())||{}}getCommonAttributes(){const e=Array.from(this.pieceList.toArray()).map(t=>t.getAttributes());return ui.fromCommonAttributesOfObjects(e).toObject()}getCommonAttributesAtRange(e){return this.getTextAtRange(e).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(e,t){let a,s=a=t;const c=this.getLength();for(;s>0&&this.getCommonAttributesAtRange([s-1,a])[e];)s--;for(;a<c&&this.getCommonAttributesAtRange([t,a+1])[e];)a++;return[s,a]}getTextAtRange(e){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(e))}getStringAtRange(e){return this.pieceList.getSplittableListInRange(e).toString()}getStringAtPosition(e){return this.getStringAtRange([e,e+1])}startsWithString(e){return this.getStringAtRange([0,e.length])===e}endsWithString(e){const t=this.getLength();return this.getStringAtRange([t-e.length,t])===e}getAttachmentPieces(){return this.pieceList.toArray().filter(e=>!!e.attachment)}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getAttachmentAndPositionById(e){let t=0;for(const s of this.pieceList.toArray()){var a;if(((a=s.attachment)===null||a===void 0?void 0:a.id)===e)return{attachment:s.attachment,position:t};t+=s.length}return{attachment:null,position:null}}getAttachmentById(e){const{attachment:t}=this.getAttachmentAndPositionById(e);return t}getRangeOfAttachment(e){const t=this.getAttachmentAndPositionById(e.id),a=t.position;if(e=t.attachment)return[a,a+1]}updateAttributesForAttachment(e,t){const a=this.getRangeOfAttachment(t);return a?this.addAttributesAtRange(e,a):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(e){var t;return super.isEqualTo(e)||(e==null||(t=e.pieceList)===null||t===void 0?void 0:t.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(e){return this.pieceList.eachObject(e)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(e){return this.pieceList.getObjectAtPosition(e)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const e=this.pieceList.selectSplittableList(t=>t.isSerializable());return this.copyWithPieceList(e)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(e=>JSON.parse(e.toConsole())))}getDirection(){return YA(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class zi extends aa{static fromJSON(e){return new this(Li.fromJSON(e.text),e.attributes,e.htmlAttributes)}constructor(e,t,a){super(...arguments),this.text=BS(e||new Li),this.attributes=t||[],this.htmlAttributes=a||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(e){return!!super.isEqualTo(e)||this.text.isEqualTo(e==null?void 0:e.text)&&na(this.attributes,e==null?void 0:e.attributes)&&Qa(this.htmlAttributes,e==null?void 0:e.htmlAttributes)}copyWithText(e){return new zi(e,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(e){return new zi(this.text,e,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(e){const t=e.find(this.text);return t?this.copyWithText(t):this.copyWithText(this.text.copyUsingObjectMap(e))}addAttribute(e){const t=this.attributes.concat(dm(e));return this.copyWithAttributes(t)}addHTMLAttribute(e,t){const a=Object.assign({},this.htmlAttributes,{[e]:t});return new zi(this.text,this.attributes,a)}removeAttribute(e){const{listAttribute:t}=dn(e),a=gm(gm(this.attributes,e),t);return this.copyWithAttributes(a)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return pm(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(e){return this.attributes[e-1]}hasAttribute(e){return this.attributes.includes(e)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return pm(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(e=>dn(e).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const e=this.getLastNestableAttribute();return e?this.removeAttribute(e):this}increaseNestingLevel(){const e=this.getLastNestableAttribute();if(e){const t=this.attributes.lastIndexOf(e),a=cf(this.attributes,t+1,0,...dm(e));return this.copyWithAttributes(a)}return this}getListItemAttributes(){return this.attributes.filter(e=>dn(e).listAttribute)}isListItem(){var e;return(e=dn(this.getLastAttribute()))===null||e===void 0?void 0:e.listAttribute}isTerminalBlock(){var e;return(e=dn(this.getLastAttribute()))===null||e===void 0?void 0:e.terminal}breaksOnReturn(){var e;return(e=dn(this.getLastAttribute()))===null||e===void 0?void 0:e.breakOnReturn}findLineBreakInDirectionFromPosition(e,t){const a=this.toString();let s;switch(e){case"forward":s=a.indexOf(`
`,t);break;case"backward":s=a.slice(0,t).lastIndexOf(`
`)}if(s!==-1)return s}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(e){return!this.hasAttributes()&&!e.hasAttributes()&&this.getDirection()===e.getDirection()}consolidateWith(e){const t=Li.textForStringWithAttributes(`
`),a=this.getTextWithoutBlockBreak().appendText(t);return this.copyWithText(a.appendText(e.text))}splitAtOffset(e){let t,a;return e===0?(t=null,a=this):e===this.getLength()?(t=this,a=null):(t=this.copyWithText(this.text.getTextAtRange([0,e])),a=this.copyWithText(this.text.getTextAtRange([e,this.getLength()]))),[t,a]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return w0(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(e){return this.attributes[e]}canBeGroupedWith(e,t){const a=e.getAttributes(),s=a[t],c=this.attributes[t];return c===s&&!(dn(c).group===!1&&!(()=>{if(!rl){rl=[];for(const h in Gn){const{listAttribute:g}=Gn[h];g!=null&&rl.push(g)}}return rl})().includes(a[t+1]))&&(this.getDirection()===e.getDirection()||e.isEmpty())}}const BS=function(i){return i=HS(i),i=zS(i)},HS=function(i){let e=!1;const t=i.getPieces();let a=t.slice(0,t.length-1);const s=t[t.length-1];return s?(a=a.map(c=>c.isBlockBreak()?(e=!0,US(c)):c),e?new Li([...a,s]):i):i},WS=Li.textForStringWithAttributes(`
`,{blockBreak:!0}),zS=function(i){return w0(i)?i:i.appendText(WS)},w0=function(i){const e=i.getLength();return e===0?!1:i.getTextAtRange([e-1,e]).isBlockBreak()},US=i=>i.copyWithoutAttribute("blockBreak"),dm=function(i){const{listAttribute:e}=dn(i);return e?[e,i]:[i]},pm=i=>i.slice(-1)[0],gm=function(i,e){const t=i.lastIndexOf(e);return t===-1?i:cf(i,t,1)};class gi extends aa{static fromJSON(e){return new this(Array.from(e).map(t=>zi.fromJSON(t)))}static fromString(e,t){const a=Li.textForStringWithAttributes(e,t);return new this([new zi(a)])}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),e.length===0&&(e=[new zi]),this.blockList=Pl.box(e)}isEmpty(){const e=this.getBlockAtIndex(0);return this.blockList.length===1&&e.isEmpty()&&!e.hasAttributes()}copy(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(e)}copyUsingObjectsFromDocument(e){const t=new ZA(e.getObjects());return this.copyUsingObjectMap(t)}copyUsingObjectMap(e){const t=this.getBlocks().map(a=>e.find(a)||a.copyUsingObjectMap(e));return new this.constructor(t)}copyWithBaseBlockAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.getBlocks().map(a=>{const s=e.concat(a.getAttributes());return a.copyWithAttributes(s)});return new this.constructor(t)}replaceBlock(e,t){const a=this.blockList.indexOf(e);return a===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(t,a))}insertDocumentAtRange(e,t){const{blockList:a}=e;t=Bt(t);let[s]=t;const{index:c,offset:h}=this.locationFromPosition(s);let g=this;const b=this.getBlockAtPosition(s);return ir(t)&&b.isEmpty()&&!b.hasAttributes()?g=new this.constructor(g.blockList.removeObjectAtIndex(c)):b.getBlockBreakPosition()===h&&s++,g=g.removeTextAtRange(t),new this.constructor(g.blockList.insertSplittableListAtPosition(a,s))}mergeDocumentAtRange(e,t){let a,s;t=Bt(t);const[c]=t,h=this.locationFromPosition(c),g=this.getBlockAtIndex(h.index).getAttributes(),b=e.getBaseBlockAttributes(),D=g.slice(-b.length);if(na(b,D)){const W=g.slice(0,-b.length);a=e.copyWithBaseBlockAttributes(W)}else a=e.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(g);const L=a.getBlockCount(),N=a.getBlockAtIndex(0);if(na(g,N.getAttributes())){const W=N.getTextWithoutBlockBreak();if(s=this.insertTextAtRange(W,t),L>1){a=new this.constructor(a.getBlocks().slice(1));const fe=c+W.getLength();s=s.insertDocumentAtRange(a,fe)}}else s=this.insertDocumentAtRange(a,t);return s}insertTextAtRange(e,t){t=Bt(t);const[a]=t,{index:s,offset:c}=this.locationFromPosition(a),h=this.removeTextAtRange(t);return new this.constructor(h.blockList.editObjectAtIndex(s,g=>g.copyWithText(g.text.insertTextAtPosition(e,c))))}removeTextAtRange(e){let t;e=Bt(e);const[a,s]=e;if(ir(e))return this;const[c,h]=Array.from(this.locationRangeFromRange(e)),g=c.index,b=c.offset,D=this.getBlockAtIndex(g),L=h.index,N=h.offset,W=this.getBlockAtIndex(L);if(s-a==1&&D.getBlockBreakPosition()===b&&W.getBlockBreakPosition()!==N&&W.text.getStringAtPosition(N)===`
`)t=this.blockList.editObjectAtIndex(L,fe=>fe.copyWithText(fe.text.removeTextAtRange([N,N+1])));else{let fe;const Q=D.text.getTextAtRange([0,b]),ue=W.text.getTextAtRange([N,W.getLength()]),ce=Q.appendText(ue);fe=g!==L&&b===0&&D.getAttributeLevel()>=W.getAttributeLevel()?W.copyWithText(ce):D.copyWithText(ce);const ge=L+1-g;t=this.blockList.splice(g,ge,fe)}return new this.constructor(t)}moveTextFromRangeToPosition(e,t){let a;e=Bt(e);const[s,c]=e;if(s<=t&&t<=c)return this;let h=this.getDocumentAtRange(e),g=this.removeTextAtRange(e);const b=s<t;b&&(t-=h.getLength());const[D,...L]=h.getBlocks();return L.length===0?(a=D.getTextWithoutBlockBreak(),b&&(t+=1)):a=D.text,g=g.insertTextAtRange(a,t),L.length===0?g:(h=new this.constructor(L),t+=a.getLength(),g.insertDocumentAtRange(h,t))}addAttributeAtRange(e,t,a){let{blockList:s}=this;return this.eachBlockAtRange(a,(c,h,g)=>s=s.editObjectAtIndex(g,function(){return dn(e)?c.addAttribute(e,t):h[0]===h[1]?c:c.copyWithText(c.text.addAttributeAtRange(e,t,h))})),new this.constructor(s)}addAttribute(e,t){let{blockList:a}=this;return this.eachBlock((s,c)=>a=a.editObjectAtIndex(c,()=>s.addAttribute(e,t))),new this.constructor(a)}removeAttributeAtRange(e,t){let{blockList:a}=this;return this.eachBlockAtRange(t,function(s,c,h){dn(e)?a=a.editObjectAtIndex(h,()=>s.removeAttribute(e)):c[0]!==c[1]&&(a=a.editObjectAtIndex(h,()=>s.copyWithText(s.text.removeAttributeAtRange(e,c))))}),new this.constructor(a)}updateAttributesForAttachment(e,t){const a=this.getRangeOfAttachment(t),[s]=Array.from(a),{index:c}=this.locationFromPosition(s),h=this.getTextAtIndex(c);return new this.constructor(this.blockList.editObjectAtIndex(c,g=>g.copyWithText(h.updateAttributesForAttachment(e,t))))}removeAttributeForAttachment(e,t){const a=this.getRangeOfAttachment(t);return this.removeAttributeAtRange(e,a)}setHTMLAttributeAtPosition(e,t,a){const s=this.getBlockAtPosition(e),c=s.addHTMLAttribute(t,a);return this.replaceBlock(s,c)}insertBlockBreakAtRange(e){let t;e=Bt(e);const[a]=e,{offset:s}=this.locationFromPosition(a),c=this.removeTextAtRange(e);return s===0&&(t=[new zi]),new this.constructor(c.blockList.insertSplittableListAtPosition(new Pl(t),a))}applyBlockAttributeAtRange(e,t,a){const s=this.expandRangeToLineBreaksAndSplitBlocks(a);let c=s.document;a=s.range;const h=dn(e);if(h.listAttribute){c=c.removeLastListAttributeAtRange(a,{exceptAttributeName:e});const g=c.convertLineBreaksToBlockBreaksInRange(a);c=g.document,a=g.range}else c=h.exclusive?c.removeBlockAttributesAtRange(a):h.terminal?c.removeLastTerminalAttributeAtRange(a):c.consolidateBlocksAtRange(a);return c.addAttributeAtRange(e,t,a)}removeLastListAttributeAtRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:a}=this;return this.eachBlockAtRange(e,function(s,c,h){const g=s.getLastAttribute();g&&dn(g).listAttribute&&g!==t.exceptAttributeName&&(a=a.editObjectAtIndex(h,()=>s.removeAttribute(g)))}),new this.constructor(a)}removeLastTerminalAttributeAtRange(e){let{blockList:t}=this;return this.eachBlockAtRange(e,function(a,s,c){const h=a.getLastAttribute();h&&dn(h).terminal&&(t=t.editObjectAtIndex(c,()=>a.removeAttribute(h)))}),new this.constructor(t)}removeBlockAttributesAtRange(e){let{blockList:t}=this;return this.eachBlockAtRange(e,function(a,s,c){a.hasAttributes()&&(t=t.editObjectAtIndex(c,()=>a.copyWithoutAttributes()))}),new this.constructor(t)}expandRangeToLineBreaksAndSplitBlocks(e){let t;e=Bt(e);let[a,s]=e;const c=this.locationFromPosition(a),h=this.locationFromPosition(s);let g=this;const b=g.getBlockAtIndex(c.index);if(c.offset=b.findLineBreakInDirectionFromPosition("backward",c.offset),c.offset!=null&&(t=g.positionFromLocation(c),g=g.insertBlockBreakAtRange([t,t+1]),h.index+=1,h.offset-=g.getBlockAtIndex(c.index).getLength(),c.index+=1),c.offset=0,h.offset===0&&h.index>c.index)h.index-=1,h.offset=g.getBlockAtIndex(h.index).getBlockBreakPosition();else{const D=g.getBlockAtIndex(h.index);D.text.getStringAtRange([h.offset-1,h.offset])===`
`?h.offset-=1:h.offset=D.findLineBreakInDirectionFromPosition("forward",h.offset),h.offset!==D.getBlockBreakPosition()&&(t=g.positionFromLocation(h),g=g.insertBlockBreakAtRange([t,t+1]))}return a=g.positionFromLocation(c),s=g.positionFromLocation(h),{document:g,range:e=Bt([a,s])}}convertLineBreaksToBlockBreaksInRange(e){e=Bt(e);let[t]=e;const a=this.getStringAtRange(e).slice(0,-1);let s=this;return a.replace(/.*?\n/g,function(c){t+=c.length,s=s.insertBlockBreakAtRange([t-1,t])}),{document:s,range:e}}consolidateBlocksAtRange(e){e=Bt(e);const[t,a]=e,s=this.locationFromPosition(t).index,c=this.locationFromPosition(a).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(s,c))}getDocumentAtRange(e){e=Bt(e);const t=this.blockList.getSplittableListInRange(e).toArray();return new this.constructor(t)}getStringAtRange(e){let t;const a=e=Bt(e);return a[a.length-1]!==this.getLength()&&(t=-1),this.getDocumentAtRange(e).toString().slice(0,t)}getBlockAtIndex(e){return this.blockList.getObjectAtIndex(e)}getBlockAtPosition(e){const{index:t}=this.locationFromPosition(e);return this.getBlockAtIndex(t)}getTextAtIndex(e){var t;return(t=this.getBlockAtIndex(e))===null||t===void 0?void 0:t.text}getTextAtPosition(e){const{index:t}=this.locationFromPosition(e);return this.getTextAtIndex(t)}getPieceAtPosition(e){const{index:t,offset:a}=this.locationFromPosition(e);return this.getTextAtIndex(t).getPieceAtPosition(a)}getCharacterAtPosition(e){const{index:t,offset:a}=this.locationFromPosition(e);return this.getTextAtIndex(t).getStringAtRange([a,a+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(e){return this.blockList.eachObject(e)}eachBlockAtRange(e,t){let a,s;e=Bt(e);const[c,h]=e,g=this.locationFromPosition(c),b=this.locationFromPosition(h);if(g.index===b.index)return a=this.getBlockAtIndex(g.index),s=[g.offset,b.offset],t(a,s,g.index);for(let D=g.index;D<=b.index;D++)if(a=this.getBlockAtIndex(D),a){switch(D){case g.index:s=[g.offset,a.text.getLength()];break;case b.index:s=[0,b.offset];break;default:s=[0,a.text.getLength()]}t(a,s,D)}}getCommonAttributesAtRange(e){e=Bt(e);const[t]=e;if(ir(e))return this.getCommonAttributesAtPosition(t);{const a=[],s=[];return this.eachBlockAtRange(e,function(c,h){if(h[0]!==h[1])return a.push(c.text.getCommonAttributesAtRange(h)),s.push(mm(c))}),ui.fromCommonAttributesOfObjects(a).merge(ui.fromCommonAttributesOfObjects(s)).toObject()}}getCommonAttributesAtPosition(e){let t,a;const{index:s,offset:c}=this.locationFromPosition(e),h=this.getBlockAtIndex(s);if(!h)return{};const g=mm(h),b=h.text.getAttributesAtPosition(c),D=h.text.getAttributesAtPosition(c-1),L=Object.keys(ta).filter(N=>ta[N].inheritable);for(t in D)a=D[t],(a===b[t]||L.includes(t))&&(g[t]=a);return g}getRangeOfCommonAttributeAtPosition(e,t){const{index:a,offset:s}=this.locationFromPosition(t),c=this.getTextAtIndex(a),[h,g]=Array.from(c.getExpandedRangeForAttributeAtOffset(e,s)),b=this.positionFromLocation({index:a,offset:h}),D=this.positionFromLocation({index:a,offset:g});return Bt([b,D])}getBaseBlockAttributes(){let e=this.getBlockAtIndex(0).getAttributes();for(let t=1;t<this.getBlockCount();t++){const a=this.getBlockAtIndex(t).getAttributes(),s=Math.min(e.length,a.length);e=(()=>{const c=[];for(let h=0;h<s&&a[h]===e[h];h++)c.push(a[h]);return c})()}return e}getAttachmentById(e){for(const t of this.getAttachments())if(t.id===e)return t}getAttachmentPieces(){let e=[];return this.blockList.eachObject(t=>{let{text:a}=t;return e=e.concat(a.getAttachmentPieces())}),e}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getRangeOfAttachment(e){let t=0;const a=this.blockList.toArray();for(let s=0;s<a.length;s++){const{text:c}=a[s],h=c.getRangeOfAttachment(e);if(h)return Bt([t+h[0],t+h[1]]);t+=c.getLength()}}getLocationRangeOfAttachment(e){const t=this.getRangeOfAttachment(e);return this.locationRangeFromRange(t)}getAttachmentPieceForAttachment(e){for(const t of this.getAttachmentPieces())if(t.attachment===e)return t}findRangesForBlockAttribute(e){let t=0;const a=[];return this.getBlocks().forEach(s=>{const c=s.getLength();s.hasAttribute(e)&&a.push([t,t+c]),t+=c}),a}findRangesForTextAttribute(e){let{withValue:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=0,s=[];const c=[];return this.getPieces().forEach(h=>{const g=h.getLength();(function(b){return t?b.getAttribute(e)===t:b.hasAttribute(e)})(h)&&(s[1]===a?s[1]=a+g:c.push(s=[a,a+g])),a+=g}),c}locationFromPosition(e){const t=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,e));if(t.index!=null)return t;{const a=this.getBlocks();return{index:a.length-1,offset:a[a.length-1].getLength()}}}positionFromLocation(e){return this.blockList.findPositionAtIndexAndOffset(e.index,e.offset)}locationRangeFromPosition(e){return Bt(this.locationFromPosition(e))}locationRangeFromRange(e){if(!(e=Bt(e)))return;const[t,a]=Array.from(e),s=this.locationFromPosition(t),c=this.locationFromPosition(a);return Bt([s,c])}rangeFromLocationRange(e){let t;e=Bt(e);const a=this.positionFromLocation(e[0]);return ir(e)||(t=this.positionFromLocation(e[1])),Bt([a,t])}isEqualTo(e){return this.blockList.isEqualTo(e==null?void 0:e.blockList)}getTexts(){return this.getBlocks().map(e=>e.text)}getPieces(){const e=[];return Array.from(this.getTexts()).forEach(t=>{e.push(...Array.from(t.getPieces()||[]))}),e}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const e=[];return this.blockList.eachObject(t=>e.push(t.copyWithText(t.text.toSerializableText()))),new this.constructor(e)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(e=>JSON.parse(e.text.toConsole())))}}const mm=function(i){const e={},t=i.getLastAttribute();return t&&(e[t]=!0),e},Hc=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:i=Uo(i),attributes:e,type:"string"}},vm=(i,e)=>{try{return JSON.parse(i.getAttribute("data-trix-".concat(e)))}catch{return{}}};class us extends vn{static parse(e,t){const a=new this(e,t);return a.parse(),a}constructor(e){let{referenceElement:t,purifyOptions:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=e,this.referenceElement=t,this.purifyOptions=a,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return gi.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer(),au.setHTML(this.containerElement,this.html,{purifyOptions:this.purifyOptions});const e=Rl(this.containerElement,{usingFilter:jS});for(;e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=Ct({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return Er(this.containerElement)}processNode(e){switch(e.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(e))return this.appendBlockForTextNode(e),this.processTextNode(e);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(e),this.processElement(e)}}appendBlockForTextNode(e){const t=e.parentNode;if(t===this.currentBlockElement&&this.isBlockElement(e.previousSibling))return this.appendStringWithAttributes(`
`);if(t===this.containerElement||this.isBlockElement(t)){var a;const s=this.getBlockAttributes(t),c=this.getBlockHTMLAttributes(t);na(s,(a=this.currentBlock)===null||a===void 0?void 0:a.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(s,t,c),this.currentBlockElement=t)}}appendBlockForElement(e){const t=this.isBlockElement(e),a=$r(this.currentBlockElement,e);if(t&&!this.isBlockElement(e.firstChild)){if(!this.isInsignificantTextNode(e.firstChild)||!this.isBlockElement(e.firstElementChild)){const s=this.getBlockAttributes(e),c=this.getBlockHTMLAttributes(e);if(e.firstChild){if(a&&na(s,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(s,e,c),this.currentBlockElement=e}}}else if(this.currentBlockElement&&!a&&!t){const s=this.findParentBlockElement(e);if(s)return this.appendBlockForElement(s);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(e){let{parentElement:t}=e;for(;t&&t!==this.containerElement;){if(this.isBlockElement(t)&&this.blockElements.includes(t))return t;t=t.parentElement}return null}processTextNode(e){let t=e.data;var a;return bm(e.parentNode)||(t=df(t),D0((a=e.previousSibling)===null||a===void 0?void 0:a.textContent)&&(t=qS(t))),this.appendStringWithAttributes(t,this.getTextAttributes(e.parentNode))}processElement(e){let t;if(Qr(e)){if(t=vm(e,"attachment"),Object.keys(t).length){const a=this.getTextAttributes(e);this.appendAttachmentWithAttributes(t,a),e.innerHTML=""}return this.processedElements.push(e)}switch(Vn(e)){case"br":return this.isExtraBR(e)||this.isBlockElement(e.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(e)),this.processedElements.push(e);case"img":t={url:e.getAttribute("src"),contentType:"image"};const a=(s=>{const c=s.getAttribute("width"),h=s.getAttribute("height"),g={};return c&&(g.width=parseInt(c,10)),h&&(g.height=parseInt(h,10)),g})(e);for(const s in a){const c=a[s];t[s]=c}return this.appendAttachmentWithAttributes(t,this.getTextAttributes(e)),this.processedElements.push(e);case"tr":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(xl.tableRowSeparator);break;case"td":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(xl.tableCellSeparator)}}appendBlockForAttributesWithElement(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(t);const s=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},htmlAttributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}}}(e,a);return this.blocks.push(s),s}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(e,t){return this.appendPiece(Hc(e,t))}appendAttachmentWithAttributes(e,t){return this.appendPiece(function(a){return{attachment:a,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(e,t))}appendPiece(e){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(e)}appendStringToTextAtIndex(e,t){const{text:a}=this.blocks[t],s=a[a.length-1];if((s==null?void 0:s.type)!=="string")return a.push(Hc(e));s.string+=e}prependStringToTextAtIndex(e,t){const{text:a}=this.blocks[t],s=a[0];if((s==null?void 0:s.type)!=="string")return a.unshift(Hc(e));s.string=e+s.string}getTextAttributes(e){let t;const a={};for(const s in ta){const c=ta[s];if(c.tagName&&Sr(e,{matchingSelector:c.tagName,untilNode:this.containerElement}))a[s]=!0;else if(c.parser){if(t=c.parser(e),t){let h=!1;for(const g of this.findBlockElementAncestors(e))if(c.parser(g)===t){h=!0;break}h||(a[s]=t)}}else c.styleProperty&&(t=e.style[c.styleProperty],t&&(a[s]=t))}if(Qr(e)){const s=vm(e,"attributes");for(const c in s)t=s[c],a[c]=t}return a}getBlockAttributes(e){const t=[];for(;e&&e!==this.containerElement;){for(const s in Gn){const c=Gn[s];var a;c.parse!==!1&&Vn(e)===c.tagName&&((a=c.test)!==null&&a!==void 0&&a.call(c,e)||!c.test)&&(t.push(s),c.listAttribute&&t.push(c.listAttribute))}e=e.parentNode}return t.reverse()}getBlockHTMLAttributes(e){const t={},a=Object.values(Gn).find(s=>s.tagName===Vn(e));return((a==null?void 0:a.htmlAttributes)||[]).forEach(s=>{e.hasAttribute(s)&&(t[s]=e.getAttribute(s))}),t}findBlockElementAncestors(e){const t=[];for(;e&&e!==this.containerElement;){const a=Vn(e);Go().includes(a)&&t.push(e),e=e.parentNode}return t}isBlockElement(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE&&!Qr(e)&&!Sr(e,{matchingSelector:"td",untilNode:this.containerElement}))return Go().includes(Vn(e))||window.getComputedStyle(e).display==="block"}isInsignificantTextNode(e){if((e==null?void 0:e.nodeType)!==Node.TEXT_NODE||!VS(e.data))return;const{parentNode:t,previousSibling:a,nextSibling:s}=e;return YS(t.previousSibling)&&!this.isBlockElement(t.previousSibling)||bm(t)?void 0:!a||this.isBlockElement(a)||!s||this.isBlockElement(s)}isExtraBR(e){return Vn(e)==="br"&&this.isBlockElement(e.parentNode)&&e.parentNode.lastChild===e}needsTableSeparator(e){if(xl.removeBlankTableCells){var t;const a=(t=e.previousSibling)===null||t===void 0?void 0:t.textContent;return a&&/\S/.test(a)}return e.previousSibling}translateBlockElementMarginsToNewlines(){const e=this.getMarginOfDefaultBlockElement();for(let t=0;t<this.blocks.length;t++){const a=this.getMarginOfBlockElementAtIndex(t);a&&(a.top>2*e.top&&this.prependStringToTextAtIndex(`
`,t),a.bottom>2*e.bottom&&this.appendStringToTextAtIndex(`
`,t))}}getMarginOfBlockElementAtIndex(e){const t=this.blockElements[e];if(t&&t.textContent&&!Go().includes(Vn(t))&&!this.processedElements.includes(t))return ym(t)}getMarginOfDefaultBlockElement(){const e=Ct(Gn.default.tagName);return this.containerElement.appendChild(e),ym(e)}}const bm=function(i){const{whiteSpace:e}=window.getComputedStyle(i);return["pre","pre-wrap","pre-line"].includes(e)},YS=i=>i&&!D0(i.textContent),ym=function(i){const e=window.getComputedStyle(i);if(e.display==="block")return{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}},jS=function(i){return Vn(i)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},qS=i=>i.replace(new RegExp("^".concat(ff.source,"+")),""),VS=i=>new RegExp("^".concat(ff.source,"*$")).test(i),D0=i=>/\s$/.test(i),GS=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],Dh="data-trix-serialized-attributes",$S="[".concat(Dh,"]"),KS=new RegExp("<!--block-->","g"),XS={"application/json":function(i){let e;if(i instanceof gi)e=i;else{if(!(i instanceof HTMLElement))throw new Error("unserializable object");e=us.parse(i.innerHTML).getDocument()}return e.toSerializableDocument().toJSONString()},"text/html":function(i){let e;if(i instanceof gi)e=ou.render(i);else{if(!(i instanceof HTMLElement))throw new Error("unserializable object");e=i.cloneNode(!0)}return Array.from(e.querySelectorAll("[data-trix-serialize=false]")).forEach(t=>{Er(t)}),GS.forEach(t=>{Array.from(e.querySelectorAll("[".concat(t,"]"))).forEach(a=>{a.removeAttribute(t)})}),Array.from(e.querySelectorAll($S)).forEach(t=>{try{const a=JSON.parse(t.getAttribute(Dh));t.removeAttribute(Dh);for(const s in a){const c=a[s];t.setAttribute(s,c)}}catch{}}),e.innerHTML.replace(KS,"")}};var JS=Object.freeze({__proto__:null});class cn extends vn{constructor(e,t){super(...arguments),this.attachmentManager=e,this.attachment=t,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}cn.proxyMethod("attachment.getAttribute"),cn.proxyMethod("attachment.hasAttribute"),cn.proxyMethod("attachment.setAttribute"),cn.proxyMethod("attachment.getAttributes"),cn.proxyMethod("attachment.setAttributes"),cn.proxyMethod("attachment.isPending"),cn.proxyMethod("attachment.isPreviewable"),cn.proxyMethod("attachment.getURL"),cn.proxyMethod("attachment.getHref"),cn.proxyMethod("attachment.getFilename"),cn.proxyMethod("attachment.getFilesize"),cn.proxyMethod("attachment.getFormattedFilesize"),cn.proxyMethod("attachment.getExtension"),cn.proxyMethod("attachment.getContentType"),cn.proxyMethod("attachment.getFile"),cn.proxyMethod("attachment.setFile"),cn.proxyMethod("attachment.releaseFile"),cn.proxyMethod("attachment.getUploadProgress"),cn.proxyMethod("attachment.setUploadProgress");class C0 extends vn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(e).forEach(t=>{this.manageAttachment(t)})}getAttachments(){const e=[];for(const t in this.managedAttachments){const a=this.managedAttachments[t];e.push(a)}return e}manageAttachment(e){return this.managedAttachments[e.id]||(this.managedAttachments[e.id]=new cn(this,e)),this.managedAttachments[e.id]}attachmentIsManaged(e){return e.id in this.managedAttachments}requestRemovalOfAttachment(e){var t,a;if(this.attachmentIsManaged(e))return(t=this.delegate)===null||t===void 0||(a=t.attachmentManagerDidRequestRemovalOfAttachment)===null||a===void 0?void 0:a.call(t,e)}unmanageAttachment(e){const t=this.managedAttachments[e.id];return delete this.managedAttachments[e.id],t}}class k0{constructor(e){this.composition=e,this.document=this.composition.document;const t=this.composition.getSelectedRange();this.startPosition=t[0],this.endPosition=t[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class wr extends vn{constructor(){super(...arguments),this.document=new gi,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(e){var t,a;if(!e.isEqualTo(this.document))return this.document=e,this.refreshAttachments(),this.revision++,(t=this.delegate)===null||t===void 0||(a=t.compositionDidChangeDocument)===null||a===void 0?void 0:a.call(t,e)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(e){var t,a,s,c;let{document:h,selectedRange:g}=e;return(t=this.delegate)===null||t===void 0||(a=t.compositionWillLoadSnapshot)===null||a===void 0||a.call(t),this.setDocument(h??new gi),this.setSelection(g??[0,0]),(s=this.delegate)===null||s===void 0||(c=s.compositionDidLoadSnapshot)===null||c===void 0?void 0:c.call(s)}insertText(e){let{updatePosition:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const a=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(e,a));const s=a[0],c=s+e.getLength();return t&&this.setSelection(c),this.notifyDelegateOfInsertionAtRange([s,c])}insertBlock(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new zi;const t=new gi([e]);return this.insertDocument(t)}insertDocument(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new gi;const t=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(e,t));const a=t[0],s=a+e.getLength();return this.setSelection(s),this.notifyDelegateOfInsertionAtRange([a,s])}insertString(e,t){const a=this.getCurrentTextAttributes(),s=Li.textForStringWithAttributes(e,a);return this.insertText(s,t)}insertBlockBreak(){const e=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(e));const t=e[0],a=t+1;return this.setSelection(a),this.notifyDelegateOfInsertionAtRange([t,a])}insertLineBreak(){const e=new k0(this);if(e.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(e.startPosition);if(e.shouldPrependListItem()){const t=new gi([e.block.copyWithoutText()]);return this.insertDocument(t)}return e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString(`
`)}insertHTML(e){const t=us.parse(e,{purifyOptions:{SAFE_FOR_XML:!0}}).getDocument(),a=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(t,a));const s=a[0],c=s+t.getLength()-1;return this.setSelection(c),this.notifyDelegateOfInsertionAtRange([s,c])}replaceHTML(e){const t=us.parse(e).getDocument().copyUsingObjectsFromDocument(this.document),a=this.getLocationRange({strict:!1}),s=this.document.rangeFromLocationRange(a);return this.setDocument(t),this.setSelection(s)}insertFile(e){return this.insertFiles([e])}insertFiles(e){const t=[];return Array.from(e).forEach(a=>{var s;if((s=this.delegate)!==null&&s!==void 0&&s.compositionShouldAcceptFile(a)){const c=eo.attachmentForFile(a);t.push(c)}}),this.insertAttachments(t)}insertAttachment(e){return this.insertAttachments([e])}insertAttachments(e){let t=new Li;return Array.from(e).forEach(a=>{var s;const c=a.getType(),h=(s=of[c])===null||s===void 0?void 0:s.presentation,g=this.getCurrentTextAttributes();h&&(g.presentation=h);const b=Li.textForAttachmentWithAttributes(a,g);t=t.appendText(b)}),this.insertText(t)}shouldManageDeletingInDirection(e){const t=this.getLocationRange();if(ir(t)){if(e==="backward"&&t[0].offset===0||this.shouldManageMovingCursorInDirection(e))return!0}else if(t[0].index!==t[1].index)return!0;return!1}deleteInDirection(e){let t,a,s,{length:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const h=this.getLocationRange();let g=this.getSelectedRange();const b=ir(g);if(b?a=e==="backward"&&h[0].offset===0:s=h[0].index!==h[1].index,a&&this.canDecreaseBlockAttributeLevel()){const D=this.getBlock();if(D.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(g[0]),D.isEmpty())return!1}return b&&(g=this.getExpandedRangeInDirection(e,{length:c}),e==="backward"&&(t=this.getAttachmentAtRange(g))),t?(this.editAttachment(t),!1):(this.setDocument(this.document.removeTextAtRange(g)),this.setSelection(g[0]),!a&&!s&&void 0)}moveTextFromRange(e){const[t]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(e,t)),this.setSelection(t)}removeAttachment(e){const t=this.document.getRangeOfAttachment(e);if(t)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(t)),this.setSelection(t[0])}removeLastBlockAttribute(){const[e,t]=Array.from(this.getSelectedRange()),a=this.document.getBlockAtPosition(t);return this.removeCurrentAttribute(a.getLastAttribute()),this.setSelection(e)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(e){const t=this.currentAttributes[e];return t!=null&&t!==!1}toggleCurrentAttribute(e){const t=!this.currentAttributes[e];return t?this.setCurrentAttribute(e,t):this.removeCurrentAttribute(e)}canSetCurrentAttribute(e){return dn(e)?this.canSetCurrentBlockAttribute(e):this.canSetCurrentTextAttribute(e)}canSetCurrentTextAttribute(e){const t=this.getSelectedDocument();if(t){for(const a of Array.from(t.getAttachments()))if(!a.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(e){const t=this.getBlock();if(t)return!t.isTerminalBlock()}setCurrentAttribute(e,t){return dn(e)?this.setBlockAttribute(e,t):(this.setTextAttribute(e,t),this.currentAttributes[e]=t,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(e,t,a){var s;const c=this.document.getBlockAtPosition(e),h=(s=dn(c.getLastAttribute()))===null||s===void 0?void 0:s.htmlAttributes;if(c&&h!=null&&h.includes(t)){const g=this.document.setHTMLAttributeAtPosition(e,t,a);this.setDocument(g)}}setTextAttribute(e,t){const a=this.getSelectedRange();if(!a)return;const[s,c]=Array.from(a);if(s!==c)return this.setDocument(this.document.addAttributeAtRange(e,t,a));if(e==="href"){const h=Li.textForStringWithAttributes(t,{href:t});return this.insertText(h)}}setBlockAttribute(e,t){const a=this.getSelectedRange();if(this.canSetCurrentAttribute(e))return this.setDocument(this.document.applyBlockAttributeAtRange(e,t,a)),this.setSelection(a)}removeCurrentAttribute(e){return dn(e)?(this.removeBlockAttribute(e),this.updateCurrentAttributes()):(this.removeTextAttribute(e),delete this.currentAttributes[e],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(e){const t=this.getSelectedRange();if(t)return this.setDocument(this.document.removeAttributeAtRange(e,t))}removeBlockAttribute(e){const t=this.getSelectedRange();if(t)return this.setDocument(this.document.removeAttributeAtRange(e,t))}canDecreaseNestingLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getNestingLevel())>0}canIncreaseNestingLevel(){var e;const t=this.getBlock();if(t){if((e=dn(t.getLastNestableAttribute()))===null||e===void 0||!e.listAttribute)return t.getNestingLevel()>0;{const a=this.getPreviousBlock();if(a)return function(){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return na((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,s.length),s)}(a.getListItemAttributes(),t.getListItemAttributes())}}}decreaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.decreaseNestingLevel()))}increaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var e;const t=(e=this.getBlock())===null||e===void 0?void 0:e.getLastAttribute();if(t)return this.removeCurrentAttribute(t)}decreaseListLevel(){let[e]=Array.from(this.getSelectedRange());const{index:t}=this.document.locationFromPosition(e);let a=t;const s=this.getBlock().getAttributeLevel();let c=this.document.getBlockAtIndex(a+1);for(;c&&c.isListItem()&&!(c.getAttributeLevel()<=s);)a++,c=this.document.getBlockAtIndex(a+1);e=this.document.positionFromLocation({index:t,offset:0});const h=this.document.positionFromLocation({index:a,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([e,h]))}updateCurrentAttributes(){const e=this.getSelectedRange({ignoreLock:!0});if(e){const t=this.document.getCommonAttributesAtRange(e);if(Array.from(vh()).forEach(a=>{t[a]||this.canSetCurrentAttribute(a)||(t[a]=!1)}),!Qa(t,this.currentAttributes))return this.currentAttributes=t,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return Qv.call({},this.currentAttributes)}getCurrentTextAttributes(){const e={};for(const t in this.currentAttributes){const a=this.currentAttributes[t];a!==!1&&bh(t)&&(e[t]=a)}return e}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(e){var t;const a=this.document.locationRangeFromRange(e);return(t=this.delegate)===null||t===void 0?void 0:t.compositionDidRequestChangingSelectionToLocationRange(a)}getSelectedRange(){const e=this.getLocationRange();if(e)return this.document.rangeFromLocationRange(e)}setSelectedRange(e){const t=this.document.locationRangeFromRange(e);return this.getSelectionManager().setLocationRange(t)}getPosition(){const e=this.getLocationRange();if(e)return this.document.positionFromLocation(e[0])}getLocationRange(e){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(e)||Bt({index:0,offset:0})}withTargetLocationRange(e,t){let a;this.targetLocationRange=e;try{a=t()}finally{this.targetLocationRange=null}return a}withTargetRange(e,t){const a=this.document.locationRangeFromRange(e);return this.withTargetLocationRange(a,t)}withTargetDOMRange(e,t){const a=this.createLocationRangeFromDOMRange(e,{strict:!1});return this.withTargetLocationRange(a,t)}getExpandedRangeInDirection(e){let{length:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[a,s]=Array.from(this.getSelectedRange());return e==="backward"?t?a-=t:a=this.translateUTF16PositionFromOffset(a,-1):t?s+=t:s=this.translateUTF16PositionFromOffset(s,1),Bt([a,s])}shouldManageMovingCursorInDirection(e){if(this.editingAttachment)return!0;const t=this.getExpandedRangeInDirection(e);return this.getAttachmentAtRange(t)!=null}moveCursorInDirection(e){let t,a;if(this.editingAttachment)a=this.document.getRangeOfAttachment(this.editingAttachment);else{const s=this.getSelectedRange();a=this.getExpandedRangeInDirection(e),t=!Ol(s,a)}if(e==="backward"?this.setSelectedRange(a[0]):this.setSelectedRange(a[1]),t){const s=this.getAttachmentAtRange(a);if(s)return this.editAttachment(s)}}expandSelectionInDirection(e){let{length:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=this.getExpandedRangeInDirection(e,{length:t});return this.setSelectedRange(a)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(e){const t=this.getPosition(),a=this.document.getRangeOfCommonAttributeAtPosition(e,t);return this.setSelectedRange(a)}selectionContainsAttachments(){var e;return((e=this.getSelectedAttachments())===null||e===void 0?void 0:e.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(e){const t=this.document.locationFromPosition(e);if(t)return this.locationIsCursorTarget(t)}positionIsBlockBreak(e){var t;return(t=this.document.getPieceAtPosition(e))===null||t===void 0?void 0:t.isBlockBreak()}getSelectedDocument(){const e=this.getSelectedRange();if(e)return this.document.getDocumentAtRange(e)}getSelectedAttachments(){var e;return(e=this.getSelectedDocument())===null||e===void 0?void 0:e.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const e=this.document.getAttachments(),{added:t,removed:a}=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const h=[],g=[],b=new Set;s.forEach(L=>{b.add(L)});const D=new Set;return c.forEach(L=>{D.add(L),b.has(L)||h.push(L)}),s.forEach(L=>{D.has(L)||g.push(L)}),{added:h,removed:g}}(this.attachments,e);return this.attachments=e,Array.from(a).forEach(s=>{var c,h;s.delegate=null,(c=this.delegate)===null||c===void 0||(h=c.compositionDidRemoveAttachment)===null||h===void 0||h.call(c,s)}),(()=>{const s=[];return Array.from(t).forEach(c=>{var h,g;c.delegate=this,s.push((h=this.delegate)===null||h===void 0||(g=h.compositionDidAddAttachment)===null||g===void 0?void 0:g.call(h,c))}),s})()}attachmentDidChangeAttributes(e){var t,a;return this.revision++,(t=this.delegate)===null||t===void 0||(a=t.compositionDidEditAttachment)===null||a===void 0?void 0:a.call(t,e)}attachmentDidChangePreviewURL(e){var t,a;return this.revision++,(t=this.delegate)===null||t===void 0||(a=t.compositionDidChangeAttachmentPreviewURL)===null||a===void 0?void 0:a.call(t,e)}editAttachment(e,t){var a,s;if(e!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=e,(a=this.delegate)===null||a===void 0||(s=a.compositionDidStartEditingAttachment)===null||s===void 0?void 0:s.call(a,this.editingAttachment,t)}stopEditingAttachment(){var e,t;this.editingAttachment&&((e=this.delegate)===null||e===void 0||(t=e.compositionDidStopEditingAttachment)===null||t===void 0||t.call(e,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(e,t){return this.setDocument(this.document.updateAttributesForAttachment(e,t))}removeAttributeForAttachment(e,t){return this.setDocument(this.document.removeAttributeForAttachment(e,t))}breakFormattedBlock(e){let{document:t}=e;const{block:a}=e;let s=e.startPosition,c=[s-1,s];a.getBlockBreakPosition()===e.startLocation.offset?(a.breaksOnReturn()&&e.nextCharacter===`
`?s+=1:t=t.removeTextAtRange(c),c=[s,s]):e.nextCharacter===`
`?e.previousCharacter===`
`?c=[s-1,s+1]:(c=[s,s+1],s+=1):e.startLocation.offset-1!=0&&(s+=1);const h=new gi([a.removeLastAttribute().copyWithoutText()]);return this.setDocument(t.insertDocumentAtRange(h,c)),this.setSelection(s)}getPreviousBlock(){const e=this.getLocationRange();if(e){const{index:t}=e[0];if(t>0)return this.document.getBlockAtIndex(t-1)}}getBlock(){const e=this.getLocationRange();if(e)return this.document.getBlockAtIndex(e[0].index)}getAttachmentAtRange(e){const t=this.document.getDocumentAtRange(e);if(t.toString()==="".concat("￼",`
`))return t.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.compositionDidChangeCurrentAttributes)===null||t===void 0?void 0:t.call(e,this.currentAttributes)}notifyDelegateOfInsertionAtRange(e){var t,a;return(t=this.delegate)===null||t===void 0||(a=t.compositionDidPerformInsertionAtRange)===null||a===void 0?void 0:a.call(t,e)}translateUTF16PositionFromOffset(e,t){const a=this.document.toUTF16String(),s=a.offsetFromUCS2Offset(e);return a.offsetToUCS2Offset(s+t)}}wr.proxyMethod("getSelectionManager().getPointRange"),wr.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),wr.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),wr.proxyMethod("getSelectionManager().locationIsCursorTarget"),wr.proxyMethod("getSelectionManager().selectionIsExpanded"),wr.proxyMethod("delegate?.getSelectionManager");class Ch extends vn{constructor(e){super(...arguments),this.composition=e,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(e){let{context:t,consolidatable:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.undoEntries.slice(-1)[0];if(!a||!ZS(s,e,t)){const c=this.createEntry({description:e,context:t});this.undoEntries.push(c),this.redoEntries=[]}}undo(){const e=this.undoEntries.pop();if(e){const t=this.createEntry(e);return this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)}}redo(){const e=this.redoEntries.pop();if(e){const t=this.createEntry(e);return this.undoEntries.push(t),this.composition.loadSnapshot(e.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:e,context:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:e==null?void 0:e.toString(),context:JSON.stringify(t),snapshot:this.composition.getSnapshot()}}}const ZS=(i,e,t)=>(i==null?void 0:i.description)===(e==null?void 0:e.toString())&&(i==null?void 0:i.context)===JSON.stringify(t),Wc="attachmentGallery";class A0{constructor(e){this.document=e.document,this.selectedRange=e.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(e=>this.document=this.document.removeAttributeAtRange(Wc,e))}applyBlockAttribute(){let e=0;this.findRangesOfPieces().forEach(t=>{t[1]-t[0]>1&&(t[0]+=e,t[1]+=e,this.document.getCharacterAtPosition(t[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(t[1]),t[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),t[1]++,e++),t[0]!==0&&this.document.getCharacterAtPosition(t[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(t[0]),t[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),t[0]++,e++),this.document=this.document.applyBlockAttributeAtRange(Wc,!0,t))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(Wc)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const S0=function(i){const e=new A0(i);return e.perform(),e.getSnapshot()},QS=[S0];class E0{constructor(e,t,a){this.insertFiles=this.insertFiles.bind(this),this.composition=e,this.selectionManager=t,this.element=a,this.undoManager=new Ch(this.composition),this.filters=QS.slice(0)}loadDocument(e){return this.loadSnapshot({document:e,selectedRange:[0,0]})}loadHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=us.parse(e,{referenceElement:this.element}).getDocument();return this.loadDocument(t)}loadJSON(e){let{document:t,selectedRange:a}=e;return t=gi.fromJSON(t),this.loadSnapshot({document:t,selectedRange:a})}loadSnapshot(e){return this.undoManager=new Ch(this.composition),this.composition.loadSnapshot(e)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(e){return this.composition.deleteInDirection(e)}insertAttachment(e){return this.composition.insertAttachment(e)}insertAttachments(e){return this.composition.insertAttachments(e)}insertDocument(e){return this.composition.insertDocument(e)}insertFile(e){return this.composition.insertFile(e)}insertFiles(e){return this.composition.insertFiles(e)}insertHTML(e){return this.composition.insertHTML(e)}insertString(e){return this.composition.insertString(e)}insertText(e){return this.composition.insertText(e)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(e){const t=this.getDocument().locationRangeFromRange([e,e+1]);return this.selectionManager.getClientRectAtLocationRange(t)}expandSelectionInDirection(e){return this.composition.expandSelectionInDirection(e)}moveCursorInDirection(e){return this.composition.moveCursorInDirection(e)}setSelectedRange(e){return this.composition.setSelectedRange(e)}activateAttribute(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(e,t)}attributeIsActive(e){return this.composition.hasCurrentAttribute(e)}canActivateAttribute(e){return this.composition.canSetCurrentAttribute(e)}deactivateAttribute(e){return this.composition.removeCurrentAttribute(e)}setHTMLAtributeAtPosition(e,t,a){this.composition.setHTMLAtributeAtPosition(e,t,a)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(e){let{context:t,consolidatable:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(e,{context:t,consolidatable:a})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class T0{constructor(e){this.element=e}findLocationFromContainerAndOffset(e,t){let{strict:a}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},s=0,c=!1;const h={index:0,offset:0},g=this.findAttachmentElementParentForNode(e);g&&(e=g.parentNode,t=Ac(g));const b=Rl(this.element,{usingFilter:L0});for(;b.nextNode();){const D=b.currentNode;if(D===e&&$o(e)){ja(D)||(h.offset+=t);break}if(D.parentNode===e){if(s++===t)break}else if(!$r(e,D)&&s>0)break;Vg(D,{strict:a})?(c&&h.index++,h.offset=0,c=!0):h.offset+=zc(D)}return h}findContainerAndOffsetFromLocation(e){let t,a;if(e.index===0&&e.offset===0){for(t=this.element,a=0;t.firstChild;)if(t=t.firstChild,Sc(t)){a=1;break}return[t,a]}let[s,c]=this.findNodeAndOffsetFromLocation(e);if(s){if($o(s))zc(s)===0?(t=s.parentNode.parentNode,a=Ac(s.parentNode),ja(s,{name:"right"})&&a++):(t=s,a=e.offset-c);else{if(t=s.parentNode,!Vg(s.previousSibling)&&!Sc(t))for(;s===t.lastChild&&(s=t,t=t.parentNode,!Sc(t)););a=Ac(s),e.offset!==0&&a++}return[t,a]}}findNodeAndOffsetFromLocation(e){let t,a,s=0;for(const c of this.getSignificantNodesForIndex(e.index)){const h=zc(c);if(e.offset<=s+h)if($o(c)){if(t=c,a=s,e.offset===a&&ja(t))break}else t||(t=c,a=s);if(s+=h,s>e.offset)break}return[t,a]}findAttachmentElementParentForNode(e){for(;e&&e!==this.element;){if(Qr(e))return e;e=e.parentNode}}getSignificantNodesForIndex(e){const t=[],a=Rl(this.element,{usingFilter:eE});let s=!1;for(;a.nextNode();){const h=a.currentNode;var c;if(Ya(h)){if(c!=null?c++:c=0,c===e)s=!0;else if(s)break}else s&&t.push(h)}return t}}const zc=function(i){return i.nodeType===Node.TEXT_NODE?ja(i)?0:i.textContent.length:Vn(i)==="br"||Qr(i)?1:0},eE=function(i){return tE(i)===NodeFilter.FILTER_ACCEPT?L0(i):NodeFilter.FILTER_REJECT},tE=function(i){return t0(i)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},L0=function(i){return Qr(i.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class M0{createDOMRangeFromPoint(e){let t,{x:a,y:s}=e;if(document.caretPositionFromPoint){const{offsetNode:c,offset:h}=document.caretPositionFromPoint(a,s);return t=document.createRange(),t.setStart(c,h),t}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(a,s);if(document.body.createTextRange){const c=Ko();try{const h=document.body.createTextRange();h.moveToPoint(a,s),h.select()}catch{}return t=Ko(),u0(c),t}}getClientRectsForDOMRange(e){const t=Array.from(e.getClientRects());return[t[0],t[t.length-1]]}}class qr extends vn{constructor(e){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=e,this.locationMapper=new T0(this.element),this.pointMapper=new M0,this.lockCount=0,an("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.strict===!1?this.createLocationRangeFromDOMRange(Ko()):e.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(e){if(this.lockedLocationRange)return;e=Bt(e);const t=this.createDOMRangeFromLocationRange(e);t&&(u0(t),this.updateCurrentLocationRange(e))}setLocationRangeFromPointRange(e){e=Bt(e);const t=this.getLocationAtPoint(e[0]),a=this.getLocationAtPoint(e[1]);this.setLocationRange([t,a])}getClientRectAtLocationRange(e){const t=this.createDOMRangeFromLocationRange(e);if(t)return this.getClientRectsForDOMRange(t)[1]}locationIsCursorTarget(e){const t=Array.from(this.findNodeAndOffsetFromLocation(e))[0];return ja(t)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:e}=this;if(this.lockedLocationRange=null,e!=null)return this.setLocationRange(e)}}clearSelection(){var e;return(e=l0())===null||e===void 0?void 0:e.removeAllRanges()}selectionIsCollapsed(){var e;return((e=Ko())===null||e===void 0?void 0:e.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(e,t){if(e==null||!this.domRangeWithinElement(e))return;const a=this.findLocationFromContainerAndOffset(e.startContainer,e.startOffset,t);if(!a)return;const s=e.collapsed?void 0:this.findLocationFromContainerAndOffset(e.endContainer,e.endOffset,t);return Bt([a,s])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let e;this.paused=!0;const t=()=>{if(this.paused=!1,clearTimeout(a),Array.from(e).forEach(s=>{s.destroy()}),$r(document,this.element))return this.selectionDidChange()},a=setTimeout(t,200);e=["mousemove","keydown"].map(s=>an(s,{onElement:document,withCallback:t}))}selectionDidChange(){if(!this.paused&&!lf(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(e){var t,a;if((e??(e=this.createLocationRangeFromDOMRange(Ko())))&&!Ol(e,this.currentLocationRange))return this.currentLocationRange=e,(t=this.delegate)===null||t===void 0||(a=t.locationRangeDidChange)===null||a===void 0?void 0:a.call(t,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(e){const t=this.findContainerAndOffsetFromLocation(e[0]),a=ir(e)?t:this.findContainerAndOffsetFromLocation(e[1])||t;if(t!=null&&a!=null){const s=document.createRange();return s.setStart(...Array.from(t||[])),s.setEnd(...Array.from(a||[])),s}}getLocationAtPoint(e){const t=this.createDOMRangeFromPoint(e);var a;if(t)return(a=this.createLocationRangeFromDOMRange(t))===null||a===void 0?void 0:a[0]}domRangeWithinElement(e){return e.collapsed?$r(this.element,e.startContainer):$r(this.element,e.startContainer)&&$r(this.element,e.endContainer)}}qr.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),qr.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),qr.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),qr.proxyMethod("pointMapper.createDOMRangeFromPoint"),qr.proxyMethod("pointMapper.getClientRectsForDOMRange");var F0=Object.freeze({__proto__:null,Attachment:eo,AttachmentManager:C0,AttachmentPiece:Ga,Block:zi,Composition:wr,Document:gi,Editor:E0,HTMLParser:us,HTMLSanitizer:au,LineBreakInsertion:k0,LocationMapper:T0,ManagedAttachment:cn,Piece:sa,PointMapper:M0,SelectionManager:qr,SplittableList:Pl,StringPiece:vf,Text:Li,UndoManager:Ch}),nE=Object.freeze({__proto__:null,ObjectView:oa,AttachmentView:gf,BlockView:v0,DocumentView:ou,PieceView:g0,PreviewableAttachmentView:p0,TextView:m0});const{lang:Uc,css:zr,keyNames:iE}=vs,Yc=function(i){return function(){const e=i.apply(this,arguments);e.do(),this.undos||(this.undos=[]),this.undos.push(e.undo)}};class _0 extends vn{constructor(e,t,a){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),$n(this,"makeElementMutable",Yc(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),$n(this,"addToolbar",Yc(()=>{const c=Ct({tagName:"div",className:zr.attachmentToolbar,data:{trixMutable:!0},childNodes:Ct({tagName:"div",className:"trix-button-row",childNodes:Ct({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:Ct({tagName:"button",className:"trix-button trix-button--remove",textContent:Uc.remove,attributes:{title:Uc.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&c.appendChild(Ct({tagName:"div",className:zr.attachmentMetadataContainer,childNodes:Ct({tagName:"span",className:zr.attachmentMetadata,childNodes:[Ct({tagName:"span",className:zr.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),Ct({tagName:"span",className:zr.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),an("click",{onElement:c,withCallback:this.didClickToolbar}),an("click",{onElement:c,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),Vo("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:c,attachment:this.attachment}}),{do:()=>this.element.appendChild(c),undo:()=>Er(c)}})),$n(this,"installCaptionEditor",Yc(()=>{const c=Ct({tagName:"textarea",className:zr.attachmentCaptionEditor,attributes:{placeholder:Uc.captionPlaceholder},data:{trixMutable:!0}});c.value=this.attachmentPiece.getCaption();const h=c.cloneNode();h.classList.add("trix-autoresize-clone"),h.tabIndex=-1;const g=function(){h.value=c.value,c.style.height=h.scrollHeight+"px"};an("input",{onElement:c,withCallback:g}),an("input",{onElement:c,withCallback:this.didInputCaption}),an("keydown",{onElement:c,withCallback:this.didKeyDownCaption}),an("change",{onElement:c,withCallback:this.didChangeCaption}),an("blur",{onElement:c,withCallback:this.didBlurCaption});const b=this.element.querySelector("figcaption"),D=b.cloneNode();return{do:()=>{if(b.style.display="none",D.appendChild(c),D.appendChild(h),D.classList.add("".concat(zr.attachmentCaption,"--editing")),b.parentElement.insertBefore(D,b),g(),this.options.editCaption)return hf(()=>c.focus())},undo(){Er(D),b.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=e,this.element=t,this.container=a,this.options=s,this.attachment=this.attachmentPiece.attachment,Vn(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var e;let t=this.undos.pop();for(this.savePendingCaption();t;)t(),t=this.undos.pop();(e=this.delegate)===null||e===void 0||e.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const c=this.pendingCaption;var e,t,a,s;this.pendingCaption=null,c?(e=this.delegate)===null||e===void 0||(t=e.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||t===void 0||t.call(e,{caption:c},this.attachment):(a=this.delegate)===null||a===void 0||(s=a.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||s===void 0||s.call(a,"caption",this.attachment)}}didClickToolbar(e){return e.preventDefault(),e.stopPropagation()}didClickActionButton(e){var t;if(e.target.getAttribute("data-trix-action")==="remove")return(t=this.delegate)===null||t===void 0?void 0:t.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(e){var t,a;if(iE[e.keyCode]==="return")return e.preventDefault(),this.savePendingCaption(),(t=this.delegate)===null||t===void 0||(a=t.attachmentEditorDidRequestDeselectingAttachment)===null||a===void 0?void 0:a.call(t,this.attachment)}didInputCaption(e){this.pendingCaption=e.target.value.replace(/\s/g," ").trim()}didChangeCaption(e){return this.savePendingCaption()}didBlurCaption(e){return this.savePendingCaption()}}class R0 extends vn{constructor(e,t){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=e,this.composition=t,this.documentView=new ou(this.composition.document,{element:this.element}),an("focus",{onElement:this.element,withCallback:this.didFocus}),an("blur",{onElement:this.element,withCallback:this.didBlur}),an("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),an("mousedown",{onElement:this.element,matchingSelector:Zr,withCallback:this.didClickAttachment}),an("click",{onElement:this.element,matchingSelector:"a".concat(Zr),preventDefault:!0})}didFocus(e){var t;const a=()=>{var s,c;if(!this.focused)return this.focused=!0,(s=this.delegate)===null||s===void 0||(c=s.compositionControllerDidFocus)===null||c===void 0?void 0:c.call(s)};return((t=this.blurPromise)===null||t===void 0?void 0:t.then(a))||a()}didBlur(e){this.blurPromise=new Promise(t=>hf(()=>{var a,s;return lf(this.element)||(this.focused=null,(a=this.delegate)===null||a===void 0||(s=a.compositionControllerDidBlur)===null||s===void 0||s.call(a)),this.blurPromise=null,t()}))}didClickAttachment(e,t){var a,s;const c=this.findAttachmentForElement(t),h=!!Sr(e.target,{matchingSelector:"figcaption"});return(a=this.delegate)===null||a===void 0||(s=a.compositionControllerDidSelectAttachment)===null||s===void 0?void 0:s.call(a,c,{editCaption:h})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var e,t,a,s,c,h;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((a=this.delegate)===null||a===void 0||(s=a.compositionControllerWillSyncDocumentView)===null||s===void 0||s.call(a),this.documentView.sync(),(c=this.delegate)===null||c===void 0||(h=c.compositionControllerDidSyncDocumentView)===null||h===void 0||h.call(c)),(e=this.delegate)===null||e===void 0||(t=e.compositionControllerDidRender)===null||t===void 0?void 0:t.call(e)}rerenderViewForObject(e){return this.invalidateViewForObject(e),this.render()}invalidateViewForObject(e){return this.documentView.invalidateViewForObject(e)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(e,t){var a;if(((a=this.attachmentEditor)===null||a===void 0?void 0:a.attachment)===e)return;const s=this.documentView.findElementForObject(e);if(!s)return;this.uninstallAttachmentEditor();const c=this.composition.document.getAttachmentPieceForAttachment(e);this.attachmentEditor=new _0(c,s,this.element,t),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var e;return(e=this.attachmentEditor)===null||e===void 0?void 0:e.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(e,t){var a,s;return(a=this.delegate)===null||a===void 0||(s=a.compositionControllerWillUpdateAttachment)===null||s===void 0||s.call(a,t),this.composition.updateAttributesForAttachment(e,t)}attachmentEditorDidRequestRemovingAttributeForAttachment(e,t){var a,s;return(a=this.delegate)===null||a===void 0||(s=a.compositionControllerWillUpdateAttachment)===null||s===void 0||s.call(a,t),this.composition.removeAttributeForAttachment(e,t)}attachmentEditorDidRequestRemovalOfAttachment(e){var t,a;return(t=this.delegate)===null||t===void 0||(a=t.compositionControllerDidRequestRemovalOfAttachment)===null||a===void 0?void 0:a.call(t,e)}attachmentEditorDidRequestDeselectingAttachment(e){var t,a;return(t=this.delegate)===null||t===void 0||(a=t.compositionControllerDidRequestDeselectingAttachment)===null||a===void 0?void 0:a.call(t,e)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(e){return this.composition.document.getAttachmentById(parseInt(e.dataset.trixId,10))}}class O0 extends vn{}const N0="data-trix-mutable",rE="[".concat(N0,"]"),aE={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class I0 extends vn{constructor(e){super(e),this.didMutate=this.didMutate.bind(this),this.element=e,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,aE)}stop(){return this.observer.disconnect()}didMutate(e){var t,a;if(this.mutations.push(...Array.from(this.findSignificantMutations(e)||[])),this.mutations.length)return(t=this.delegate)===null||t===void 0||(a=t.elementDidMutate)===null||a===void 0||a.call(t,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(e){return e.filter(t=>this.mutationIsSignificant(t))}mutationIsSignificant(e){if(this.nodeIsMutable(e.target))return!1;for(const t of Array.from(this.nodesModifiedByMutation(e)))if(this.nodeIsSignificant(t))return!0;return!1}nodeIsSignificant(e){return e!==this.element&&!this.nodeIsMutable(e)&&!t0(e)}nodeIsMutable(e){return Sr(e,{matchingSelector:rE})}nodesModifiedByMutation(e){const t=[];switch(e.type){case"attributes":e.attributeName!==N0&&t.push(e.target);break;case"characterData":t.push(e.target.parentNode),t.push(e.target);break;case"childList":t.push(...Array.from(e.addedNodes||[])),t.push(...Array.from(e.removedNodes||[]))}return t}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:e,deletions:t}=this.getTextChangesFromCharacterData(),a=this.getTextChangesFromChildList();Array.from(a.additions).forEach(g=>{Array.from(e).includes(g)||e.push(g)}),t.push(...Array.from(a.deletions||[]));const s={},c=e.join("");c&&(s.textAdded=c);const h=t.join("");return h&&(s.textDeleted=h),s}getMutationsByType(e){return Array.from(this.mutations).filter(t=>t.type===e)}getTextChangesFromChildList(){let e,t;const a=[],s=[];Array.from(this.getMutationsByType("childList")).forEach(g=>{a.push(...Array.from(g.addedNodes||[])),s.push(...Array.from(g.removedNodes||[]))}),a.length===0&&s.length===1&&Ya(s[0])?(e=[],t=[`
`]):(e=kh(a),t=kh(s));const c=e.filter((g,b)=>g!==t[b]).map(Uo),h=t.filter((g,b)=>g!==e[b]).map(Uo);return{additions:c,deletions:h}}getTextChangesFromCharacterData(){let e,t;const a=this.getMutationsByType("characterData");if(a.length){const s=a[0],c=a[a.length-1],h=function(g,b){let D,L;return g=ls.box(g),(b=ls.box(b)).length<g.length?[L,D]=Zg(g,b):[D,L]=Zg(b,g),{added:D,removed:L}}(Uo(s.oldValue),Uo(c.target.data));e=h.added,t=h.removed}return{additions:e?[e]:[],deletions:t?[t]:[]}}}const kh=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];for(const t of Array.from(i))switch(t.nodeType){case Node.TEXT_NODE:e.push(t.data);break;case Node.ELEMENT_NODE:Vn(t)==="br"?e.push(`
`):e.push(...Array.from(kh(t.childNodes)||[]))}return e};class P0 extends Nl{constructor(e){super(...arguments),this.file=e}perform(e){const t=new FileReader;return t.onerror=()=>e(!1),t.onload=()=>{t.onerror=null;try{t.abort()}catch{}return e(!0,this.file)},t.readAsArrayBuffer(this.file)}}class oE{constructor(e){this.element=e}shouldIgnore(e){return!!ms.samsungAndroid&&(this.previousEvent=this.event,this.event=e,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&sE(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var e;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((e=this.event.data)===null||e===void 0?void 0:e.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var e,t;return((e=this.previousEvent)===null||e===void 0?void 0:e.type)==="keydown"&&((t=this.previousEvent)===null||t===void 0?void 0:t.key)==="Unidentified"}}const sE=(i,e)=>xm(i)===xm(e),lE=new RegExp("(".concat("￼","|").concat(ru,"|").concat(Dr,"|\\s)+"),"g"),xm=i=>i.replace(lE," ").trim();class su extends vn{constructor(e){super(...arguments),this.element=e,this.mutationObserver=new I0(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new oE(this.element);for(const t in this.constructor.events)an(t,{onElement:this.element,withCallback:this.handlerFor(t)})}elementDidMutate(e){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidRequestRender)===null||t===void 0?void 0:t.call(e)}requestReparse(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidRequestReparse)===null||t===void 0||t.call(e),this.requestRender()}attachFiles(e){const t=Array.from(e).map(a=>new P0(a));return Promise.all(t).then(a=>{this.handleInput(function(){var s,c;return(s=this.delegate)===null||s===void 0||s.inputControllerWillAttachFiles(),(c=this.responder)===null||c===void 0||c.insertFiles(a),this.requestRender()})})}handlerFor(e){return t=>{t.defaultPrevented||this.handleInput(()=>{if(!lf(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(t))return;this.eventName=e,this.constructor.events[e].call(this,t)}})}}handleInput(e){try{var t;(t=this.delegate)===null||t===void 0||t.inputControllerWillHandleInput(),e.call(this)}finally{var a;(a=this.delegate)===null||a===void 0||a.inputControllerDidHandleInput()}}createLinkHTML(e,t){const a=document.createElement("a");return a.href=e,a.textContent=t||e,a.outerHTML}}var jc;$n(su,"events",{});const{browser:uE,keyNames:B0}=vs;let cE=0;class er extends su{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const t in e){const a=e[t];this.inputSummary[t]=a}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),ia.reset()}elementDidMutate(e){var t,a;return this.isComposing()?(t=this.delegate)===null||t===void 0||(a=t.inputControllerDidAllowUnhandledInput)===null||a===void 0?void 0:a.call(t):this.handleInput(function(){return this.mutationIsSignificant(e)&&(this.mutationIsExpected(e)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(e){let{textAdded:t,textDeleted:a}=e;if(this.inputSummary.preferDocument)return!0;const s=t!=null?t===this.inputSummary.textAdded:!this.inputSummary.textAdded,c=a!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,h=[`
`,` 
`].includes(t)&&!s,g=a===`
`&&!c;if(h&&!g||g&&!h){const D=this.getSelectedRange();if(D){var b;const L=h?t.replace(/\n$/,"").length||-1:(t==null?void 0:t.length)||1;if((b=this.responder)!==null&&b!==void 0&&b.positionIsBlockBreak(D[1]+L))return!0}}return s&&c}mutationIsSignificant(e){var t;const a=Object.keys(e).length>0,s=((t=this.compositionInput)===null||t===void 0?void 0:t.getEndData())==="";return a||!s}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new xr(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(e,t){var a;return((a=this.responder)===null||a===void 0?void 0:a.deleteInDirection(e))!==!1?this.setInputSummary({didDelete:!0}):t?(t.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(e){var t;if(!function(s){if(s==null||!s.setData)return!1;for(const c in Kg){const h=Kg[c];try{if(s.setData(c,h),!s.getData(c)===h)return!1}catch{return!1}}return!0}(e))return;const a=(t=this.responder)===null||t===void 0?void 0:t.getSelectedDocument().toSerializableDocument();return e.setData("application/x-trix-document",JSON.stringify(a)),e.setData("text/html",ou.render(a).innerHTML),e.setData("text/plain",a.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(e){const t={};return Array.from((e==null?void 0:e.types)||[]).forEach(a=>{t[a]=!0}),t.Files||t["application/x-trix-document"]||t["text/html"]||t["text/plain"]}getPastedHTMLUsingHiddenElement(e){const t=this.getSelectedRange(),a={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},s=Ct({style:a,tagName:"div",editable:!0});return document.body.appendChild(s),s.focus(),requestAnimationFrame(()=>{const c=s.innerHTML;return Er(s),this.setSelectedRange(t),e(c)})}}$n(er,"events",{keydown(i){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const e=B0[i.keyCode];if(e){var t;let s=this.keys;["ctrl","alt","shift","meta"].forEach(c=>{var h;i["".concat(c,"Key")]&&(c==="ctrl"&&(c="control"),s=(h=s)===null||h===void 0?void 0:h[c])}),((t=s)===null||t===void 0?void 0:t[e])!=null&&(this.setInputSummary({keyName:e}),ia.reset(),s[e].call(this,i))}if(a0(i)){const s=String.fromCharCode(i.keyCode).toLowerCase();if(s){var a;const c=["alt","shift"].map(h=>{if(i["".concat(h,"Key")])return h}).filter(h=>h);c.push(s),(a=this.delegate)!==null&&a!==void 0&&a.inputControllerDidReceiveKeyboardCommand(c)&&i.preventDefault()}}},keypress(i){if(this.inputSummary.eventName!=null||i.metaKey||i.ctrlKey&&!i.altKey)return;const e=dE(i);var t,a;return e?((t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(a=this.responder)===null||a===void 0||a.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput(i){const{data:e}=i,{textAdded:t}=this.inputSummary;if(t&&t!==e&&t.toUpperCase()===e){var a;const s=this.getSelectedRange();return this.setSelectedRange([s[0],s[1]+t.length]),(a=this.responder)===null||a===void 0||a.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(s)}},dragenter(i){i.preventDefault()},dragstart(i){var e,t;return this.serializeSelectionToDataTransfer(i.dataTransfer),this.draggedRange=this.getSelectedRange(),(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidStartDrag)===null||t===void 0?void 0:t.call(e)},dragover(i){if(this.draggedRange||this.canAcceptDataTransfer(i.dataTransfer)){i.preventDefault();const a={x:i.clientX,y:i.clientY};var e,t;if(!Qa(a,this.draggingPoint))return this.draggingPoint=a,(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidReceiveDragOverPoint)===null||t===void 0?void 0:t.call(e,this.draggingPoint)}},dragend(i){var e,t;(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidCancelDrag)===null||t===void 0||t.call(e),this.draggedRange=null,this.draggingPoint=null},drop(i){var e,t;i.preventDefault();const a=(e=i.dataTransfer)===null||e===void 0?void 0:e.files,s=i.dataTransfer.getData("application/x-trix-document"),c={x:i.clientX,y:i.clientY};if((t=this.responder)===null||t===void 0||t.setLocationRangeFromPointRange(c),a!=null&&a.length)this.attachFiles(a);else if(this.draggedRange){var h,g;(h=this.delegate)===null||h===void 0||h.inputControllerWillMoveText(),(g=this.responder)===null||g===void 0||g.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(s){var b;const D=gi.fromJSONString(s);(b=this.responder)===null||b===void 0||b.insertDocument(D),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(i){var e,t;if((e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(i.clipboardData)&&i.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillCutText(),this.deleteInDirection("backward"),i.defaultPrevented))return this.requestRender()},copy(i){var e;(e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(i.clipboardData)&&i.preventDefault()},paste(i){const e=i.clipboardData||i.testClipboardData,t={clipboard:e};if(!e||pE(i))return void this.getPastedHTMLUsingHiddenElement(ee=>{var ie,ve,de;return t.type="text/html",t.html=ee,(ie=this.delegate)===null||ie===void 0||ie.inputControllerWillPaste(t),(ve=this.responder)===null||ve===void 0||ve.insertHTML(t.html),this.requestRender(),(de=this.delegate)===null||de===void 0?void 0:de.inputControllerDidPaste(t)});const a=e.getData("URL"),s=e.getData("text/html"),c=e.getData("public.url-name");if(a){var h,g,b;let ee;t.type="text/html",ee=c?df(c).trim():a,t.html=this.createLinkHTML(a,ee),(h=this.delegate)===null||h===void 0||h.inputControllerWillPaste(t),this.setInputSummary({textAdded:ee,didDelete:this.selectionIsExpanded()}),(g=this.responder)===null||g===void 0||g.insertHTML(t.html),this.requestRender(),(b=this.delegate)===null||b===void 0||b.inputControllerDidPaste(t)}else if(r0(e)){var D,L,N;t.type="text/plain",t.string=e.getData("text/plain"),(D=this.delegate)===null||D===void 0||D.inputControllerWillPaste(t),this.setInputSummary({textAdded:t.string,didDelete:this.selectionIsExpanded()}),(L=this.responder)===null||L===void 0||L.insertString(t.string),this.requestRender(),(N=this.delegate)===null||N===void 0||N.inputControllerDidPaste(t)}else if(s){var W,fe,Q;t.type="text/html",t.html=s,(W=this.delegate)===null||W===void 0||W.inputControllerWillPaste(t),(fe=this.responder)===null||fe===void 0||fe.insertHTML(t.html),this.requestRender(),(Q=this.delegate)===null||Q===void 0||Q.inputControllerDidPaste(t)}else if(Array.from(e.types).includes("Files")){var ue,ce;const ee=(ue=e.items)===null||ue===void 0||(ue=ue[0])===null||ue===void 0||(ce=ue.getAsFile)===null||ce===void 0?void 0:ce.call(ue);if(ee){var ge,Z,te;const ie=hE(ee);!ee.name&&ie&&(ee.name="pasted-file-".concat(++cE,".").concat(ie)),t.type="File",t.file=ee,(ge=this.delegate)===null||ge===void 0||ge.inputControllerWillAttachFiles(),(Z=this.responder)===null||Z===void 0||Z.insertFile(t.file),this.requestRender(),(te=this.delegate)===null||te===void 0||te.inputControllerDidPaste(t)}}i.preventDefault()},compositionstart(i){return this.getCompositionInput().start(i.data)},compositionupdate(i){return this.getCompositionInput().update(i.data)},compositionend(i){return this.getCompositionInput().end(i.data)},beforeinput(i){this.inputSummary.didInput=!0},input(i){return this.inputSummary.didInput=!0,i.stopPropagation()}}),$n(er,"keys",{backspace(i){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",i)},delete(i){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",i)},return(i){var e,t;return this.setInputSummary({preferDocument:!0}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0?void 0:t.insertLineBreak()},tab(i){var e,t;(e=this.responder)!==null&&e!==void 0&&e.canIncreaseNestingLevel()&&((t=this.responder)===null||t===void 0||t.increaseNestingLevel(),this.requestRender(),i.preventDefault())},left(i){var e;if(this.selectionIsInCursorTarget())return i.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},right(i){var e;if(this.selectionIsInCursorTarget())return i.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},control:{d(i){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",i)},h(i){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",i)},o(i){var e,t;return i.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(i){var e,t;(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.insertString(`
`),this.requestRender(),i.preventDefault()},tab(i){var e,t;(e=this.responder)!==null&&e!==void 0&&e.canDecreaseNestingLevel()&&((t=this.responder)===null||t===void 0||t.decreaseNestingLevel(),this.requestRender(),i.preventDefault())},left(i){if(this.selectionIsInCursorTarget())return i.preventDefault(),this.expandSelectionInDirection("backward")},right(i){if(this.selectionIsInCursorTarget())return i.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(i){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}},meta:{backspace(i){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}}}),er.proxyMethod("responder?.getSelectedRange"),er.proxyMethod("responder?.setSelectedRange"),er.proxyMethod("responder?.expandSelectionInDirection"),er.proxyMethod("responder?.selectionIsInCursorTarget"),er.proxyMethod("responder?.selectionIsExpanded");const hE=i=>{var e;return(e=i.type)===null||e===void 0||(e=e.match(/\/(\w+)$/))===null||e===void 0?void 0:e[1]},fE=!((jc=" ".codePointAt)===null||jc===void 0||!jc.call(" ",0)),dE=function(i){if(i.key&&fE&&i.key.codePointAt(0)===i.keyCode)return i.key;{let e;if(i.which===null?e=i.keyCode:i.which!==0&&i.charCode!==0&&(e=i.charCode),e!=null&&B0[e]!=="escape")return ls.fromCodepoints([e]).toString()}},pE=function(i){const e=i.clipboardData;if(e){if(e.types.includes("text/html")){for(const t of e.types){const a=/^CorePasteboardFlavorType/.test(t),s=/^dyn\./.test(t)&&e.getData(t);if(a||s)return!0}return!1}{const t=e.types.includes("com.apple.webarchive"),a=e.types.includes("com.apple.flat-rtfd");return t||a}}};class xr extends vn{constructor(e){super(...arguments),this.inputController=e,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(e){if(this.data.start=e,this.isSignificant()){var t,a;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((a=this.responder)===null||a===void 0||a.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange()}}update(e){if(this.data.update=e,this.isSignificant()){const t=this.selectPlaceholder();t&&(this.forgetPlaceholder(),this.range=t)}}end(e){return this.data.end=e,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(a=this.responder)===null||a===void 0||a.setSelectedRange(this.range),(s=this.responder)===null||s===void 0||s.insertString(this.data.end),(c=this.responder)===null||c===void 0?void 0:c.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var t,a,s,c}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!uE.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var e,t;return((e=this.data.start)===null||e===void 0?void 0:e.length)===0&&((t=this.data.end)===null||t===void 0?void 0:t.length)>0&&this.range}}xr.proxyMethod("inputController.setInputSummary"),xr.proxyMethod("inputController.requestRender"),xr.proxyMethod("inputController.requestReparse"),xr.proxyMethod("responder?.selectionIsExpanded"),xr.proxyMethod("responder?.insertPlaceholder"),xr.proxyMethod("responder?.selectPlaceholder"),xr.proxyMethod("responder?.forgetPlaceholder");class Jo extends su{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidAllowUnhandledInput)===null||t===void 0?void 0:t.call(e):void 0:this.reparse();var e,t}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var e,t;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(t=this.delegate)===null||t===void 0||t.render(),(e=this.afterRender)===null||e===void 0||e.call(this),this.afterRender=null}reparse(){var e;return(e=this.delegate)===null||e===void 0?void 0:e.reparse()}insertString(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var s;return(s=this.responder)===null||s===void 0?void 0:s.insertString(t,a)})}toggleAttributeIfSupported(e){var t;if(vh().includes(e))return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var a;return(a=this.responder)===null||a===void 0?void 0:a.toggleCurrentAttribute(e)})}activateAttributeIfSupported(e,t){var a;if(vh().includes(e))return(a=this.delegate)===null||a===void 0||a.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var s;return(s=this.responder)===null||s===void 0?void 0:s.setCurrentAttribute(e,t)})}deleteInDirection(e){let{recordUndoEntry:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var a;t&&((a=this.delegate)===null||a===void 0||a.inputControllerWillPerformTyping());const s=()=>{var h;return(h=this.responder)===null||h===void 0?void 0:h.deleteInDirection(e)},c=this.getTargetDOMRange({minLength:this.composing?1:2});return c?this.withTargetDOMRange(c,s):s()}withTargetDOMRange(e,t){var a;return typeof e=="function"&&(t=e,e=this.getTargetDOMRange()),e?(a=this.responder)===null||a===void 0?void 0:a.withTargetDOMRange(e,t.bind(this)):(ia.reset(),t.call(this))}getTargetDOMRange(){var e,t;let{minLength:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const s=(e=(t=this.event).getTargetRanges)===null||e===void 0?void 0:e.call(t);if(s&&s.length){const c=gE(s[0]);if(a===0||c.toString().length>=a)return c}}withEvent(e,t){let a;this.event=e;try{a=t.call(this)}finally{this.event=null}return a}}$n(Jo,"events",{keydown(i){if(a0(i)){var e;const t=bE(i);(e=this.delegate)!==null&&e!==void 0&&e.inputControllerDidReceiveKeyboardCommand(t)&&i.preventDefault()}else{let t=i.key;i.altKey&&(t+="+Alt"),i.shiftKey&&(t+="+Shift");const a=this.constructor.keys[t];if(a)return this.withEvent(i,a)}},paste(i){var e;let t;const a=(e=i.clipboardData)===null||e===void 0?void 0:e.getData("URL");return H0(i)?(i.preventDefault(),this.attachFiles(i.clipboardData.files)):vE(i)?(i.preventDefault(),t={type:"text/plain",string:i.clipboardData.getData("text/plain")},(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(t),(c=this.responder)===null||c===void 0||c.insertString(t.string),this.render(),(h=this.delegate)===null||h===void 0?void 0:h.inputControllerDidPaste(t)):a?(i.preventDefault(),t={type:"text/html",html:this.createLinkHTML(a)},(g=this.delegate)===null||g===void 0||g.inputControllerWillPaste(t),(b=this.responder)===null||b===void 0||b.insertHTML(t.html),this.render(),(D=this.delegate)===null||D===void 0?void 0:D.inputControllerDidPaste(t)):void 0;var s,c,h,g,b,D},beforeinput(i){const e=this.constructor.inputTypes[i.inputType],t=(a=i,!(!/iPhone|iPad/.test(navigator.userAgent)||a.inputType&&a.inputType!=="insertParagraph"));var a;e&&(this.withEvent(i,e),t||this.scheduleRender()),t&&this.render()},input(i){ia.reset()},dragstart(i){var e,t;(e=this.responder)!==null&&e!==void 0&&e.selectionContainsAttachments()&&(i.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange(),point:Vc(i)})},dragenter(i){qc(i)&&i.preventDefault()},dragover(i){if(this.dragging){i.preventDefault();const t=Vc(i);var e;if(!Qa(t,this.dragging.point))return this.dragging.point=t,(e=this.responder)===null||e===void 0?void 0:e.setLocationRangeFromPointRange(t)}else qc(i)&&i.preventDefault()},drop(i){var e,t;if(this.dragging)return i.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),(t=this.responder)===null||t===void 0||t.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(qc(i)){var a;i.preventDefault();const s=Vc(i);return(a=this.responder)===null||a===void 0||a.setLocationRangeFromPointRange(s),this.attachFiles(i.dataTransfer.files)}},dragend(){var i;this.dragging&&((i=this.responder)===null||i===void 0||i.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(i){this.composing&&(this.composing=!1,ms.recentAndroid||this.scheduleRender())}}),$n(Jo,"keys",{ArrowLeft(){var i,e;if((i=this.responder)!==null&&i!==void 0&&i.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},ArrowRight(){var i,e;if((i=this.responder)!==null&&i!==void 0&&i.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},Backspace(){var i,e,t;if((i=this.responder)!==null&&i!==void 0&&i.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.deleteInDirection("backward"),this.render()},Tab(){var i,e;if((i=this.responder)!==null&&i!==void 0&&i.canIncreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.render()},"Tab+Shift"(){var i,e;if((i=this.responder)!==null&&i!==void 0&&i.canDecreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.render()}}),$n(Jo,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var i;this.deleteByDragRange=(i=this.responder)===null||i===void 0?void 0:i.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var i;if((i=this.responder)!==null&&i!==void 0&&i.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var i;if((i=this.responder)!==null&&i!==void 0&&i.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const t in(i=this.responder)===null||i===void 0?void 0:i.getCurrentAttributes()){var i,e;(e=this.responder)===null||e===void 0||e.removeCurrentAttribute(t)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var i;return(i=this.delegate)===null||i===void 0?void 0:i.inputControllerWillPerformRedo()},historyUndo(){var i;return(i=this.delegate)===null||i===void 0?void 0:i.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const i=this.deleteByDragRange;var e;if(i)return this.deleteByDragRange=null,(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.moveTextFromRange(i)})},insertFromPaste(){const{dataTransfer:i}=this.event,e={dataTransfer:i},t=i.getData("URL"),a=i.getData("text/html");if(t){var s;let b;this.event.preventDefault(),e.type="text/html";const D=i.getData("public.url-name");b=D?df(D).trim():t,e.html=this.createLinkHTML(t,b),(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var L;return(L=this.responder)===null||L===void 0?void 0:L.insertHTML(e.html)}),this.afterRender=()=>{var L;return(L=this.delegate)===null||L===void 0?void 0:L.inputControllerDidPaste(e)}}else if(r0(i)){var c;e.type="text/plain",e.string=i.getData("text/plain"),(c=this.delegate)===null||c===void 0||c.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var b;return(b=this.responder)===null||b===void 0?void 0:b.insertString(e.string)}),this.afterRender=()=>{var b;return(b=this.delegate)===null||b===void 0?void 0:b.inputControllerDidPaste(e)}}else if(mE(this.event)){var h;e.type="File",e.file=i.files[0],(h=this.delegate)===null||h===void 0||h.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var b;return(b=this.responder)===null||b===void 0?void 0:b.insertFile(e.file)}),this.afterRender=()=>{var b;return(b=this.delegate)===null||b===void 0?void 0:b.inputControllerDidPaste(e)}}else if(a){var g;this.event.preventDefault(),e.type="text/html",e.html=a,(g=this.delegate)===null||g===void 0||g.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var b;return(b=this.responder)===null||b===void 0?void 0:b.insertHTML(e.html)}),this.afterRender=()=>{var b;return(b=this.delegate)===null||b===void 0?void 0:b.inputControllerDidPaste(e)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var i;return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()})},insertReplacementText(){const i=this.event.dataTransfer.getData("text/plain"),e=this.event.getTargetRanges()[0];this.withTargetDOMRange(e,()=>{this.insertString(i,{updatePosition:!1})})},insertText(){var i;return this.insertString(this.event.data||((i=this.event.dataTransfer)===null||i===void 0?void 0:i.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const gE=function(i){const e=document.createRange();return e.setStart(i.startContainer,i.startOffset),e.setEnd(i.endContainer,i.endOffset),e},qc=i=>{var e;return Array.from(((e=i.dataTransfer)===null||e===void 0?void 0:e.types)||[]).includes("Files")},mE=i=>{var e;return((e=i.dataTransfer.files)===null||e===void 0?void 0:e[0])&&!H0(i)&&!(t=>{let{dataTransfer:a}=t;return a.types.includes("Files")&&a.types.includes("text/html")&&a.getData("text/html").includes("urn:schemas-microsoft-com:office:office")})(i)},H0=function(i){const e=i.clipboardData;if(e)return Array.from(e.types).filter(t=>t.match(/file/i)).length===e.types.length&&e.files.length>=1},vE=function(i){const e=i.clipboardData;if(e)return e.types.includes("text/plain")&&e.types.length===1},bE=function(i){const e=[];return i.altKey&&e.push("alt"),i.shiftKey&&e.push("shift"),e.push(i.key),e},Vc=i=>({x:i.clientX,y:i.clientY}),Ah="[data-trix-attribute]",Sh="[data-trix-action]",yE="".concat(Ah,", ").concat(Sh),lu="[data-trix-dialog]",xE="".concat(lu,"[data-trix-active]"),wE="".concat(lu," [data-trix-method]"),wm="".concat(lu," [data-trix-input]"),Dm=(i,e)=>(e||(e=Fa(i)),i.querySelector("[data-trix-input][name='".concat(e,"']"))),Cm=i=>i.getAttribute("data-trix-action"),Fa=i=>i.getAttribute("data-trix-attribute")||i.getAttribute("data-trix-dialog-attribute");class W0 extends vn{constructor(e){super(e),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=e,this.attributes={},this.actions={},this.resetDialogInputs(),an("mousedown",{onElement:this.element,matchingSelector:Sh,withCallback:this.didClickActionButton}),an("mousedown",{onElement:this.element,matchingSelector:Ah,withCallback:this.didClickAttributeButton}),an("click",{onElement:this.element,matchingSelector:yE,preventDefault:!0}),an("click",{onElement:this.element,matchingSelector:wE,withCallback:this.didClickDialogButton}),an("keydown",{onElement:this.element,matchingSelector:wm,withCallback:this.didKeyDownDialogInput})}didClickActionButton(e,t){var a;(a=this.delegate)===null||a===void 0||a.toolbarDidClickButton(),e.preventDefault();const s=Cm(t);return this.getDialog(s)?this.toggleDialog(s):(c=this.delegate)===null||c===void 0?void 0:c.toolbarDidInvokeAction(s,t);var c}didClickAttributeButton(e,t){var a;(a=this.delegate)===null||a===void 0||a.toolbarDidClickButton(),e.preventDefault();const s=Fa(t);var c;return this.getDialog(s)?this.toggleDialog(s):(c=this.delegate)===null||c===void 0||c.toolbarDidToggleAttribute(s),this.refreshAttributeButtons()}didClickDialogButton(e,t){const a=Sr(t,{matchingSelector:lu});return this[t.getAttribute("data-trix-method")].call(this,a)}didKeyDownDialogInput(e,t){if(e.keyCode===13){e.preventDefault();const a=t.getAttribute("name"),s=this.getDialog(a);this.setAttribute(s)}if(e.keyCode===27)return e.preventDefault(),this.hideDialog()}updateActions(e){return this.actions=e,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((e,t)=>{e.disabled=this.actions[t]===!1})}eachActionButton(e){return Array.from(this.element.querySelectorAll(Sh)).map(t=>e(t,Cm(t)))}updateAttributes(e){return this.attributes=e,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((e,t)=>(e.disabled=this.attributes[t]===!1,this.attributes[t]||this.dialogIsVisible(t)?(e.setAttribute("data-trix-active",""),e.classList.add("trix-active")):(e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"))))}eachAttributeButton(e){return Array.from(this.element.querySelectorAll(Ah)).map(t=>e(t,Fa(t)))}applyKeyboardCommand(e){const t=JSON.stringify(e.sort());for(const a of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const s=a.getAttribute("data-trix-key").split("+");if(JSON.stringify(s.sort())===t)return Vo("mousedown",{onElement:a}),!0}return!1}dialogIsVisible(e){const t=this.getDialog(e);if(t)return t.hasAttribute("data-trix-active")}toggleDialog(e){return this.dialogIsVisible(e)?this.hideDialog():this.showDialog(e)}showDialog(e){var t,a;this.hideDialog(),(t=this.delegate)===null||t===void 0||t.toolbarWillShowDialog();const s=this.getDialog(e);s.setAttribute("data-trix-active",""),s.classList.add("trix-active"),Array.from(s.querySelectorAll("input[disabled]")).forEach(h=>{h.removeAttribute("disabled")});const c=Fa(s);if(c){const h=Dm(s,e);h&&(h.value=this.attributes[c]||"",h.select())}return(a=this.delegate)===null||a===void 0?void 0:a.toolbarDidShowDialog(e)}setAttribute(e){var t;const a=Fa(e),s=Dm(e,a);return!s.willValidate||(s.setCustomValidity(""),s.checkValidity()&&this.isSafeAttribute(s))?((t=this.delegate)===null||t===void 0||t.toolbarDidUpdateAttribute(a,s.value),this.hideDialog()):(s.setCustomValidity("Invalid value"),s.setAttribute("data-trix-validate",""),s.classList.add("trix-validate"),s.focus())}isSafeAttribute(e){return!e.hasAttribute("data-trix-validate-href")||Il.isValidAttribute("a","href",e.value)}removeAttribute(e){var t;const a=Fa(e);return(t=this.delegate)===null||t===void 0||t.toolbarDidRemoveAttribute(a),this.hideDialog()}hideDialog(){const e=this.element.querySelector(xE);var t;if(e)return e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"),this.resetDialogInputs(),(t=this.delegate)===null||t===void 0?void 0:t.toolbarDidHideDialog((a=>a.getAttribute("data-trix-dialog"))(e))}resetDialogInputs(){Array.from(this.element.querySelectorAll(wm)).forEach(e=>{e.setAttribute("disabled","disabled"),e.removeAttribute("data-trix-validate"),e.classList.remove("trix-validate")})}getDialog(e){return this.element.querySelector("[data-trix-dialog=".concat(e,"]"))}}class Zo extends O0{constructor(e){let{editorElement:t,document:a,html:s}=e;super(...arguments),this.editorElement=t,this.selectionManager=new qr(this.editorElement),this.selectionManager.delegate=this,this.composition=new wr,this.composition.delegate=this,this.attachmentManager=new C0(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=uf.getLevel()===2?new Jo(this.editorElement):new er(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new R0(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new W0(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new E0(this.composition,this.selectionManager,this.editorElement),a?this.editor.loadDocument(a):this.editor.loadHTML(s)}registerSelectionManager(){return ia.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return ia.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(e){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(e){return this.currentAttributes=e,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(e){this.pasting&&(this.pastedRange=e)}compositionShouldAcceptFile(e){return this.notifyEditorElement("file-accept",{file:e})}compositionDidAddAttachment(e){const t=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-add",{attachment:t})}compositionDidEditAttachment(e){this.compositionController.rerenderViewForObject(e);const t=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-edit",{attachment:t}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(e){return this.compositionController.invalidateViewForObject(e),this.notifyEditorElement("change")}compositionDidRemoveAttachment(e){const t=this.attachmentManager.unmanageAttachment(e);return this.notifyEditorElement("attachment-remove",{attachment:t})}compositionDidStartEditingAttachment(e,t){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(e),this.compositionController.installAttachmentEditorForAttachment(e,t),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(e){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(e){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=e,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(e,t){return this.toolbarController.hideDialog(),this.composition.editAttachment(e,t)}compositionControllerDidRequestDeselectingAttachment(e){const t=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(e);return this.selectionManager.setLocationRange(t[1])}compositionControllerWillUpdateAttachment(e){return this.editor.recordUndoEntry("Edit Attachment",{context:e.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(e){return this.recordFormattingUndoEntry(e)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(e){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:e})}inputControllerDidPaste(e){return e.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:e})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(e){return this.toolbarController.applyKeyboardCommand(e)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(e){return this.selectionManager.setLocationRangeFromPointRange(e)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(e){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!Ol(this.attachmentLocationRange,e)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(e,t){return this.invokeAction(e,t)}toolbarDidToggleAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.toggleCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(e,t){if(this.recordFormattingUndoEntry(e),this.composition.setCurrentAttribute(e,t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.removeCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(e){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(e){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:e})}toolbarDidHideDialog(e){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:e})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(e){return!!this.actionIsExternal(e)||!((t=this.actions[e])===null||t===void 0||(t=t.test)===null||t===void 0||!t.call(this));var t}invokeAction(e,t){return this.actionIsExternal(e)?this.notifyEditorElement("action-invoke",{actionName:e,invokingElement:t}):(a=this.actions[e])===null||a===void 0||(a=a.perform)===null||a===void 0?void 0:a.call(this);var a}actionIsExternal(e){return/^x-./.test(e)}getCurrentActions(){const e={};for(const t in this.actions)e[t]=this.canInvokeAction(t);return e}updateCurrentActions(){const e=this.getCurrentActions();if(!Qa(e,this.currentActions))return this.currentActions=e,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let e=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(s=>{const{document:c,selectedRange:h}=e;e=s.call(this.editor,e)||{},e.document||(e.document=c),e.selectedRange||(e.selectedRange=h)}),t=e,a=this.composition.getSnapshot(),!Ol(t.selectedRange,a.selectedRange)||!t.document.isEqualTo(a.document))return this.composition.loadSnapshot(e);var t,a}updateInputElement(){const e=function(t,a){const s=XS[a];if(s)return s(t);throw new Error("unknown content type: ".concat(a))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setFormValue(e)}notifyEditorElement(e,t){switch(e){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(e,t)}removeAttachment(e){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(e),this.render()}recordFormattingUndoEntry(e){const t=dn(e),a=this.selectionManager.getLocationRange();if(t||!ir(a))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return[this.getLocationContext(),this.getTimeContext(),...Array.from(t)]}getLocationContext(){const e=this.selectionManager.getLocationRange();return ir(e)?e[0].index:e}getTimeContext(){return ph.interval>0?Math.floor(new Date().getTime()/ph.interval):0}isFocused(){var e;return this.editorElement===((e=this.editorElement.ownerDocument)===null||e===void 0?void 0:e.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}$n(Zo,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return uf.pickFiles(this.editor.insertFiles)}}}),Zo.proxyMethod("getSelectionManager().setLocationRange"),Zo.proxyMethod("getSelectionManager().getLocationRange");var DE=Object.freeze({__proto__:null,AttachmentEditorController:_0,CompositionController:R0,Controller:O0,EditorController:Zo,InputController:su,Level0InputController:er,Level2InputController:Jo,ToolbarController:W0}),CE=Object.freeze({__proto__:null,MutationObserver:I0,SelectionChangeObserver:s0}),kE=Object.freeze({__proto__:null,FileVerificationOperation:P0,ImagePreloadOperation:x0});i0("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class z0 extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=n0.getDefaultHTML())}}let AE=0;const SE=function(i){if(!i.hasAttribute("contenteditable"))return i.setAttribute("contenteditable",""),function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.times=1,an(e,t)}("focus",{onElement:i,withCallback:()=>EE(i)})},EE=function(i){return TE(i),LE()},TE=function(i){var e,t;if((e=(t=document).queryCommandSupported)!==null&&e!==void 0&&e.call(t,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),an("mscontrolselect",{onElement:i,preventDefault:!0})},LE=function(i){var e,t;if((e=(t=document).queryCommandSupported)!==null&&e!==void 0&&e.call(t,"DefaultParagraphSeparator")){const{tagName:a}=Gn.default;if(["div","p"].includes(a))return document.execCommand("DefaultParagraphSeparator",!1,a)}},km=ms.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};i0("trix-editor",`%t {
    display: block;
}

%t:empty::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(Zr,` figcaption textarea {
    resize: none;
}

%t `).concat(Zr,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(Zr,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(km.display,` !important;
    width: `).concat(km.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));var Zi=new WeakMap,Wo=new WeakSet;class ME{constructor(e){var t,a;y0(t=this,a=Wo),a.add(t),Xo(this,Zi,{writable:!0,value:void 0}),this.element=e,mf(this,Zi,e.attachInternals())}connectedCallback(){sl(this,Wo,ll).call(this)}disconnectedCallback(){}get labels(){return Vt(this,Zi).labels}get disabled(){var e;return(e=this.element.inputElement)===null||e===void 0?void 0:e.disabled}set disabled(e){this.element.toggleAttribute("disabled",e)}get required(){return this.element.hasAttribute("required")}set required(e){this.element.toggleAttribute("required",e),sl(this,Wo,ll).call(this)}get validity(){return Vt(this,Zi).validity}get validationMessage(){return Vt(this,Zi).validationMessage}get willValidate(){return Vt(this,Zi).willValidate}setFormValue(e){sl(this,Wo,ll).call(this)}checkValidity(){return Vt(this,Zi).checkValidity()}reportValidity(){return Vt(this,Zi).reportValidity()}setCustomValidity(e){sl(this,Wo,ll).call(this,e)}}function ll(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{required:e,value:t}=this.element,a=e&&!t,s=!!i,c=Ct("input",{required:e}),h=i||c.validationMessage;Vt(this,Zi).setValidity({valueMissing:a,customError:s},h)}var Gc=new WeakMap,$c=new WeakMap,Kc=new WeakMap;class FE{constructor(e){Xo(this,Gc,{writable:!0,value:void 0}),Xo(this,$c,{writable:!0,value:t=>{t.defaultPrevented||t.target===this.element.form&&this.element.reset()}}),Xo(this,Kc,{writable:!0,value:t=>{if(t.defaultPrevented||this.element.contains(t.target))return;const a=Sr(t.target,{matchingSelector:"label"});a&&Array.from(this.labels).includes(a)&&this.element.focus()}}),this.element=e}connectedCallback(){mf(this,Gc,function(e){if(e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby"))return;const t=function(){const a=Array.from(e.labels).map(c=>{if(!c.contains(e))return c.textContent}).filter(c=>c),s=a.join(" ");return s?e.setAttribute("aria-label",s):e.removeAttribute("aria-label")};return t(),an("focus",{onElement:e,withCallback:t})}(this.element)),window.addEventListener("reset",Vt(this,$c),!1),window.addEventListener("click",Vt(this,Kc),!1)}disconnectedCallback(){var e;(e=Vt(this,Gc))===null||e===void 0||e.destroy(),window.removeEventListener("reset",Vt(this,$c),!1),window.removeEventListener("click",Vt(this,Kc),!1)}get labels(){const e=[];this.element.id&&this.element.ownerDocument&&e.push(...Array.from(this.element.ownerDocument.querySelectorAll("label[for='".concat(this.element.id,"']"))||[]));const t=Sr(this.element,{matchingSelector:"label"});return t&&[this.element,null].includes(t.control)&&e.push(t),e}get disabled(){return console.warn("This browser does not support the [disabled] attribute for trix-editor elements."),!1}set disabled(e){console.warn("This browser does not support the [disabled] attribute for trix-editor elements.")}get required(){return console.warn("This browser does not support the [required] attribute for trix-editor elements."),!1}set required(e){console.warn("This browser does not support the [required] attribute for trix-editor elements.")}get validity(){return console.warn("This browser does not support the validity property for trix-editor elements."),null}get validationMessage(){return console.warn("This browser does not support the validationMessage property for trix-editor elements."),""}get willValidate(){return console.warn("This browser does not support the willValidate property for trix-editor elements."),!1}setFormValue(e){}checkValidity(){return console.warn("This browser does not support checkValidity() for trix-editor elements."),!0}reportValidity(){return console.warn("This browser does not support reportValidity() for trix-editor elements."),!0}setCustomValidity(e){console.warn("This browser does not support setCustomValidity(validationMessage) for trix-editor elements.")}}var Rn=new WeakMap;class Bl extends HTMLElement{constructor(){super(),Xo(this,Rn,{writable:!0,value:void 0}),mf(this,Rn,this.constructor.formAssociated?new ME(this):new FE(this))}get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++AE),this.trixId)}get labels(){return Vt(this,Rn).labels}get disabled(){return Vt(this,Rn).disabled}set disabled(e){Vt(this,Rn).disabled=e}get required(){return Vt(this,Rn).required}set required(e){Vt(this,Rn).required=e}get validity(){return Vt(this,Rn).validity}get validationMessage(){return Vt(this,Rn).validationMessage}get willValidate(){return Vt(this,Rn).willValidate}get type(){return this.localName}get toolbarElement(){var e;if(this.hasAttribute("toolbar"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const t="trix-toolbar-".concat(this.trixId);return this.setAttribute("toolbar",t),this.internalToolbar=Ct("trix-toolbar",{id:t}),this.parentNode.insertBefore(this.internalToolbar,this),this.internalToolbar}}get form(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.form}get inputElement(){var e;if(this.hasAttribute("input"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("input"));if(this.parentNode){const t="trix-input-".concat(this.trixId);this.setAttribute("input",t);const a=Ct("input",{type:"hidden",id:t});return this.parentNode.insertBefore(a,this.nextElementSibling),a}}get editor(){var e;return(e=this.editorController)===null||e===void 0?void 0:e.editor}get name(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.name}get value(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.value}set value(e){var t;this.defaultValue=e,(t=this.editor)===null||t===void 0||t.loadHTML(this.defaultValue)}attributeChangedCallback(e,t,a){e==="connected"&&this.isConnected&&t!=null&&t!==a&&requestAnimationFrame(()=>this.reconnect())}notify(e,t){if(this.editorController)return Vo("trix-".concat(e),{onElement:this,attributes:t})}setFormValue(e){this.inputElement&&(this.inputElement.value=e,Vt(this,Rn).setFormValue(e))}connectedCallback(){this.hasAttribute("data-trix-internal")||(SE(this),function(e){e.hasAttribute("role")||e.setAttribute("role","textbox")}(this),this.editorController||(Vo("trix-before-initialize",{onElement:this}),this.editorController=new Zo({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>Vo("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),Vt(this,Rn).connectedCallback(),this.toggleAttribute("connected",!0),function(e){!document.querySelector(":focus")&&e.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===e&&e.focus()}(this))}disconnectedCallback(){var e;(e=this.editorController)===null||e===void 0||e.unregisterSelectionManager(),Vt(this,Rn).disconnectedCallback(),this.toggleAttribute("connected",!1)}reconnect(){this.removeInternalToolbar(),this.disconnectedCallback(),this.connectedCallback()}removeInternalToolbar(){var e;(e=this.internalToolbar)===null||e===void 0||e.remove(),this.internalToolbar=null}checkValidity(){return Vt(this,Rn).checkValidity()}reportValidity(){return Vt(this,Rn).reportValidity()}setCustomValidity(e){Vt(this,Rn).setCustomValidity(e)}formDisabledCallback(e){this.inputElement&&(this.inputElement.disabled=e),this.toggleAttribute("contenteditable",!e)}formResetCallback(){this.reset()}reset(){this.value=this.defaultValue}}$n(Bl,"formAssociated","ElementInternals"in window),$n(Bl,"observedAttributes",["connected"]);const Eh={VERSION:_A,config:vs,core:JS,models:F0,views:nE,controllers:DE,observers:CE,operations:kE,elements:Object.freeze({__proto__:null,TrixEditorElement:Bl,TrixToolbarElement:z0}),filters:Object.freeze({__proto__:null,Filter:A0,attachmentGalleryFilter:S0})};Object.assign(Eh,F0),window.Trix=Eh,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",z0),customElements.get("trix-editor")||customElements.define("trix-editor",Bl)},0);window.EasyMDE=ux;window.Viewer=Rh;window.viewimg=i=>{var a;if(!((a=i.target)==null?void 0:a.src))return;let t=new Rh(i.target,{inline:!1,viewed(){t.zoomTo(1)},hide(){console.log("hide"),t.destroy()}});t.show()};typeof window.Pickr>"u"&&(window.Pickr=Ux);je.updateLocale("ko",j1);typeof window.moment>"u"&&(window.moment=je);typeof window.axios>"u"&&(window.axios=pn);typeof window.flatpickr>"u"&&(window.flatpickr=mn);typeof window.Pikaday>"u"&&(window.Pikaday=FA);typeof window.Trix>"u"&&(window.Trix=Eh)});export default _E();
